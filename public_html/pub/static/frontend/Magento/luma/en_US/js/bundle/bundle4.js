require.config({
    config: {
        'jsbuild':{"Frame_Design/lib/bower_components/blueimp-canvas-to-blob/test/vendor/mocha.js":"(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\r\n(function (process){\r\nmodule.exports = process.env.COV\r\n  ? require('./lib-cov/mocha')\r\n  : require('./lib/mocha');\r\n\r\n}).call(this,require('_process'))\r\n},{\"./lib-cov/mocha\":undefined,\"./lib/mocha\":14,\"_process\":51}],2:[function(require,module,exports){\r\n/* eslint-disable no-unused-vars */\r\nmodule.exports = function(type) {\r\n  return function() {};\r\n};\r\n\r\n},{}],3:[function(require,module,exports){\r\n/**\r\n * Module exports.\r\n */\r\n\r\nexports.EventEmitter = EventEmitter;\r\n\r\n/**\r\n * Object#hasOwnProperty reference.\r\n */\r\nvar objToString = Object.prototype.toString;\r\n\r\n/**\r\n * Check if a value is an array.\r\n *\r\n * @api private\r\n * @param {*} val The value to test.\r\n * @return {boolean} true if the value is a boolean, otherwise false.\r\n */\r\nfunction isArray(val) {\r\n  return objToString.call(val) === '[object Array]';\r\n}\r\n\r\n/**\r\n * Event emitter constructor.\r\n *\r\n * @api public\r\n */\r\nfunction EventEmitter() {}\r\n\r\n/**\r\n * Add a listener.\r\n *\r\n * @api public\r\n * @param {string} name Event name.\r\n * @param {Function} fn Event handler.\r\n * @return {EventEmitter} Emitter instance.\r\n */\r\nEventEmitter.prototype.on = function(name, fn) {\r\n  if (!this.$events) {\r\n    this.$events = {};\r\n  }\r\n\r\n  if (!this.$events[name]) {\r\n    this.$events[name] = fn;\r\n  } else if (isArray(this.$events[name])) {\r\n    this.$events[name].push(fn);\r\n  } else {\r\n    this.$events[name] = [this.$events[name], fn];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n/**\r\n * Adds a volatile listener.\r\n *\r\n * @api public\r\n * @param {string} name Event name.\r\n * @param {Function} fn Event handler.\r\n * @return {EventEmitter} Emitter instance.\r\n */\r\nEventEmitter.prototype.once = function(name, fn) {\r\n  var self = this;\r\n\r\n  function on() {\r\n    self.removeListener(name, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.listener = fn;\r\n  this.on(name, on);\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove a listener.\r\n *\r\n * @api public\r\n * @param {string} name Event name.\r\n * @param {Function} fn Event handler.\r\n * @return {EventEmitter} Emitter instance.\r\n */\r\nEventEmitter.prototype.removeListener = function(name, fn) {\r\n  if (this.$events && this.$events[name]) {\r\n    var list = this.$events[name];\r\n\r\n    if (isArray(list)) {\r\n      var pos = -1;\r\n\r\n      for (var i = 0, l = list.length; i < l; i++) {\r\n        if (list[i] === fn || (list[i].listener && list[i].listener === fn)) {\r\n          pos = i;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (pos < 0) {\r\n        return this;\r\n      }\r\n\r\n      list.splice(pos, 1);\r\n\r\n      if (!list.length) {\r\n        delete this.$events[name];\r\n      }\r\n    } else if (list === fn || (list.listener && list.listener === fn)) {\r\n      delete this.$events[name];\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove all listeners for an event.\r\n *\r\n * @api public\r\n * @param {string} name Event name.\r\n * @return {EventEmitter} Emitter instance.\r\n */\r\nEventEmitter.prototype.removeAllListeners = function(name) {\r\n  if (name === undefined) {\r\n    this.$events = {};\r\n    return this;\r\n  }\r\n\r\n  if (this.$events && this.$events[name]) {\r\n    this.$events[name] = null;\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Get all listeners for a given event.\r\n *\r\n * @api public\r\n * @param {string} name Event name.\r\n * @return {EventEmitter} Emitter instance.\r\n */\r\nEventEmitter.prototype.listeners = function(name) {\r\n  if (!this.$events) {\r\n    this.$events = {};\r\n  }\r\n\r\n  if (!this.$events[name]) {\r\n    this.$events[name] = [];\r\n  }\r\n\r\n  if (!isArray(this.$events[name])) {\r\n    this.$events[name] = [this.$events[name]];\r\n  }\r\n\r\n  return this.$events[name];\r\n};\r\n\r\n/**\r\n * Emit an event.\r\n *\r\n * @api public\r\n * @param {string} name Event name.\r\n * @return {boolean} true if at least one handler was invoked, else false.\r\n */\r\nEventEmitter.prototype.emit = function(name) {\r\n  if (!this.$events) {\r\n    return false;\r\n  }\r\n\r\n  var handler = this.$events[name];\r\n\r\n  if (!handler) {\r\n    return false;\r\n  }\r\n\r\n  var args = Array.prototype.slice.call(arguments, 1);\r\n\r\n  if (typeof handler === 'function') {\r\n    handler.apply(this, args);\r\n  } else if (isArray(handler)) {\r\n    var listeners = handler.slice();\r\n\r\n    for (var i = 0, l = listeners.length; i < l; i++) {\r\n      listeners[i].apply(this, args);\r\n    }\r\n  } else {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n},{}],4:[function(require,module,exports){\r\n/**\r\n * Expose `Progress`.\r\n */\r\n\r\nmodule.exports = Progress;\r\n\r\n/**\r\n * Initialize a new `Progress` indicator.\r\n */\r\nfunction Progress() {\r\n  this.percent = 0;\r\n  this.size(0);\r\n  this.fontSize(11);\r\n  this.font('helvetica, arial, sans-serif');\r\n}\r\n\r\n/**\r\n * Set progress size to `size`.\r\n *\r\n * @api public\r\n * @param {number} size\r\n * @return {Progress} Progress instance.\r\n */\r\nProgress.prototype.size = function(size) {\r\n  this._size = size;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set text to `text`.\r\n *\r\n * @api public\r\n * @param {string} text\r\n * @return {Progress} Progress instance.\r\n */\r\nProgress.prototype.text = function(text) {\r\n  this._text = text;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set font size to `size`.\r\n *\r\n * @api public\r\n * @param {number} size\r\n * @return {Progress} Progress instance.\r\n */\r\nProgress.prototype.fontSize = function(size) {\r\n  this._fontSize = size;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set font to `family`.\r\n *\r\n * @param {string} family\r\n * @return {Progress} Progress instance.\r\n */\r\nProgress.prototype.font = function(family) {\r\n  this._font = family;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Update percentage to `n`.\r\n *\r\n * @param {number} n\r\n * @return {Progress} Progress instance.\r\n */\r\nProgress.prototype.update = function(n) {\r\n  this.percent = n;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Draw on `ctx`.\r\n *\r\n * @param {CanvasRenderingContext2d} ctx\r\n * @return {Progress} Progress instance.\r\n */\r\nProgress.prototype.draw = function(ctx) {\r\n  try {\r\n    var percent = Math.min(this.percent, 100);\r\n    var size = this._size;\r\n    var half = size / 2;\r\n    var x = half;\r\n    var y = half;\r\n    var rad = half - 1;\r\n    var fontSize = this._fontSize;\r\n\r\n    ctx.font = fontSize + 'px ' + this._font;\r\n\r\n    var angle = Math.PI * 2 * (percent / 100);\r\n    ctx.clearRect(0, 0, size, size);\r\n\r\n    // outer circle\r\n    ctx.strokeStyle = '#9f9f9f';\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, rad, 0, angle, false);\r\n    ctx.stroke();\r\n\r\n    // inner circle\r\n    ctx.strokeStyle = '#eee';\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, rad - 1, 0, angle, true);\r\n    ctx.stroke();\r\n\r\n    // text\r\n    var text = this._text || (percent | 0) + '%';\r\n    var w = ctx.measureText(text).width;\r\n\r\n    ctx.fillText(text, x - w / 2 + 1, y + fontSize / 2 - 1);\r\n  } catch (err) {\r\n    // don't fail if we can't render progress\r\n  }\r\n  return this;\r\n};\r\n\r\n},{}],5:[function(require,module,exports){\r\n(function (global){\r\nexports.isatty = function isatty() {\r\n  return true;\r\n};\r\n\r\nexports.getWindowSize = function getWindowSize() {\r\n  if ('innerHeight' in global) {\r\n    return [global.innerHeight, global.innerWidth];\r\n  }\r\n  // In a Web Worker, the DOM Window is not available.\r\n  return [640, 480];\r\n};\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{}],6:[function(require,module,exports){\r\n/**\r\n * Expose `Context`.\r\n */\r\n\r\nmodule.exports = Context;\r\n\r\n/**\r\n * Initialize a new `Context`.\r\n *\r\n * @api private\r\n */\r\nfunction Context() {}\r\n\r\n/**\r\n * Set or get the context `Runnable` to `runnable`.\r\n *\r\n * @api private\r\n * @param {Runnable} runnable\r\n * @return {Context}\r\n */\r\nContext.prototype.runnable = function(runnable) {\r\n  if (!arguments.length) {\r\n    return this._runnable;\r\n  }\r\n  this.test = this._runnable = runnable;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set test timeout `ms`.\r\n *\r\n * @api private\r\n * @param {number} ms\r\n * @return {Context} self\r\n */\r\nContext.prototype.timeout = function(ms) {\r\n  if (!arguments.length) {\r\n    return this.runnable().timeout();\r\n  }\r\n  this.runnable().timeout(ms);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set test timeout `enabled`.\r\n *\r\n * @api private\r\n * @param {boolean} enabled\r\n * @return {Context} self\r\n */\r\nContext.prototype.enableTimeouts = function(enabled) {\r\n  this.runnable().enableTimeouts(enabled);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set test slowness threshold `ms`.\r\n *\r\n * @api private\r\n * @param {number} ms\r\n * @return {Context} self\r\n */\r\nContext.prototype.slow = function(ms) {\r\n  this.runnable().slow(ms);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Mark a test as skipped.\r\n *\r\n * @api private\r\n * @return {Context} self\r\n */\r\nContext.prototype.skip = function() {\r\n  this.runnable().skip();\r\n  return this;\r\n};\r\n\r\n/**\r\n * Inspect the context void of `._runnable`.\r\n *\r\n * @api private\r\n * @return {string}\r\n */\r\nContext.prototype.inspect = function() {\r\n  return JSON.stringify(this, function(key, val) {\r\n    return key === 'runnable' || key === 'test' ? undefined : val;\r\n  }, 2);\r\n};\r\n\r\n},{}],7:[function(require,module,exports){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Runnable = require('./runnable');\r\nvar inherits = require('./utils').inherits;\r\n\r\n/**\r\n * Expose `Hook`.\r\n */\r\n\r\nmodule.exports = Hook;\r\n\r\n/**\r\n * Initialize a new `Hook` with the given `title` and callback `fn`.\r\n *\r\n * @param {String} title\r\n * @param {Function} fn\r\n * @api private\r\n */\r\nfunction Hook(title, fn) {\r\n  Runnable.call(this, title, fn);\r\n  this.type = 'hook';\r\n}\r\n\r\n/**\r\n * Inherit from `Runnable.prototype`.\r\n */\r\ninherits(Hook, Runnable);\r\n\r\n/**\r\n * Get or set the test `err`.\r\n *\r\n * @param {Error} err\r\n * @return {Error}\r\n * @api public\r\n */\r\nHook.prototype.error = function(err) {\r\n  if (!arguments.length) {\r\n    err = this._error;\r\n    this._error = null;\r\n    return err;\r\n  }\r\n\r\n  this._error = err;\r\n};\r\n\r\n},{\"./runnable\":35,\"./utils\":39}],8:[function(require,module,exports){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Suite = require('../suite');\r\nvar Test = require('../test');\r\nvar escapeRe = require('escape-string-regexp');\r\n\r\n/**\r\n * BDD-style interface:\r\n *\r\n *      describe('Array', function() {\r\n *        describe('#indexOf()', function() {\r\n *          it('should return -1 when not present', function() {\r\n *            // ...\r\n *          });\r\n *\r\n *          it('should return the index when present', function() {\r\n *            // ...\r\n *          });\r\n *        });\r\n *      });\r\n *\r\n * @param {Suite} suite Root suite.\r\n */\r\nmodule.exports = function(suite) {\r\n  var suites = [suite];\r\n\r\n  suite.on('pre-require', function(context, file, mocha) {\r\n    var common = require('./common')(suites, context);\r\n\r\n    context.before = common.before;\r\n    context.after = common.after;\r\n    context.beforeEach = common.beforeEach;\r\n    context.afterEach = common.afterEach;\r\n    context.run = mocha.options.delay && common.runWithSuite(suite);\r\n    /**\r\n     * Describe a \"suite\" with the given `title`\r\n     * and callback `fn` containing nested suites\r\n     * and/or tests.\r\n     */\r\n\r\n    context.describe = context.context = function(title, fn) {\r\n      var suite = Suite.create(suites[0], title);\r\n      suite.file = file;\r\n      suites.unshift(suite);\r\n      fn.call(suite);\r\n      suites.shift();\r\n      return suite;\r\n    };\r\n\r\n    /**\r\n     * Pending describe.\r\n     */\r\n\r\n    context.xdescribe = context.xcontext = context.describe.skip = function(title, fn) {\r\n      var suite = Suite.create(suites[0], title);\r\n      suite.pending = true;\r\n      suites.unshift(suite);\r\n      fn.call(suite);\r\n      suites.shift();\r\n    };\r\n\r\n    /**\r\n     * Exclusive suite.\r\n     */\r\n\r\n    context.describe.only = function(title, fn) {\r\n      var suite = context.describe(title, fn);\r\n      mocha.grep(suite.fullTitle());\r\n      return suite;\r\n    };\r\n\r\n    /**\r\n     * Describe a specification or test-case\r\n     * with the given `title` and callback `fn`\r\n     * acting as a thunk.\r\n     */\r\n\r\n    context.it = context.specify = function(title, fn) {\r\n      var suite = suites[0];\r\n      if (suite.pending) {\r\n        fn = null;\r\n      }\r\n      var test = new Test(title, fn);\r\n      test.file = file;\r\n      suite.addTest(test);\r\n      return test;\r\n    };\r\n\r\n    /**\r\n     * Exclusive test-case.\r\n     */\r\n\r\n    context.it.only = function(title, fn) {\r\n      var test = context.it(title, fn);\r\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\r\n      mocha.grep(new RegExp(reString));\r\n      return test;\r\n    };\r\n\r\n    /**\r\n     * Pending test case.\r\n     */\r\n\r\n    context.xit = context.xspecify = context.it.skip = function(title) {\r\n      context.it(title);\r\n    };\r\n  });\r\n};\r\n\r\n},{\"../suite\":37,\"../test\":38,\"./common\":9,\"escape-string-regexp\":68}],9:[function(require,module,exports){\r\n'use strict';\r\n\r\n/**\r\n * Functions common to more than one interface.\r\n *\r\n * @param {Suite[]} suites\r\n * @param {Context} context\r\n * @return {Object} An object containing common functions.\r\n */\r\nmodule.exports = function(suites, context) {\r\n  return {\r\n    /**\r\n     * This is only present if flag --delay is passed into Mocha. It triggers\r\n     * root suite execution.\r\n     *\r\n     * @param {Suite} suite The root wuite.\r\n     * @return {Function} A function which runs the root suite\r\n     */\r\n    runWithSuite: function runWithSuite(suite) {\r\n      return function run() {\r\n        suite.run();\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Execute before running tests.\r\n     *\r\n     * @param {string} name\r\n     * @param {Function} fn\r\n     */\r\n    before: function(name, fn) {\r\n      suites[0].beforeAll(name, fn);\r\n    },\r\n\r\n    /**\r\n     * Execute after running tests.\r\n     *\r\n     * @param {string} name\r\n     * @param {Function} fn\r\n     */\r\n    after: function(name, fn) {\r\n      suites[0].afterAll(name, fn);\r\n    },\r\n\r\n    /**\r\n     * Execute before each test case.\r\n     *\r\n     * @param {string} name\r\n     * @param {Function} fn\r\n     */\r\n    beforeEach: function(name, fn) {\r\n      suites[0].beforeEach(name, fn);\r\n    },\r\n\r\n    /**\r\n     * Execute after each test case.\r\n     *\r\n     * @param {string} name\r\n     * @param {Function} fn\r\n     */\r\n    afterEach: function(name, fn) {\r\n      suites[0].afterEach(name, fn);\r\n    },\r\n\r\n    test: {\r\n      /**\r\n       * Pending test case.\r\n       *\r\n       * @param {string} title\r\n       */\r\n      skip: function(title) {\r\n        context.test(title);\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\n},{}],10:[function(require,module,exports){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Suite = require('../suite');\r\nvar Test = require('../test');\r\n\r\n/**\r\n * TDD-style interface:\r\n *\r\n *     exports.Array = {\r\n *       '#indexOf()': {\r\n *         'should return -1 when the value is not present': function() {\r\n *\r\n *         },\r\n *\r\n *         'should return the correct index when the value is present': function() {\r\n *\r\n *         }\r\n *       }\r\n *     };\r\n *\r\n * @param {Suite} suite Root suite.\r\n */\r\nmodule.exports = function(suite) {\r\n  var suites = [suite];\r\n\r\n  suite.on('require', visit);\r\n\r\n  function visit(obj, file) {\r\n    var suite;\r\n    for (var key in obj) {\r\n      if (typeof obj[key] === 'function') {\r\n        var fn = obj[key];\r\n        switch (key) {\r\n          case 'before':\r\n            suites[0].beforeAll(fn);\r\n            break;\r\n          case 'after':\r\n            suites[0].afterAll(fn);\r\n            break;\r\n          case 'beforeEach':\r\n            suites[0].beforeEach(fn);\r\n            break;\r\n          case 'afterEach':\r\n            suites[0].afterEach(fn);\r\n            break;\r\n          default:\r\n            var test = new Test(key, fn);\r\n            test.file = file;\r\n            suites[0].addTest(test);\r\n        }\r\n      } else {\r\n        suite = Suite.create(suites[0], key);\r\n        suites.unshift(suite);\r\n        visit(obj[key]);\r\n        suites.shift();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n},{\"../suite\":37,\"../test\":38}],11:[function(require,module,exports){\r\nexports.bdd = require('./bdd');\r\nexports.tdd = require('./tdd');\r\nexports.qunit = require('./qunit');\r\nexports.exports = require('./exports');\r\n\r\n},{\"./bdd\":8,\"./exports\":10,\"./qunit\":12,\"./tdd\":13}],12:[function(require,module,exports){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Suite = require('../suite');\r\nvar Test = require('../test');\r\nvar escapeRe = require('escape-string-regexp');\r\n\r\n/**\r\n * QUnit-style interface:\r\n *\r\n *     suite('Array');\r\n *\r\n *     test('#length', function() {\r\n *       var arr = [1,2,3];\r\n *       ok(arr.length == 3);\r\n *     });\r\n *\r\n *     test('#indexOf()', function() {\r\n *       var arr = [1,2,3];\r\n *       ok(arr.indexOf(1) == 0);\r\n *       ok(arr.indexOf(2) == 1);\r\n *       ok(arr.indexOf(3) == 2);\r\n *     });\r\n *\r\n *     suite('String');\r\n *\r\n *     test('#length', function() {\r\n *       ok('foo'.length == 3);\r\n *     });\r\n *\r\n * @param {Suite} suite Root suite.\r\n */\r\nmodule.exports = function(suite) {\r\n  var suites = [suite];\r\n\r\n  suite.on('pre-require', function(context, file, mocha) {\r\n    var common = require('./common')(suites, context);\r\n\r\n    context.before = common.before;\r\n    context.after = common.after;\r\n    context.beforeEach = common.beforeEach;\r\n    context.afterEach = common.afterEach;\r\n    context.run = mocha.options.delay && common.runWithSuite(suite);\r\n    /**\r\n     * Describe a \"suite\" with the given `title`.\r\n     */\r\n\r\n    context.suite = function(title) {\r\n      if (suites.length > 1) {\r\n        suites.shift();\r\n      }\r\n      var suite = Suite.create(suites[0], title);\r\n      suite.file = file;\r\n      suites.unshift(suite);\r\n      return suite;\r\n    };\r\n\r\n    /**\r\n     * Exclusive test-case.\r\n     */\r\n\r\n    context.suite.only = function(title, fn) {\r\n      var suite = context.suite(title, fn);\r\n      mocha.grep(suite.fullTitle());\r\n    };\r\n\r\n    /**\r\n     * Describe a specification or test-case\r\n     * with the given `title` and callback `fn`\r\n     * acting as a thunk.\r\n     */\r\n\r\n    context.test = function(title, fn) {\r\n      var test = new Test(title, fn);\r\n      test.file = file;\r\n      suites[0].addTest(test);\r\n      return test;\r\n    };\r\n\r\n    /**\r\n     * Exclusive test-case.\r\n     */\r\n\r\n    context.test.only = function(title, fn) {\r\n      var test = context.test(title, fn);\r\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\r\n      mocha.grep(new RegExp(reString));\r\n    };\r\n\r\n    context.test.skip = common.test.skip;\r\n  });\r\n};\r\n\r\n},{\"../suite\":37,\"../test\":38,\"./common\":9,\"escape-string-regexp\":68}],13:[function(require,module,exports){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Suite = require('../suite');\r\nvar Test = require('../test');\r\nvar escapeRe = require('escape-string-regexp');\r\n\r\n/**\r\n * TDD-style interface:\r\n *\r\n *      suite('Array', function() {\r\n *        suite('#indexOf()', function() {\r\n *          suiteSetup(function() {\r\n *\r\n *          });\r\n *\r\n *          test('should return -1 when not present', function() {\r\n *\r\n *          });\r\n *\r\n *          test('should return the index when present', function() {\r\n *\r\n *          });\r\n *\r\n *          suiteTeardown(function() {\r\n *\r\n *          });\r\n *        });\r\n *      });\r\n *\r\n * @param {Suite} suite Root suite.\r\n */\r\nmodule.exports = function(suite) {\r\n  var suites = [suite];\r\n\r\n  suite.on('pre-require', function(context, file, mocha) {\r\n    var common = require('./common')(suites, context);\r\n\r\n    context.setup = common.beforeEach;\r\n    context.teardown = common.afterEach;\r\n    context.suiteSetup = common.before;\r\n    context.suiteTeardown = common.after;\r\n    context.run = mocha.options.delay && common.runWithSuite(suite);\r\n\r\n    /**\r\n     * Describe a \"suite\" with the given `title` and callback `fn` containing\r\n     * nested suites and/or tests.\r\n     */\r\n    context.suite = function(title, fn) {\r\n      var suite = Suite.create(suites[0], title);\r\n      suite.file = file;\r\n      suites.unshift(suite);\r\n      fn.call(suite);\r\n      suites.shift();\r\n      return suite;\r\n    };\r\n\r\n    /**\r\n     * Pending suite.\r\n     */\r\n    context.suite.skip = function(title, fn) {\r\n      var suite = Suite.create(suites[0], title);\r\n      suite.pending = true;\r\n      suites.unshift(suite);\r\n      fn.call(suite);\r\n      suites.shift();\r\n    };\r\n\r\n    /**\r\n     * Exclusive test-case.\r\n     */\r\n    context.suite.only = function(title, fn) {\r\n      var suite = context.suite(title, fn);\r\n      mocha.grep(suite.fullTitle());\r\n    };\r\n\r\n    /**\r\n     * Describe a specification or test-case with the given `title` and\r\n     * callback `fn` acting as a thunk.\r\n     */\r\n    context.test = function(title, fn) {\r\n      var suite = suites[0];\r\n      if (suite.pending) {\r\n        fn = null;\r\n      }\r\n      var test = new Test(title, fn);\r\n      test.file = file;\r\n      suite.addTest(test);\r\n      return test;\r\n    };\r\n\r\n    /**\r\n     * Exclusive test-case.\r\n     */\r\n\r\n    context.test.only = function(title, fn) {\r\n      var test = context.test(title, fn);\r\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\r\n      mocha.grep(new RegExp(reString));\r\n    };\r\n\r\n    context.test.skip = common.test.skip;\r\n  });\r\n};\r\n\r\n},{\"../suite\":37,\"../test\":38,\"./common\":9,\"escape-string-regexp\":68}],14:[function(require,module,exports){\r\n(function (process,global,__dirname){\r\n/*!\r\n * mocha\r\n * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar escapeRe = require('escape-string-regexp');\r\nvar path = require('path');\r\nvar reporters = require('./reporters');\r\nvar utils = require('./utils');\r\n\r\n/**\r\n * Expose `Mocha`.\r\n */\r\n\r\nexports = module.exports = Mocha;\r\n\r\n/**\r\n * To require local UIs and reporters when running in node.\r\n */\r\n\r\nif (!process.browser) {\r\n  var cwd = process.cwd();\r\n  module.paths.push(cwd, path.join(cwd, 'node_modules'));\r\n}\r\n\r\n/**\r\n * Expose internals.\r\n */\r\n\r\nexports.utils = utils;\r\nexports.interfaces = require('./interfaces');\r\nexports.reporters = reporters;\r\nexports.Runnable = require('./runnable');\r\nexports.Context = require('./context');\r\nexports.Runner = require('./runner');\r\nexports.Suite = require('./suite');\r\nexports.Hook = require('./hook');\r\nexports.Test = require('./test');\r\n\r\n/**\r\n * Return image `name` path.\r\n *\r\n * @api private\r\n * @param {string} name\r\n * @return {string}\r\n */\r\nfunction image(name) {\r\n  return path.join(__dirname, '../images', name + '.png');\r\n}\r\n\r\n/**\r\n * Set up mocha with `options`.\r\n *\r\n * Options:\r\n *\r\n *   - `ui` name \"bdd\", \"tdd\", \"exports\" etc\r\n *   - `reporter` reporter instance, defaults to `mocha.reporters.spec`\r\n *   - `globals` array of accepted globals\r\n *   - `timeout` timeout in milliseconds\r\n *   - `bail` bail on the first test failure\r\n *   - `slow` milliseconds to wait before considering a test slow\r\n *   - `ignoreLeaks` ignore global leaks\r\n *   - `fullTrace` display the full stack-trace on failing\r\n *   - `grep` string or regexp to filter tests with\r\n *\r\n * @param {Object} options\r\n * @api public\r\n */\r\nfunction Mocha(options) {\r\n  options = options || {};\r\n  this.files = [];\r\n  this.options = options;\r\n  if (options.grep) {\r\n    this.grep(new RegExp(options.grep));\r\n  }\r\n  if (options.fgrep) {\r\n    this.grep(options.fgrep);\r\n  }\r\n  this.suite = new exports.Suite('', new exports.Context());\r\n  this.ui(options.ui);\r\n  this.bail(options.bail);\r\n  this.reporter(options.reporter, options.reporterOptions);\r\n  if (typeof options.timeout !== 'undefined' && options.timeout !== null) {\r\n    this.timeout(options.timeout);\r\n  }\r\n  this.useColors(options.useColors);\r\n  if (options.enableTimeouts !== null) {\r\n    this.enableTimeouts(options.enableTimeouts);\r\n  }\r\n  if (options.slow) {\r\n    this.slow(options.slow);\r\n  }\r\n\r\n  this.suite.on('pre-require', function(context) {\r\n    exports.afterEach = context.afterEach || context.teardown;\r\n    exports.after = context.after || context.suiteTeardown;\r\n    exports.beforeEach = context.beforeEach || context.setup;\r\n    exports.before = context.before || context.suiteSetup;\r\n    exports.describe = context.describe || context.suite;\r\n    exports.it = context.it || context.test;\r\n    exports.setup = context.setup || context.beforeEach;\r\n    exports.suiteSetup = context.suiteSetup || context.before;\r\n    exports.suiteTeardown = context.suiteTeardown || context.after;\r\n    exports.suite = context.suite || context.describe;\r\n    exports.teardown = context.teardown || context.afterEach;\r\n    exports.test = context.test || context.it;\r\n    exports.run = context.run;\r\n  });\r\n}\r\n\r\n/**\r\n * Enable or disable bailing on the first failure.\r\n *\r\n * @api public\r\n * @param {boolean} [bail]\r\n */\r\nMocha.prototype.bail = function(bail) {\r\n  if (!arguments.length) {\r\n    bail = true;\r\n  }\r\n  this.suite.bail(bail);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Add test `file`.\r\n *\r\n * @api public\r\n * @param {string} file\r\n */\r\nMocha.prototype.addFile = function(file) {\r\n  this.files.push(file);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set reporter to `reporter`, defaults to \"spec\".\r\n *\r\n * @param {String|Function} reporter name or constructor\r\n * @param {Object} reporterOptions optional options\r\n * @api public\r\n * @param {string|Function} reporter name or constructor\r\n * @param {Object} reporterOptions optional options\r\n */\r\nMocha.prototype.reporter = function(reporter, reporterOptions) {\r\n  if (typeof reporter === 'function') {\r\n    this._reporter = reporter;\r\n  } else {\r\n    reporter = reporter || 'spec';\r\n    var _reporter;\r\n    // Try to load a built-in reporter.\r\n    if (reporters[reporter]) {\r\n      _reporter = reporters[reporter];\r\n    }\r\n    // Try to load reporters from process.cwd() and node_modules\r\n    if (!_reporter) {\r\n      try {\r\n        _reporter = require(reporter);\r\n      } catch (err) {\r\n        err.message.indexOf('Cannot find module') !== -1\r\n          ? console.warn('\"' + reporter + '\" reporter not found')\r\n          : console.warn('\"' + reporter + '\" reporter blew up with error:\\n' + err.stack);\r\n      }\r\n    }\r\n    if (!_reporter && reporter === 'teamcity') {\r\n      console.warn('The Teamcity reporter was moved to a package named '\r\n        + 'mocha-teamcity-reporter '\r\n        + '(https://npmjs.org/package/mocha-teamcity-reporter).');\r\n    }\r\n    if (!_reporter) {\r\n      throw new Error('invalid reporter \"' + reporter + '\"');\r\n    }\r\n    this._reporter = _reporter;\r\n  }\r\n  this.options.reporterOptions = reporterOptions;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set test UI `name`, defaults to \"bdd\".\r\n *\r\n * @api public\r\n * @param {string} bdd\r\n */\r\nMocha.prototype.ui = function(name) {\r\n  name = name || 'bdd';\r\n  this._ui = exports.interfaces[name];\r\n  if (!this._ui) {\r\n    try {\r\n      this._ui = require(name);\r\n    } catch (err) {\r\n      throw new Error('invalid interface \"' + name + '\"');\r\n    }\r\n  }\r\n  this._ui = this._ui(this.suite);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Load registered files.\r\n *\r\n * @api private\r\n */\r\nMocha.prototype.loadFiles = function(fn) {\r\n  var self = this;\r\n  var suite = this.suite;\r\n  var pending = this.files.length;\r\n  this.files.forEach(function(file) {\r\n    file = path.resolve(file);\r\n    suite.emit('pre-require', global, file, self);\r\n    suite.emit('require', require(file), file, self);\r\n    suite.emit('post-require', global, file, self);\r\n    --pending || (fn && fn());\r\n  });\r\n};\r\n\r\n/**\r\n * Enable growl support.\r\n *\r\n * @api private\r\n */\r\nMocha.prototype._growl = function(runner, reporter) {\r\n  var notify = require('growl');\r\n\r\n  runner.on('end', function() {\r\n    var stats = reporter.stats;\r\n    if (stats.failures) {\r\n      var msg = stats.failures + ' of ' + runner.total + ' tests failed';\r\n      notify(msg, { name: 'mocha', title: 'Failed', image: image('error') });\r\n    } else {\r\n      notify(stats.passes + ' tests passed in ' + stats.duration + 'ms', {\r\n        name: 'mocha',\r\n        title: 'Passed',\r\n        image: image('ok')\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Add regexp to grep, if `re` is a string it is escaped.\r\n *\r\n * @param {RegExp|String} re\r\n * @return {Mocha}\r\n * @api public\r\n * @param {RegExp|string} re\r\n * @return {Mocha}\r\n */\r\nMocha.prototype.grep = function(re) {\r\n  this.options.grep = typeof re === 'string' ? new RegExp(escapeRe(re)) : re;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Invert `.grep()` matches.\r\n *\r\n * @return {Mocha}\r\n * @api public\r\n */\r\nMocha.prototype.invert = function() {\r\n  this.options.invert = true;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Ignore global leaks.\r\n *\r\n * @param {Boolean} ignore\r\n * @return {Mocha}\r\n * @api public\r\n * @param {boolean} ignore\r\n * @return {Mocha}\r\n */\r\nMocha.prototype.ignoreLeaks = function(ignore) {\r\n  this.options.ignoreLeaks = Boolean(ignore);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Enable global leak checking.\r\n *\r\n * @return {Mocha}\r\n * @api public\r\n */\r\nMocha.prototype.checkLeaks = function() {\r\n  this.options.ignoreLeaks = false;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Display long stack-trace on failing\r\n *\r\n * @return {Mocha}\r\n * @api public\r\n */\r\nMocha.prototype.fullTrace = function() {\r\n  this.options.fullStackTrace = true;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Enable growl support.\r\n *\r\n * @return {Mocha}\r\n * @api public\r\n */\r\nMocha.prototype.growl = function() {\r\n  this.options.growl = true;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Ignore `globals` array or string.\r\n *\r\n * @param {Array|String} globals\r\n * @return {Mocha}\r\n * @api public\r\n * @param {Array|string} globals\r\n * @return {Mocha}\r\n */\r\nMocha.prototype.globals = function(globals) {\r\n  this.options.globals = (this.options.globals || []).concat(globals);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit color output.\r\n *\r\n * @param {Boolean} colors\r\n * @return {Mocha}\r\n * @api public\r\n * @param {boolean} colors\r\n * @return {Mocha}\r\n */\r\nMocha.prototype.useColors = function(colors) {\r\n  if (colors !== undefined) {\r\n    this.options.useColors = colors;\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Use inline diffs rather than +/-.\r\n *\r\n * @param {Boolean} inlineDiffs\r\n * @return {Mocha}\r\n * @api public\r\n * @param {boolean} inlineDiffs\r\n * @return {Mocha}\r\n */\r\nMocha.prototype.useInlineDiffs = function(inlineDiffs) {\r\n  this.options.useInlineDiffs = inlineDiffs !== undefined && inlineDiffs;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set the timeout in milliseconds.\r\n *\r\n * @param {Number} timeout\r\n * @return {Mocha}\r\n * @api public\r\n * @param {number} timeout\r\n * @return {Mocha}\r\n */\r\nMocha.prototype.timeout = function(timeout) {\r\n  this.suite.timeout(timeout);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set slowness threshold in milliseconds.\r\n *\r\n * @param {Number} slow\r\n * @return {Mocha}\r\n * @api public\r\n * @param {number} slow\r\n * @return {Mocha}\r\n */\r\nMocha.prototype.slow = function(slow) {\r\n  this.suite.slow(slow);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Enable timeouts.\r\n *\r\n * @param {Boolean} enabled\r\n * @return {Mocha}\r\n * @api public\r\n * @param {boolean} enabled\r\n * @return {Mocha}\r\n */\r\nMocha.prototype.enableTimeouts = function(enabled) {\r\n  this.suite.enableTimeouts(arguments.length && enabled !== undefined ? enabled : true);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Makes all tests async (accepting a callback)\r\n *\r\n * @return {Mocha}\r\n * @api public\r\n */\r\nMocha.prototype.asyncOnly = function() {\r\n  this.options.asyncOnly = true;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Disable syntax highlighting (in browser).\r\n *\r\n * @api public\r\n */\r\nMocha.prototype.noHighlighting = function() {\r\n  this.options.noHighlighting = true;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Enable uncaught errors to propagate (in browser).\r\n *\r\n * @return {Mocha}\r\n * @api public\r\n */\r\nMocha.prototype.allowUncaught = function() {\r\n  this.options.allowUncaught = true;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Delay root suite execution.\r\n * @returns {Mocha}\r\n */\r\nMocha.prototype.delay = function delay() {\r\n  this.options.delay = true;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Run tests and invoke `fn()` when complete.\r\n *\r\n * @api public\r\n * @param {Function} fn\r\n * @return {Runner}\r\n */\r\nMocha.prototype.run = function(fn) {\r\n  if (this.files.length) {\r\n    this.loadFiles();\r\n  }\r\n  var suite = this.suite;\r\n  var options = this.options;\r\n  options.files = this.files;\r\n  var runner = new exports.Runner(suite, options.delay);\r\n  var reporter = new this._reporter(runner, options);\r\n  runner.ignoreLeaks = options.ignoreLeaks !== false;\r\n  runner.fullStackTrace = options.fullStackTrace;\r\n  runner.asyncOnly = options.asyncOnly;\r\n  runner.allowUncaught = options.allowUncaught;\r\n  if (options.grep) {\r\n    runner.grep(options.grep, options.invert);\r\n  }\r\n  if (options.globals) {\r\n    runner.globals(options.globals);\r\n  }\r\n  if (options.growl) {\r\n    this._growl(runner, reporter);\r\n  }\r\n  if (options.useColors !== undefined) {\r\n    exports.reporters.Base.useColors = options.useColors;\r\n  }\r\n  exports.reporters.Base.inlineDiffs = options.useInlineDiffs;\r\n\r\n  function done(failures) {\r\n    if (reporter.done) {\r\n      reporter.done(failures, fn);\r\n    } else {\r\n      fn && fn(failures);\r\n    }\r\n  }\r\n\r\n  return runner.run(done);\r\n};\r\n\r\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},\"/lib\")\r\n},{\"./context\":6,\"./hook\":7,\"./interfaces\":11,\"./reporters\":22,\"./runnable\":35,\"./runner\":36,\"./suite\":37,\"./test\":38,\"./utils\":39,\"_process\":51,\"escape-string-regexp\":68,\"growl\":69,\"path\":41}],15:[function(require,module,exports){\r\n/**\r\n * Helpers.\r\n */\r\n\r\nvar s = 1000;\r\nvar m = s * 60;\r\nvar h = m * 60;\r\nvar d = h * 24;\r\nvar y = d * 365.25;\r\n\r\n/**\r\n * Parse or format the given `val`.\r\n *\r\n * Options:\r\n *\r\n *  - `long` verbose formatting [false]\r\n *\r\n * @api public\r\n * @param {string|number} val\r\n * @param {Object} options\r\n * @return {string|number}\r\n */\r\nmodule.exports = function(val, options) {\r\n  options = options || {};\r\n  if (typeof val === 'string') {\r\n    return parse(val);\r\n  }\r\n  // https://github.com/mochajs/mocha/pull/1035\r\n  return options['long'] ? longFormat(val) : shortFormat(val);\r\n};\r\n\r\n/**\r\n * Parse the given `str` and return milliseconds.\r\n *\r\n * @api private\r\n * @param {string} str\r\n * @return {number}\r\n */\r\nfunction parse(str) {\r\n  var match = (/^((?:\\d+)?\\.?\\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i).exec(str);\r\n  if (!match) {\r\n    return;\r\n  }\r\n  var n = parseFloat(match[1]);\r\n  var type = (match[2] || 'ms').toLowerCase();\r\n  switch (type) {\r\n    case 'years':\r\n    case 'year':\r\n    case 'y':\r\n      return n * y;\r\n    case 'days':\r\n    case 'day':\r\n    case 'd':\r\n      return n * d;\r\n    case 'hours':\r\n    case 'hour':\r\n    case 'h':\r\n      return n * h;\r\n    case 'minutes':\r\n    case 'minute':\r\n    case 'm':\r\n      return n * m;\r\n    case 'seconds':\r\n    case 'second':\r\n    case 's':\r\n      return n * s;\r\n    case 'ms':\r\n      return n;\r\n    default:\r\n      // No default case\r\n  }\r\n}\r\n\r\n/**\r\n * Short format for `ms`.\r\n *\r\n * @api private\r\n * @param {number} ms\r\n * @return {string}\r\n */\r\nfunction shortFormat(ms) {\r\n  if (ms >= d) {\r\n    return Math.round(ms / d) + 'd';\r\n  }\r\n  if (ms >= h) {\r\n    return Math.round(ms / h) + 'h';\r\n  }\r\n  if (ms >= m) {\r\n    return Math.round(ms / m) + 'm';\r\n  }\r\n  if (ms >= s) {\r\n    return Math.round(ms / s) + 's';\r\n  }\r\n  return ms + 'ms';\r\n}\r\n\r\n/**\r\n * Long format for `ms`.\r\n *\r\n * @api private\r\n * @param {number} ms\r\n * @return {string}\r\n */\r\nfunction longFormat(ms) {\r\n  return plural(ms, d, 'day')\r\n    || plural(ms, h, 'hour')\r\n    || plural(ms, m, 'minute')\r\n    || plural(ms, s, 'second')\r\n    || ms + ' ms';\r\n}\r\n\r\n/**\r\n * Pluralization helper.\r\n *\r\n * @api private\r\n * @param {number} ms\r\n * @param {number} n\r\n * @param {string} name\r\n */\r\nfunction plural(ms, n, name) {\r\n  if (ms < n) {\r\n    return;\r\n  }\r\n  if (ms < n * 1.5) {\r\n    return Math.floor(ms / n) + ' ' + name;\r\n  }\r\n  return Math.ceil(ms / n) + ' ' + name + 's';\r\n}\r\n\r\n},{}],16:[function(require,module,exports){\r\n\r\n/**\r\n * Expose `Pending`.\r\n */\r\n\r\nmodule.exports = Pending;\r\n\r\n/**\r\n * Initialize a new `Pending` error with the given message.\r\n *\r\n * @param {string} message\r\n */\r\nfunction Pending(message) {\r\n  this.message = message;\r\n}\r\n\r\n},{}],17:[function(require,module,exports){\r\n(function (process,global){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar tty = require('tty');\r\nvar diff = require('diff');\r\nvar ms = require('../ms');\r\nvar utils = require('../utils');\r\nvar supportsColor = process.browser ? null : require('supports-color');\r\n\r\n/**\r\n * Expose `Base`.\r\n */\r\n\r\nexports = module.exports = Base;\r\n\r\n/**\r\n * Save timer references to avoid Sinon interfering.\r\n * See: https://github.com/mochajs/mocha/issues/237\r\n */\r\n\r\n/* eslint-disable no-unused-vars, no-native-reassign */\r\nvar Date = global.Date;\r\nvar setTimeout = global.setTimeout;\r\nvar setInterval = global.setInterval;\r\nvar clearTimeout = global.clearTimeout;\r\nvar clearInterval = global.clearInterval;\r\n/* eslint-enable no-unused-vars, no-native-reassign */\r\n\r\n/**\r\n * Check if both stdio streams are associated with a tty.\r\n */\r\n\r\nvar isatty = tty.isatty(1) && tty.isatty(2);\r\n\r\n/**\r\n * Enable coloring by default, except in the browser interface.\r\n */\r\n\r\nexports.useColors = !process.browser && (supportsColor || (process.env.MOCHA_COLORS !== undefined));\r\n\r\n/**\r\n * Inline diffs instead of +/-\r\n */\r\n\r\nexports.inlineDiffs = false;\r\n\r\n/**\r\n * Default color map.\r\n */\r\n\r\nexports.colors = {\r\n  pass: 90,\r\n  fail: 31,\r\n  'bright pass': 92,\r\n  'bright fail': 91,\r\n  'bright yellow': 93,\r\n  pending: 36,\r\n  suite: 0,\r\n  'error title': 0,\r\n  'error message': 31,\r\n  'error stack': 90,\r\n  checkmark: 32,\r\n  fast: 90,\r\n  medium: 33,\r\n  slow: 31,\r\n  green: 32,\r\n  light: 90,\r\n  'diff gutter': 90,\r\n  'diff added': 32,\r\n  'diff removed': 31\r\n};\r\n\r\n/**\r\n * Default symbol map.\r\n */\r\n\r\nexports.symbols = {\r\n  ok: '\u00e2\u009c\u0093',\r\n  err: '\u00e2\u009c\u0096',\r\n  dot: '\u00e2\u0080\u00a4'\r\n};\r\n\r\n// With node.js on Windows: use symbols available in terminal default fonts\r\nif (process.platform === 'win32') {\r\n  exports.symbols.ok = '\\u221A';\r\n  exports.symbols.err = '\\u00D7';\r\n  exports.symbols.dot = '.';\r\n}\r\n\r\n/**\r\n * Color `str` with the given `type`,\r\n * allowing colors to be disabled,\r\n * as well as user-defined color\r\n * schemes.\r\n *\r\n * @param {string} type\r\n * @param {string} str\r\n * @return {string}\r\n * @api private\r\n */\r\nvar color = exports.color = function(type, str) {\r\n  if (!exports.useColors) {\r\n    return String(str);\r\n  }\r\n  return '\\u001b[' + exports.colors[type] + 'm' + str + '\\u001b[0m';\r\n};\r\n\r\n/**\r\n * Expose term window size, with some defaults for when stderr is not a tty.\r\n */\r\n\r\nexports.window = {\r\n  width: 75\r\n};\r\n\r\nif (isatty) {\r\n  exports.window.width = process.stdout.getWindowSize\r\n      ? process.stdout.getWindowSize(1)[0]\r\n      : tty.getWindowSize()[1];\r\n}\r\n\r\n/**\r\n * Expose some basic cursor interactions that are common among reporters.\r\n */\r\n\r\nexports.cursor = {\r\n  hide: function() {\r\n    isatty && process.stdout.write('\\u001b[?25l');\r\n  },\r\n\r\n  show: function() {\r\n    isatty && process.stdout.write('\\u001b[?25h');\r\n  },\r\n\r\n  deleteLine: function() {\r\n    isatty && process.stdout.write('\\u001b[2K');\r\n  },\r\n\r\n  beginningOfLine: function() {\r\n    isatty && process.stdout.write('\\u001b[0G');\r\n  },\r\n\r\n  CR: function() {\r\n    if (isatty) {\r\n      exports.cursor.deleteLine();\r\n      exports.cursor.beginningOfLine();\r\n    } else {\r\n      process.stdout.write('\\r');\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Outut the given `failures` as a list.\r\n *\r\n * @param {Array} failures\r\n * @api public\r\n */\r\n\r\nexports.list = function(failures) {\r\n  console.log();\r\n  failures.forEach(function(test, i) {\r\n    // format\r\n    var fmt = color('error title', '  %s) %s:\\n')\r\n      + color('error message', '     %s')\r\n      + color('error stack', '\\n%s\\n');\r\n\r\n    // msg\r\n    var msg;\r\n    var err = test.err;\r\n    var message;\r\n    if (err.message) {\r\n      message = err.message;\r\n    } else if (typeof err.inspect === 'function') {\r\n      message = err.inspect() + '';\r\n    } else {\r\n      message = '';\r\n    }\r\n    var stack = err.stack || message;\r\n    var index = stack.indexOf(message);\r\n    var actual = err.actual;\r\n    var expected = err.expected;\r\n    var escape = true;\r\n\r\n    if (index === -1) {\r\n      msg = message;\r\n    } else {\r\n      index += message.length;\r\n      msg = stack.slice(0, index);\r\n      // remove msg from stack\r\n      stack = stack.slice(index + 1);\r\n    }\r\n\r\n    // uncaught\r\n    if (err.uncaught) {\r\n      msg = 'Uncaught ' + msg;\r\n    }\r\n    // explicitly show diff\r\n    if (err.showDiff !== false && sameType(actual, expected) && expected !== undefined) {\r\n      escape = false;\r\n      if (!(utils.isString(actual) && utils.isString(expected))) {\r\n        err.actual = actual = utils.stringify(actual);\r\n        err.expected = expected = utils.stringify(expected);\r\n      }\r\n\r\n      fmt = color('error title', '  %s) %s:\\n%s') + color('error stack', '\\n%s\\n');\r\n      var match = message.match(/^([^:]+): expected/);\r\n      msg = '\\n      ' + color('error message', match ? match[1] : msg);\r\n\r\n      if (exports.inlineDiffs) {\r\n        msg += inlineDiff(err, escape);\r\n      } else {\r\n        msg += unifiedDiff(err, escape);\r\n      }\r\n    }\r\n\r\n    // indent stack trace\r\n    stack = stack.replace(/^/gm, '  ');\r\n\r\n    console.log(fmt, (i + 1), test.fullTitle(), msg, stack);\r\n  });\r\n};\r\n\r\n/**\r\n * Initialize a new `Base` reporter.\r\n *\r\n * All other reporters generally\r\n * inherit from this reporter, providing\r\n * stats such as test duration, number\r\n * of tests passed / failed etc.\r\n *\r\n * @param {Runner} runner\r\n * @api public\r\n */\r\n\r\nfunction Base(runner) {\r\n  var stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 };\r\n  var failures = this.failures = [];\r\n\r\n  if (!runner) {\r\n    return;\r\n  }\r\n  this.runner = runner;\r\n\r\n  runner.stats = stats;\r\n\r\n  runner.on('start', function() {\r\n    stats.start = new Date();\r\n  });\r\n\r\n  runner.on('suite', function(suite) {\r\n    stats.suites = stats.suites || 0;\r\n    suite.root || stats.suites++;\r\n  });\r\n\r\n  runner.on('test end', function() {\r\n    stats.tests = stats.tests || 0;\r\n    stats.tests++;\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    stats.passes = stats.passes || 0;\r\n\r\n    if (test.duration > test.slow()) {\r\n      test.speed = 'slow';\r\n    } else if (test.duration > test.slow() / 2) {\r\n      test.speed = 'medium';\r\n    } else {\r\n      test.speed = 'fast';\r\n    }\r\n\r\n    stats.passes++;\r\n  });\r\n\r\n  runner.on('fail', function(test, err) {\r\n    stats.failures = stats.failures || 0;\r\n    stats.failures++;\r\n    test.err = err;\r\n    failures.push(test);\r\n  });\r\n\r\n  runner.on('end', function() {\r\n    stats.end = new Date();\r\n    stats.duration = new Date() - stats.start;\r\n  });\r\n\r\n  runner.on('pending', function() {\r\n    stats.pending++;\r\n  });\r\n}\r\n\r\n/**\r\n * Output common epilogue used by many of\r\n * the bundled reporters.\r\n *\r\n * @api public\r\n */\r\nBase.prototype.epilogue = function() {\r\n  var stats = this.stats;\r\n  var fmt;\r\n\r\n  console.log();\r\n\r\n  // passes\r\n  fmt = color('bright pass', ' ')\r\n    + color('green', ' %d passing')\r\n    + color('light', ' (%s)');\r\n\r\n  console.log(fmt,\r\n    stats.passes || 0,\r\n    ms(stats.duration));\r\n\r\n  // pending\r\n  if (stats.pending) {\r\n    fmt = color('pending', ' ')\r\n      + color('pending', ' %d pending');\r\n\r\n    console.log(fmt, stats.pending);\r\n  }\r\n\r\n  // failures\r\n  if (stats.failures) {\r\n    fmt = color('fail', '  %d failing');\r\n\r\n    console.log(fmt, stats.failures);\r\n\r\n    Base.list(this.failures);\r\n    console.log();\r\n  }\r\n\r\n  console.log();\r\n};\r\n\r\n/**\r\n * Pad the given `str` to `len`.\r\n *\r\n * @api private\r\n * @param {string} str\r\n * @param {string} len\r\n * @return {string}\r\n */\r\nfunction pad(str, len) {\r\n  str = String(str);\r\n  return Array(len - str.length + 1).join(' ') + str;\r\n}\r\n\r\n/**\r\n * Returns an inline diff between 2 strings with coloured ANSI output\r\n *\r\n * @api private\r\n * @param {Error} err with actual/expected\r\n * @param {boolean} escape\r\n * @return {string} Diff\r\n */\r\nfunction inlineDiff(err, escape) {\r\n  var msg = errorDiff(err, 'WordsWithSpace', escape);\r\n\r\n  // linenos\r\n  var lines = msg.split('\\n');\r\n  if (lines.length > 4) {\r\n    var width = String(lines.length).length;\r\n    msg = lines.map(function(str, i) {\r\n      return pad(++i, width) + ' |' + ' ' + str;\r\n    }).join('\\n');\r\n  }\r\n\r\n  // legend\r\n  msg = '\\n'\r\n    + color('diff removed', 'actual')\r\n    + ' '\r\n    + color('diff added', 'expected')\r\n    + '\\n\\n'\r\n    + msg\r\n    + '\\n';\r\n\r\n  // indent\r\n  msg = msg.replace(/^/gm, '      ');\r\n  return msg;\r\n}\r\n\r\n/**\r\n * Returns a unified diff between two strings.\r\n *\r\n * @api private\r\n * @param {Error} err with actual/expected\r\n * @param {boolean} escape\r\n * @return {string} The diff.\r\n */\r\nfunction unifiedDiff(err, escape) {\r\n  var indent = '      ';\r\n  function cleanUp(line) {\r\n    if (escape) {\r\n      line = escapeInvisibles(line);\r\n    }\r\n    if (line[0] === '+') {\r\n      return indent + colorLines('diff added', line);\r\n    }\r\n    if (line[0] === '-') {\r\n      return indent + colorLines('diff removed', line);\r\n    }\r\n    if (line.match(/\\@\\@/)) {\r\n      return null;\r\n    }\r\n    if (line.match(/\\\\ No newline/)) {\r\n      return null;\r\n    }\r\n    return indent + line;\r\n  }\r\n  function notBlank(line) {\r\n    return typeof line !== 'undefined' && line !== null;\r\n  }\r\n  var msg = diff.createPatch('string', err.actual, err.expected);\r\n  var lines = msg.split('\\n').splice(4);\r\n  return '\\n      '\r\n    + colorLines('diff added', '+ expected') + ' '\r\n    + colorLines('diff removed', '- actual')\r\n    + '\\n\\n'\r\n    + lines.map(cleanUp).filter(notBlank).join('\\n');\r\n}\r\n\r\n/**\r\n * Return a character diff for `err`.\r\n *\r\n * @api private\r\n * @param {Error} err\r\n * @param {string} type\r\n * @param {boolean} escape\r\n * @return {string}\r\n */\r\nfunction errorDiff(err, type, escape) {\r\n  var actual = escape ? escapeInvisibles(err.actual) : err.actual;\r\n  var expected = escape ? escapeInvisibles(err.expected) : err.expected;\r\n  return diff['diff' + type](actual, expected).map(function(str) {\r\n    if (str.added) {\r\n      return colorLines('diff added', str.value);\r\n    }\r\n    if (str.removed) {\r\n      return colorLines('diff removed', str.value);\r\n    }\r\n    return str.value;\r\n  }).join('');\r\n}\r\n\r\n/**\r\n * Returns a string with all invisible characters in plain text\r\n *\r\n * @api private\r\n * @param {string} line\r\n * @return {string}\r\n */\r\nfunction escapeInvisibles(line) {\r\n  return line.replace(/\\t/g, '<tab>')\r\n    .replace(/\\r/g, '<CR>')\r\n    .replace(/\\n/g, '<LF>\\n');\r\n}\r\n\r\n/**\r\n * Color lines for `str`, using the color `name`.\r\n *\r\n * @api private\r\n * @param {string} name\r\n * @param {string} str\r\n * @return {string}\r\n */\r\nfunction colorLines(name, str) {\r\n  return str.split('\\n').map(function(str) {\r\n    return color(name, str);\r\n  }).join('\\n');\r\n}\r\n\r\n/**\r\n * Object#toString reference.\r\n */\r\nvar objToString = Object.prototype.toString;\r\n\r\n/**\r\n * Check that a / b have the same type.\r\n *\r\n * @api private\r\n * @param {Object} a\r\n * @param {Object} b\r\n * @return {boolean}\r\n */\r\nfunction sameType(a, b) {\r\n  return objToString.call(a) === objToString.call(b);\r\n}\r\n\r\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../ms\":15,\"../utils\":39,\"_process\":51,\"diff\":67,\"supports-color\":41,\"tty\":5}],18:[function(require,module,exports){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar utils = require('../utils');\r\n\r\n/**\r\n * Expose `Doc`.\r\n */\r\n\r\nexports = module.exports = Doc;\r\n\r\n/**\r\n * Initialize a new `Doc` reporter.\r\n *\r\n * @param {Runner} runner\r\n * @api public\r\n */\r\nfunction Doc(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var indents = 2;\r\n\r\n  function indent() {\r\n    return Array(indents).join('  ');\r\n  }\r\n\r\n  runner.on('suite', function(suite) {\r\n    if (suite.root) {\r\n      return;\r\n    }\r\n    ++indents;\r\n    console.log('%s<section class=\"suite\">', indent());\r\n    ++indents;\r\n    console.log('%s<h1>%s</h1>', indent(), utils.escape(suite.title));\r\n    console.log('%s<dl>', indent());\r\n  });\r\n\r\n  runner.on('suite end', function(suite) {\r\n    if (suite.root) {\r\n      return;\r\n    }\r\n    console.log('%s</dl>', indent());\r\n    --indents;\r\n    console.log('%s</section>', indent());\r\n    --indents;\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    console.log('%s  <dt>%s</dt>', indent(), utils.escape(test.title));\r\n    var code = utils.escape(utils.clean(test.fn.toString()));\r\n    console.log('%s  <dd><pre><code>%s</code></pre></dd>', indent(), code);\r\n  });\r\n\r\n  runner.on('fail', function(test, err) {\r\n    console.log('%s  <dt class=\"error\">%s</dt>', indent(), utils.escape(test.title));\r\n    var code = utils.escape(utils.clean(test.fn.toString()));\r\n    console.log('%s  <dd class=\"error\"><pre><code>%s</code></pre></dd>', indent(), code);\r\n    console.log('%s  <dd class=\"error\">%s</dd>', indent(), utils.escape(err));\r\n  });\r\n}\r\n\r\n},{\"../utils\":39,\"./base\":17}],19:[function(require,module,exports){\r\n(function (process){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar inherits = require('../utils').inherits;\r\nvar color = Base.color;\r\n\r\n/**\r\n * Expose `Dot`.\r\n */\r\n\r\nexports = module.exports = Dot;\r\n\r\n/**\r\n * Initialize a new `Dot` matrix test reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction Dot(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var self = this;\r\n  var width = Base.window.width * .75 | 0;\r\n  var n = -1;\r\n\r\n  runner.on('start', function() {\r\n    process.stdout.write('\\n');\r\n  });\r\n\r\n  runner.on('pending', function() {\r\n    if (++n % width === 0) {\r\n      process.stdout.write('\\n  ');\r\n    }\r\n    process.stdout.write(color('pending', Base.symbols.dot));\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    if (++n % width === 0) {\r\n      process.stdout.write('\\n  ');\r\n    }\r\n    if (test.speed === 'slow') {\r\n      process.stdout.write(color('bright yellow', Base.symbols.dot));\r\n    } else {\r\n      process.stdout.write(color(test.speed, Base.symbols.dot));\r\n    }\r\n  });\r\n\r\n  runner.on('fail', function() {\r\n    if (++n % width === 0) {\r\n      process.stdout.write('\\n  ');\r\n    }\r\n    process.stdout.write(color('fail', Base.symbols.dot));\r\n  });\r\n\r\n  runner.on('end', function() {\r\n    console.log();\r\n    self.epilogue();\r\n  });\r\n}\r\n\r\n/**\r\n * Inherit from `Base.prototype`.\r\n */\r\ninherits(Dot, Base);\r\n\r\n}).call(this,require('_process'))\r\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],20:[function(require,module,exports){\r\n(function (process,__dirname){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar JSONCov = require('./json-cov');\r\nvar readFileSync = require('fs').readFileSync;\r\nvar join = require('path').join;\r\n\r\n/**\r\n * Expose `HTMLCov`.\r\n */\r\n\r\nexports = module.exports = HTMLCov;\r\n\r\n/**\r\n * Initialize a new `JsCoverage` reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction HTMLCov(runner) {\r\n  var jade = require('jade');\r\n  var file = join(__dirname, '/templates/coverage.jade');\r\n  var str = readFileSync(file, 'utf8');\r\n  var fn = jade.compile(str, { filename: file });\r\n  var self = this;\r\n\r\n  JSONCov.call(this, runner, false);\r\n\r\n  runner.on('end', function() {\r\n    process.stdout.write(fn({\r\n      cov: self.cov,\r\n      coverageClass: coverageClass\r\n    }));\r\n  });\r\n}\r\n\r\n/**\r\n * Return coverage class for a given coverage percentage.\r\n *\r\n * @api private\r\n * @param {number} coveragePctg\r\n * @return {string}\r\n */\r\nfunction coverageClass(coveragePctg) {\r\n  if (coveragePctg >= 75) {\r\n    return 'high';\r\n  }\r\n  if (coveragePctg >= 50) {\r\n    return 'medium';\r\n  }\r\n  if (coveragePctg >= 25) {\r\n    return 'low';\r\n  }\r\n  return 'terrible';\r\n}\r\n\r\n}).call(this,require('_process'),\"/lib/reporters\")\r\n},{\"./json-cov\":23,\"_process\":51,\"fs\":41,\"jade\":41,\"path\":41}],21:[function(require,module,exports){\r\n(function (global){\r\n/* eslint-env browser */\r\n\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar utils = require('../utils');\r\nvar Progress = require('../browser/progress');\r\nvar escapeRe = require('escape-string-regexp');\r\nvar escape = utils.escape;\r\n\r\n/**\r\n * Save timer references to avoid Sinon interfering (see GH-237).\r\n */\r\n\r\n/* eslint-disable no-unused-vars, no-native-reassign */\r\nvar Date = global.Date;\r\nvar setTimeout = global.setTimeout;\r\nvar setInterval = global.setInterval;\r\nvar clearTimeout = global.clearTimeout;\r\nvar clearInterval = global.clearInterval;\r\n/* eslint-enable no-unused-vars, no-native-reassign */\r\n\r\n/**\r\n * Expose `HTML`.\r\n */\r\n\r\nexports = module.exports = HTML;\r\n\r\n/**\r\n * Stats template.\r\n */\r\n\r\nvar statsTemplate = '<ul id=\"mocha-stats\">'\r\n  + '<li class=\"progress\"><canvas width=\"40\" height=\"40\"></canvas></li>'\r\n  + '<li class=\"passes\"><a href=\"javascript:void(0);\">passes:</a> <em>0</em></li>'\r\n  + '<li class=\"failures\"><a href=\"javascript:void(0);\">failures:</a> <em>0</em></li>'\r\n  + '<li class=\"duration\">duration: <em>0</em>s</li>'\r\n  + '</ul>';\r\n\r\n/**\r\n * Initialize a new `HTML` reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction HTML(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var self = this;\r\n  var stats = this.stats;\r\n  var stat = fragment(statsTemplate);\r\n  var items = stat.getElementsByTagName('li');\r\n  var passes = items[1].getElementsByTagName('em')[0];\r\n  var passesLink = items[1].getElementsByTagName('a')[0];\r\n  var failures = items[2].getElementsByTagName('em')[0];\r\n  var failuresLink = items[2].getElementsByTagName('a')[0];\r\n  var duration = items[3].getElementsByTagName('em')[0];\r\n  var canvas = stat.getElementsByTagName('canvas')[0];\r\n  var report = fragment('<ul id=\"mocha-report\"></ul>');\r\n  var stack = [report];\r\n  var progress;\r\n  var ctx;\r\n  var root = document.getElementById('mocha');\r\n\r\n  if (canvas.getContext) {\r\n    var ratio = window.devicePixelRatio || 1;\r\n    canvas.style.width = canvas.width;\r\n    canvas.style.height = canvas.height;\r\n    canvas.width *= ratio;\r\n    canvas.height *= ratio;\r\n    ctx = canvas.getContext('2d');\r\n    ctx.scale(ratio, ratio);\r\n    progress = new Progress();\r\n  }\r\n\r\n  if (!root) {\r\n    return error('#mocha div missing, add it to your document');\r\n  }\r\n\r\n  // pass toggle\r\n  on(passesLink, 'click', function() {\r\n    unhide();\r\n    var name = (/pass/).test(report.className) ? '' : ' pass';\r\n    report.className = report.className.replace(/fail|pass/g, '') + name;\r\n    if (report.className.trim()) {\r\n      hideSuitesWithout('test pass');\r\n    }\r\n  });\r\n\r\n  // failure toggle\r\n  on(failuresLink, 'click', function() {\r\n    unhide();\r\n    var name = (/fail/).test(report.className) ? '' : ' fail';\r\n    report.className = report.className.replace(/fail|pass/g, '') + name;\r\n    if (report.className.trim()) {\r\n      hideSuitesWithout('test fail');\r\n    }\r\n  });\r\n\r\n  root.appendChild(stat);\r\n  root.appendChild(report);\r\n\r\n  if (progress) {\r\n    progress.size(40);\r\n  }\r\n\r\n  runner.on('suite', function(suite) {\r\n    if (suite.root) {\r\n      return;\r\n    }\r\n\r\n    // suite\r\n    var url = self.suiteURL(suite);\r\n    var el = fragment('<li class=\"suite\"><h1><a href=\"%s\">%s</a></h1></li>', url, escape(suite.title));\r\n\r\n    // container\r\n    stack[0].appendChild(el);\r\n    stack.unshift(document.createElement('ul'));\r\n    el.appendChild(stack[0]);\r\n  });\r\n\r\n  runner.on('suite end', function(suite) {\r\n    if (suite.root) {\r\n      return;\r\n    }\r\n    stack.shift();\r\n  });\r\n\r\n  runner.on('fail', function(test) {\r\n    if (test.type === 'hook') {\r\n      runner.emit('test end', test);\r\n    }\r\n  });\r\n\r\n  runner.on('test end', function(test) {\r\n    // TODO: add to stats\r\n    var percent = stats.tests / this.total * 100 | 0;\r\n    if (progress) {\r\n      progress.update(percent).draw(ctx);\r\n    }\r\n\r\n    // update stats\r\n    var ms = new Date() - stats.start;\r\n    text(passes, stats.passes);\r\n    text(failures, stats.failures);\r\n    text(duration, (ms / 1000).toFixed(2));\r\n\r\n    // test\r\n    var el;\r\n    if (test.state === 'passed') {\r\n      var url = self.testURL(test);\r\n      el = fragment('<li class=\"test pass %e\"><h2>%e<span class=\"duration\">%ems</span> <a href=\"%s\" class=\"replay\">\u00e2\u0080\u00a3</a></h2></li>', test.speed, test.title, test.duration, url);\r\n    } else if (test.pending) {\r\n      el = fragment('<li class=\"test pass pending\"><h2>%e</h2></li>', test.title);\r\n    } else {\r\n      el = fragment('<li class=\"test fail\"><h2>%e <a href=\"%e\" class=\"replay\">\u00e2\u0080\u00a3</a></h2></li>', test.title, self.testURL(test));\r\n      var stackString; // Note: Includes leading newline\r\n      var message = test.err.toString();\r\n\r\n      // <=IE7 stringifies to [Object Error]. Since it can be overloaded, we\r\n      // check for the result of the stringifying.\r\n      if (message === '[object Error]') {\r\n        message = test.err.message;\r\n      }\r\n\r\n      if (test.err.stack) {\r\n        var indexOfMessage = test.err.stack.indexOf(test.err.message);\r\n        if (indexOfMessage === -1) {\r\n          stackString = test.err.stack;\r\n        } else {\r\n          stackString = test.err.stack.substr(test.err.message.length + indexOfMessage);\r\n        }\r\n      } else if (test.err.sourceURL && test.err.line !== undefined) {\r\n        // Safari doesn't give you a stack. Let's at least provide a source line.\r\n        stackString = '\\n(' + test.err.sourceURL + ':' + test.err.line + ')';\r\n      }\r\n\r\n      stackString = stackString || '';\r\n\r\n      if (test.err.htmlMessage && stackString) {\r\n        el.appendChild(fragment('<div class=\"html-error\">%s\\n<pre class=\"error\">%e</pre></div>', test.err.htmlMessage, stackString));\r\n      } else if (test.err.htmlMessage) {\r\n        el.appendChild(fragment('<div class=\"html-error\">%s</div>', test.err.htmlMessage));\r\n      } else {\r\n        el.appendChild(fragment('<pre class=\"error\">%e%e</pre>', message, stackString));\r\n      }\r\n    }\r\n\r\n    // toggle code\r\n    // TODO: defer\r\n    if (!test.pending) {\r\n      var h2 = el.getElementsByTagName('h2')[0];\r\n\r\n      on(h2, 'click', function() {\r\n        pre.style.display = pre.style.display === 'none' ? 'block' : 'none';\r\n      });\r\n\r\n      var pre = fragment('<pre><code>%e</code></pre>', utils.clean(test.fn.toString()));\r\n      el.appendChild(pre);\r\n      pre.style.display = 'none';\r\n    }\r\n\r\n    // Don't call .appendChild if #mocha-report was already .shift()'ed off the stack.\r\n    if (stack[0]) {\r\n      stack[0].appendChild(el);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Makes a URL, preserving querystring (\"search\") parameters.\r\n *\r\n * @param {string} s\r\n * @return {string} A new URL.\r\n */\r\nfunction makeUrl(s) {\r\n  var search = window.location.search;\r\n\r\n  // Remove previous grep query parameter if present\r\n  if (search) {\r\n    search = search.replace(/[?&]grep=[^&\\s]*/g, '').replace(/^&/, '?');\r\n  }\r\n\r\n  return window.location.pathname + (search ? search + '&' : '?') + 'grep=' + encodeURIComponent(escapeRe(s));\r\n}\r\n\r\n/**\r\n * Provide suite URL.\r\n *\r\n * @param {Object} [suite]\r\n */\r\nHTML.prototype.suiteURL = function(suite) {\r\n  return makeUrl(suite.fullTitle());\r\n};\r\n\r\n/**\r\n * Provide test URL.\r\n *\r\n * @param {Object} [test]\r\n */\r\nHTML.prototype.testURL = function(test) {\r\n  return makeUrl(test.fullTitle());\r\n};\r\n\r\n/**\r\n * Display error `msg`.\r\n *\r\n * @param {string} msg\r\n */\r\nfunction error(msg) {\r\n  document.body.appendChild(fragment('<div id=\"mocha-error\">%s</div>', msg));\r\n}\r\n\r\n/**\r\n * Return a DOM fragment from `html`.\r\n *\r\n * @param {string} html\r\n */\r\nfunction fragment(html) {\r\n  var args = arguments;\r\n  var div = document.createElement('div');\r\n  var i = 1;\r\n\r\n  div.innerHTML = html.replace(/%([se])/g, function(_, type) {\r\n    switch (type) {\r\n      case 's': return String(args[i++]);\r\n      case 'e': return escape(args[i++]);\r\n      // no default\r\n    }\r\n  });\r\n\r\n  return div.firstChild;\r\n}\r\n\r\n/**\r\n * Check for suites that do not have elements\r\n * with `classname`, and hide them.\r\n *\r\n * @param {text} classname\r\n */\r\nfunction hideSuitesWithout(classname) {\r\n  var suites = document.getElementsByClassName('suite');\r\n  for (var i = 0; i < suites.length; i++) {\r\n    var els = suites[i].getElementsByClassName(classname);\r\n    if (!els.length) {\r\n      suites[i].className += ' hidden';\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Unhide .hidden suites.\r\n */\r\nfunction unhide() {\r\n  var els = document.getElementsByClassName('suite hidden');\r\n  for (var i = 0; i < els.length; ++i) {\r\n    els[i].className = els[i].className.replace('suite hidden', 'suite');\r\n  }\r\n}\r\n\r\n/**\r\n * Set an element's text contents.\r\n *\r\n * @param {HTMLElement} el\r\n * @param {string} contents\r\n */\r\nfunction text(el, contents) {\r\n  if (el.textContent) {\r\n    el.textContent = contents;\r\n  } else {\r\n    el.innerText = contents;\r\n  }\r\n}\r\n\r\n/**\r\n * Listen on `event` with callback `fn`.\r\n */\r\nfunction on(el, event, fn) {\r\n  if (el.addEventListener) {\r\n    el.addEventListener(event, fn, false);\r\n  } else {\r\n    el.attachEvent('on' + event, fn);\r\n  }\r\n}\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../browser/progress\":4,\"../utils\":39,\"./base\":17,\"escape-string-regexp\":68}],22:[function(require,module,exports){\r\n// Alias exports to a their normalized format Mocha#reporter to prevent a need\r\n// for dynamic (try/catch) requires, which Browserify doesn't handle.\r\nexports.Base = exports.base = require('./base');\r\nexports.Dot = exports.dot = require('./dot');\r\nexports.Doc = exports.doc = require('./doc');\r\nexports.TAP = exports.tap = require('./tap');\r\nexports.JSON = exports.json = require('./json');\r\nexports.HTML = exports.html = require('./html');\r\nexports.List = exports.list = require('./list');\r\nexports.Min = exports.min = require('./min');\r\nexports.Spec = exports.spec = require('./spec');\r\nexports.Nyan = exports.nyan = require('./nyan');\r\nexports.XUnit = exports.xunit = require('./xunit');\r\nexports.Markdown = exports.markdown = require('./markdown');\r\nexports.Progress = exports.progress = require('./progress');\r\nexports.Landing = exports.landing = require('./landing');\r\nexports.JSONCov = exports['json-cov'] = require('./json-cov');\r\nexports.HTMLCov = exports['html-cov'] = require('./html-cov');\r\nexports.JSONStream = exports['json-stream'] = require('./json-stream');\r\n\r\n},{\"./base\":17,\"./doc\":18,\"./dot\":19,\"./html\":21,\"./html-cov\":20,\"./json\":25,\"./json-cov\":23,\"./json-stream\":24,\"./landing\":26,\"./list\":27,\"./markdown\":28,\"./min\":29,\"./nyan\":30,\"./progress\":31,\"./spec\":32,\"./tap\":33,\"./xunit\":34}],23:[function(require,module,exports){\r\n(function (process,global){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\n\r\n/**\r\n * Expose `JSONCov`.\r\n */\r\n\r\nexports = module.exports = JSONCov;\r\n\r\n/**\r\n * Initialize a new `JsCoverage` reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n * @param {boolean} output\r\n */\r\nfunction JSONCov(runner, output) {\r\n  Base.call(this, runner);\r\n\r\n  output = arguments.length === 1 || output;\r\n  var self = this;\r\n  var tests = [];\r\n  var failures = [];\r\n  var passes = [];\r\n\r\n  runner.on('test end', function(test) {\r\n    tests.push(test);\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    passes.push(test);\r\n  });\r\n\r\n  runner.on('fail', function(test) {\r\n    failures.push(test);\r\n  });\r\n\r\n  runner.on('end', function() {\r\n    var cov = global._$jscoverage || {};\r\n    var result = self.cov = map(cov);\r\n    result.stats = self.stats;\r\n    result.tests = tests.map(clean);\r\n    result.failures = failures.map(clean);\r\n    result.passes = passes.map(clean);\r\n    if (!output) {\r\n      return;\r\n    }\r\n    process.stdout.write(JSON.stringify(result, null, 2));\r\n  });\r\n}\r\n\r\n/**\r\n * Map jscoverage data to a JSON structure\r\n * suitable for reporting.\r\n *\r\n * @api private\r\n * @param {Object} cov\r\n * @return {Object}\r\n */\r\n\r\nfunction map(cov) {\r\n  var ret = {\r\n    instrumentation: 'node-jscoverage',\r\n    sloc: 0,\r\n    hits: 0,\r\n    misses: 0,\r\n    coverage: 0,\r\n    files: []\r\n  };\r\n\r\n  for (var filename in cov) {\r\n    if (Object.prototype.hasOwnProperty.call(cov, filename)) {\r\n      var data = coverage(filename, cov[filename]);\r\n      ret.files.push(data);\r\n      ret.hits += data.hits;\r\n      ret.misses += data.misses;\r\n      ret.sloc += data.sloc;\r\n    }\r\n  }\r\n\r\n  ret.files.sort(function(a, b) {\r\n    return a.filename.localeCompare(b.filename);\r\n  });\r\n\r\n  if (ret.sloc > 0) {\r\n    ret.coverage = (ret.hits / ret.sloc) * 100;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n/**\r\n * Map jscoverage data for a single source file\r\n * to a JSON structure suitable for reporting.\r\n *\r\n * @api private\r\n * @param {string} filename name of the source file\r\n * @param {Object} data jscoverage coverage data\r\n * @return {Object}\r\n */\r\nfunction coverage(filename, data) {\r\n  var ret = {\r\n    filename: filename,\r\n    coverage: 0,\r\n    hits: 0,\r\n    misses: 0,\r\n    sloc: 0,\r\n    source: {}\r\n  };\r\n\r\n  data.source.forEach(function(line, num) {\r\n    num++;\r\n\r\n    if (data[num] === 0) {\r\n      ret.misses++;\r\n      ret.sloc++;\r\n    } else if (data[num] !== undefined) {\r\n      ret.hits++;\r\n      ret.sloc++;\r\n    }\r\n\r\n    ret.source[num] = {\r\n      source: line,\r\n      coverage: data[num] === undefined ? '' : data[num]\r\n    };\r\n  });\r\n\r\n  ret.coverage = ret.hits / ret.sloc * 100;\r\n\r\n  return ret;\r\n}\r\n\r\n/**\r\n * Return a plain-object representation of `test`\r\n * free of cyclic properties etc.\r\n *\r\n * @api private\r\n * @param {Object} test\r\n * @return {Object}\r\n */\r\nfunction clean(test) {\r\n  return {\r\n    duration: test.duration,\r\n    fullTitle: test.fullTitle(),\r\n    title: test.title\r\n  };\r\n}\r\n\r\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./base\":17,\"_process\":51}],24:[function(require,module,exports){\r\n(function (process){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\n\r\n/**\r\n * Expose `List`.\r\n */\r\n\r\nexports = module.exports = List;\r\n\r\n/**\r\n * Initialize a new `List` test reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction List(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var self = this;\r\n  var total = runner.total;\r\n\r\n  runner.on('start', function() {\r\n    console.log(JSON.stringify(['start', { total: total }]));\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    console.log(JSON.stringify(['pass', clean(test)]));\r\n  });\r\n\r\n  runner.on('fail', function(test, err) {\r\n    test = clean(test);\r\n    test.err = err.message;\r\n    test.stack = err.stack || null;\r\n    console.log(JSON.stringify(['fail', test]));\r\n  });\r\n\r\n  runner.on('end', function() {\r\n    process.stdout.write(JSON.stringify(['end', self.stats]));\r\n  });\r\n}\r\n\r\n/**\r\n * Return a plain-object representation of `test`\r\n * free of cyclic properties etc.\r\n *\r\n * @api private\r\n * @param {Object} test\r\n * @return {Object}\r\n */\r\nfunction clean(test) {\r\n  return {\r\n    title: test.title,\r\n    fullTitle: test.fullTitle(),\r\n    duration: test.duration\r\n  };\r\n}\r\n\r\n}).call(this,require('_process'))\r\n},{\"./base\":17,\"_process\":51}],25:[function(require,module,exports){\r\n(function (process){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\n\r\n/**\r\n * Expose `JSON`.\r\n */\r\n\r\nexports = module.exports = JSONReporter;\r\n\r\n/**\r\n * Initialize a new `JSON` reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction JSONReporter(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var self = this;\r\n  var tests = [];\r\n  var pending = [];\r\n  var failures = [];\r\n  var passes = [];\r\n\r\n  runner.on('test end', function(test) {\r\n    tests.push(test);\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    passes.push(test);\r\n  });\r\n\r\n  runner.on('fail', function(test) {\r\n    failures.push(test);\r\n  });\r\n\r\n  runner.on('pending', function(test) {\r\n    pending.push(test);\r\n  });\r\n\r\n  runner.on('end', function() {\r\n    var obj = {\r\n      stats: self.stats,\r\n      tests: tests.map(clean),\r\n      pending: pending.map(clean),\r\n      failures: failures.map(clean),\r\n      passes: passes.map(clean)\r\n    };\r\n\r\n    runner.testResults = obj;\r\n\r\n    process.stdout.write(JSON.stringify(obj, null, 2));\r\n  });\r\n}\r\n\r\n/**\r\n * Return a plain-object representation of `test`\r\n * free of cyclic properties etc.\r\n *\r\n * @api private\r\n * @param {Object} test\r\n * @return {Object}\r\n */\r\nfunction clean(test) {\r\n  return {\r\n    title: test.title,\r\n    fullTitle: test.fullTitle(),\r\n    duration: test.duration,\r\n    err: errorJSON(test.err || {})\r\n  };\r\n}\r\n\r\n/**\r\n * Transform `error` into a JSON object.\r\n *\r\n * @api private\r\n * @param {Error} err\r\n * @return {Object}\r\n */\r\nfunction errorJSON(err) {\r\n  var res = {};\r\n  Object.getOwnPropertyNames(err).forEach(function(key) {\r\n    res[key] = err[key];\r\n  }, err);\r\n  return res;\r\n}\r\n\r\n}).call(this,require('_process'))\r\n},{\"./base\":17,\"_process\":51}],26:[function(require,module,exports){\r\n(function (process){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar inherits = require('../utils').inherits;\r\nvar cursor = Base.cursor;\r\nvar color = Base.color;\r\n\r\n/**\r\n * Expose `Landing`.\r\n */\r\n\r\nexports = module.exports = Landing;\r\n\r\n/**\r\n * Airplane color.\r\n */\r\n\r\nBase.colors.plane = 0;\r\n\r\n/**\r\n * Airplane crash color.\r\n */\r\n\r\nBase.colors['plane crash'] = 31;\r\n\r\n/**\r\n * Runway color.\r\n */\r\n\r\nBase.colors.runway = 90;\r\n\r\n/**\r\n * Initialize a new `Landing` reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction Landing(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var self = this;\r\n  var width = Base.window.width * .75 | 0;\r\n  var total = runner.total;\r\n  var stream = process.stdout;\r\n  var plane = color('plane', '\u00e2\u009c\u0088');\r\n  var crashed = -1;\r\n  var n = 0;\r\n\r\n  function runway() {\r\n    var buf = Array(width).join('-');\r\n    return '  ' + color('runway', buf);\r\n  }\r\n\r\n  runner.on('start', function() {\r\n    stream.write('\\n\\n\\n  ');\r\n    cursor.hide();\r\n  });\r\n\r\n  runner.on('test end', function(test) {\r\n    // check if the plane crashed\r\n    var col = crashed === -1 ? width * ++n / total | 0 : crashed;\r\n\r\n    // show the crash\r\n    if (test.state === 'failed') {\r\n      plane = color('plane crash', '\u00e2\u009c\u0088');\r\n      crashed = col;\r\n    }\r\n\r\n    // render landing strip\r\n    stream.write('\\u001b[' + (width + 1) + 'D\\u001b[2A');\r\n    stream.write(runway());\r\n    stream.write('\\n  ');\r\n    stream.write(color('runway', Array(col).join('\u00e2\u008b\u0085')));\r\n    stream.write(plane);\r\n    stream.write(color('runway', Array(width - col).join('\u00e2\u008b\u0085') + '\\n'));\r\n    stream.write(runway());\r\n    stream.write('\\u001b[0m');\r\n  });\r\n\r\n  runner.on('end', function() {\r\n    cursor.show();\r\n    console.log();\r\n    self.epilogue();\r\n  });\r\n}\r\n\r\n/**\r\n * Inherit from `Base.prototype`.\r\n */\r\ninherits(Landing, Base);\r\n\r\n}).call(this,require('_process'))\r\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],27:[function(require,module,exports){\r\n(function (process){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar inherits = require('../utils').inherits;\r\nvar color = Base.color;\r\nvar cursor = Base.cursor;\r\n\r\n/**\r\n * Expose `List`.\r\n */\r\n\r\nexports = module.exports = List;\r\n\r\n/**\r\n * Initialize a new `List` test reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction List(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var self = this;\r\n  var n = 0;\r\n\r\n  runner.on('start', function() {\r\n    console.log();\r\n  });\r\n\r\n  runner.on('test', function(test) {\r\n    process.stdout.write(color('pass', '    ' + test.fullTitle() + ': '));\r\n  });\r\n\r\n  runner.on('pending', function(test) {\r\n    var fmt = color('checkmark', '  -')\r\n      + color('pending', ' %s');\r\n    console.log(fmt, test.fullTitle());\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    var fmt = color('checkmark', '  ' + Base.symbols.dot)\r\n      + color('pass', ' %s: ')\r\n      + color(test.speed, '%dms');\r\n    cursor.CR();\r\n    console.log(fmt, test.fullTitle(), test.duration);\r\n  });\r\n\r\n  runner.on('fail', function(test) {\r\n    cursor.CR();\r\n    console.log(color('fail', '  %d) %s'), ++n, test.fullTitle());\r\n  });\r\n\r\n  runner.on('end', self.epilogue.bind(self));\r\n}\r\n\r\n/**\r\n * Inherit from `Base.prototype`.\r\n */\r\ninherits(List, Base);\r\n\r\n}).call(this,require('_process'))\r\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],28:[function(require,module,exports){\r\n(function (process){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar utils = require('../utils');\r\n\r\n/**\r\n * Constants\r\n */\r\n\r\nvar SUITE_PREFIX = '$';\r\n\r\n/**\r\n * Expose `Markdown`.\r\n */\r\n\r\nexports = module.exports = Markdown;\r\n\r\n/**\r\n * Initialize a new `Markdown` reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction Markdown(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var level = 0;\r\n  var buf = '';\r\n\r\n  function title(str) {\r\n    return Array(level).join('#') + ' ' + str;\r\n  }\r\n\r\n  function mapTOC(suite, obj) {\r\n    var ret = obj;\r\n    var key = SUITE_PREFIX + suite.title;\r\n\r\n    obj = obj[key] = obj[key] || { suite: suite };\r\n    suite.suites.forEach(function(suite) {\r\n      mapTOC(suite, obj);\r\n    });\r\n\r\n    return ret;\r\n  }\r\n\r\n  function stringifyTOC(obj, level) {\r\n    ++level;\r\n    var buf = '';\r\n    var link;\r\n    for (var key in obj) {\r\n      if (key === 'suite') {\r\n        continue;\r\n      }\r\n      if (key !== SUITE_PREFIX) {\r\n        link = ' - [' + key.substring(1) + ']';\r\n        link += '(#' + utils.slug(obj[key].suite.fullTitle()) + ')\\n';\r\n        buf += Array(level).join('  ') + link;\r\n      }\r\n      buf += stringifyTOC(obj[key], level);\r\n    }\r\n    return buf;\r\n  }\r\n\r\n  function generateTOC(suite) {\r\n    var obj = mapTOC(suite, {});\r\n    return stringifyTOC(obj, 0);\r\n  }\r\n\r\n  generateTOC(runner.suite);\r\n\r\n  runner.on('suite', function(suite) {\r\n    ++level;\r\n    var slug = utils.slug(suite.fullTitle());\r\n    buf += '<a name=\"' + slug + '\"></a>' + '\\n';\r\n    buf += title(suite.title) + '\\n';\r\n  });\r\n\r\n  runner.on('suite end', function() {\r\n    --level;\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    var code = utils.clean(test.fn.toString());\r\n    buf += test.title + '.\\n';\r\n    buf += '\\n```js\\n';\r\n    buf += code + '\\n';\r\n    buf += '```\\n\\n';\r\n  });\r\n\r\n  runner.on('end', function() {\r\n    process.stdout.write('# TOC\\n');\r\n    process.stdout.write(generateTOC(runner.suite));\r\n    process.stdout.write(buf);\r\n  });\r\n}\r\n\r\n}).call(this,require('_process'))\r\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],29:[function(require,module,exports){\r\n(function (process){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar inherits = require('../utils').inherits;\r\n\r\n/**\r\n * Expose `Min`.\r\n */\r\n\r\nexports = module.exports = Min;\r\n\r\n/**\r\n * Initialize a new `Min` minimal test reporter (best used with --watch).\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction Min(runner) {\r\n  Base.call(this, runner);\r\n\r\n  runner.on('start', function() {\r\n    // clear screen\r\n    process.stdout.write('\\u001b[2J');\r\n    // set cursor position\r\n    process.stdout.write('\\u001b[1;3H');\r\n  });\r\n\r\n  runner.on('end', this.epilogue.bind(this));\r\n}\r\n\r\n/**\r\n * Inherit from `Base.prototype`.\r\n */\r\ninherits(Min, Base);\r\n\r\n}).call(this,require('_process'))\r\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],30:[function(require,module,exports){\r\n(function (process){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar inherits = require('../utils').inherits;\r\n\r\n/**\r\n * Expose `Dot`.\r\n */\r\n\r\nexports = module.exports = NyanCat;\r\n\r\n/**\r\n * Initialize a new `Dot` matrix test reporter.\r\n *\r\n * @param {Runner} runner\r\n * @api public\r\n */\r\n\r\nfunction NyanCat(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var self = this;\r\n  var width = Base.window.width * .75 | 0;\r\n  var nyanCatWidth = this.nyanCatWidth = 11;\r\n\r\n  this.colorIndex = 0;\r\n  this.numberOfLines = 4;\r\n  this.rainbowColors = self.generateColors();\r\n  this.scoreboardWidth = 5;\r\n  this.tick = 0;\r\n  this.trajectories = [[], [], [], []];\r\n  this.trajectoryWidthMax = (width - nyanCatWidth);\r\n\r\n  runner.on('start', function() {\r\n    Base.cursor.hide();\r\n    self.draw();\r\n  });\r\n\r\n  runner.on('pending', function() {\r\n    self.draw();\r\n  });\r\n\r\n  runner.on('pass', function() {\r\n    self.draw();\r\n  });\r\n\r\n  runner.on('fail', function() {\r\n    self.draw();\r\n  });\r\n\r\n  runner.on('end', function() {\r\n    Base.cursor.show();\r\n    for (var i = 0; i < self.numberOfLines; i++) {\r\n      write('\\n');\r\n    }\r\n    self.epilogue();\r\n  });\r\n}\r\n\r\n/**\r\n * Inherit from `Base.prototype`.\r\n */\r\ninherits(NyanCat, Base);\r\n\r\n/**\r\n * Draw the nyan cat\r\n *\r\n * @api private\r\n */\r\n\r\nNyanCat.prototype.draw = function() {\r\n  this.appendRainbow();\r\n  this.drawScoreboard();\r\n  this.drawRainbow();\r\n  this.drawNyanCat();\r\n  this.tick = !this.tick;\r\n};\r\n\r\n/**\r\n * Draw the \"scoreboard\" showing the number\r\n * of passes, failures and pending tests.\r\n *\r\n * @api private\r\n */\r\n\r\nNyanCat.prototype.drawScoreboard = function() {\r\n  var stats = this.stats;\r\n\r\n  function draw(type, n) {\r\n    write(' ');\r\n    write(Base.color(type, n));\r\n    write('\\n');\r\n  }\r\n\r\n  draw('green', stats.passes);\r\n  draw('fail', stats.failures);\r\n  draw('pending', stats.pending);\r\n  write('\\n');\r\n\r\n  this.cursorUp(this.numberOfLines);\r\n};\r\n\r\n/**\r\n * Append the rainbow.\r\n *\r\n * @api private\r\n */\r\n\r\nNyanCat.prototype.appendRainbow = function() {\r\n  var segment = this.tick ? '_' : '-';\r\n  var rainbowified = this.rainbowify(segment);\r\n\r\n  for (var index = 0; index < this.numberOfLines; index++) {\r\n    var trajectory = this.trajectories[index];\r\n    if (trajectory.length >= this.trajectoryWidthMax) {\r\n      trajectory.shift();\r\n    }\r\n    trajectory.push(rainbowified);\r\n  }\r\n};\r\n\r\n/**\r\n * Draw the rainbow.\r\n *\r\n * @api private\r\n */\r\n\r\nNyanCat.prototype.drawRainbow = function() {\r\n  var self = this;\r\n\r\n  this.trajectories.forEach(function(line) {\r\n    write('\\u001b[' + self.scoreboardWidth + 'C');\r\n    write(line.join(''));\r\n    write('\\n');\r\n  });\r\n\r\n  this.cursorUp(this.numberOfLines);\r\n};\r\n\r\n/**\r\n * Draw the nyan cat\r\n *\r\n * @api private\r\n */\r\nNyanCat.prototype.drawNyanCat = function() {\r\n  var self = this;\r\n  var startWidth = this.scoreboardWidth + this.trajectories[0].length;\r\n  var dist = '\\u001b[' + startWidth + 'C';\r\n  var padding = '';\r\n\r\n  write(dist);\r\n  write('_,------,');\r\n  write('\\n');\r\n\r\n  write(dist);\r\n  padding = self.tick ? '  ' : '   ';\r\n  write('_|' + padding + '/\\\\_/\\\\ ');\r\n  write('\\n');\r\n\r\n  write(dist);\r\n  padding = self.tick ? '_' : '__';\r\n  var tail = self.tick ? '~' : '^';\r\n  write(tail + '|' + padding + this.face() + ' ');\r\n  write('\\n');\r\n\r\n  write(dist);\r\n  padding = self.tick ? ' ' : '  ';\r\n  write(padding + '\"\"  \"\" ');\r\n  write('\\n');\r\n\r\n  this.cursorUp(this.numberOfLines);\r\n};\r\n\r\n/**\r\n * Draw nyan cat face.\r\n *\r\n * @api private\r\n * @return {string}\r\n */\r\n\r\nNyanCat.prototype.face = function() {\r\n  var stats = this.stats;\r\n  if (stats.failures) {\r\n    return '( x .x)';\r\n  } else if (stats.pending) {\r\n    return '( o .o)';\r\n  } else if (stats.passes) {\r\n    return '( ^ .^)';\r\n  }\r\n  return '( - .-)';\r\n};\r\n\r\n/**\r\n * Move cursor up `n`.\r\n *\r\n * @api private\r\n * @param {number} n\r\n */\r\n\r\nNyanCat.prototype.cursorUp = function(n) {\r\n  write('\\u001b[' + n + 'A');\r\n};\r\n\r\n/**\r\n * Move cursor down `n`.\r\n *\r\n * @api private\r\n * @param {number} n\r\n */\r\n\r\nNyanCat.prototype.cursorDown = function(n) {\r\n  write('\\u001b[' + n + 'B');\r\n};\r\n\r\n/**\r\n * Generate rainbow colors.\r\n *\r\n * @api private\r\n * @return {Array}\r\n */\r\nNyanCat.prototype.generateColors = function() {\r\n  var colors = [];\r\n\r\n  for (var i = 0; i < (6 * 7); i++) {\r\n    var pi3 = Math.floor(Math.PI / 3);\r\n    var n = (i * (1.0 / 6));\r\n    var r = Math.floor(3 * Math.sin(n) + 3);\r\n    var g = Math.floor(3 * Math.sin(n + 2 * pi3) + 3);\r\n    var b = Math.floor(3 * Math.sin(n + 4 * pi3) + 3);\r\n    colors.push(36 * r + 6 * g + b + 16);\r\n  }\r\n\r\n  return colors;\r\n};\r\n\r\n/**\r\n * Apply rainbow to the given `str`.\r\n *\r\n * @api private\r\n * @param {string} str\r\n * @return {string}\r\n */\r\nNyanCat.prototype.rainbowify = function(str) {\r\n  if (!Base.useColors) {\r\n    return str;\r\n  }\r\n  var color = this.rainbowColors[this.colorIndex % this.rainbowColors.length];\r\n  this.colorIndex += 1;\r\n  return '\\u001b[38;5;' + color + 'm' + str + '\\u001b[0m';\r\n};\r\n\r\n/**\r\n * Stdout helper.\r\n *\r\n * @param {string} string A message to write to stdout.\r\n */\r\nfunction write(string) {\r\n  process.stdout.write(string);\r\n}\r\n\r\n}).call(this,require('_process'))\r\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],31:[function(require,module,exports){\r\n(function (process){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar inherits = require('../utils').inherits;\r\nvar color = Base.color;\r\nvar cursor = Base.cursor;\r\n\r\n/**\r\n * Expose `Progress`.\r\n */\r\n\r\nexports = module.exports = Progress;\r\n\r\n/**\r\n * General progress bar color.\r\n */\r\n\r\nBase.colors.progress = 90;\r\n\r\n/**\r\n * Initialize a new `Progress` bar test reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n * @param {Object} options\r\n */\r\nfunction Progress(runner, options) {\r\n  Base.call(this, runner);\r\n\r\n  var self = this;\r\n  var width = Base.window.width * .50 | 0;\r\n  var total = runner.total;\r\n  var complete = 0;\r\n  var lastN = -1;\r\n\r\n  // default chars\r\n  options = options || {};\r\n  options.open = options.open || '[';\r\n  options.complete = options.complete || '\u00e2\u0096\u00ac';\r\n  options.incomplete = options.incomplete || Base.symbols.dot;\r\n  options.close = options.close || ']';\r\n  options.verbose = false;\r\n\r\n  // tests started\r\n  runner.on('start', function() {\r\n    console.log();\r\n    cursor.hide();\r\n  });\r\n\r\n  // tests complete\r\n  runner.on('test end', function() {\r\n    complete++;\r\n\r\n    var percent = complete / total;\r\n    var n = width * percent | 0;\r\n    var i = width - n;\r\n\r\n    if (n === lastN && !options.verbose) {\r\n      // Don't re-render the line if it hasn't changed\r\n      return;\r\n    }\r\n    lastN = n;\r\n\r\n    cursor.CR();\r\n    process.stdout.write('\\u001b[J');\r\n    process.stdout.write(color('progress', '  ' + options.open));\r\n    process.stdout.write(Array(n).join(options.complete));\r\n    process.stdout.write(Array(i).join(options.incomplete));\r\n    process.stdout.write(color('progress', options.close));\r\n    if (options.verbose) {\r\n      process.stdout.write(color('progress', ' ' + complete + ' of ' + total));\r\n    }\r\n  });\r\n\r\n  // tests are complete, output some stats\r\n  // and the failures if any\r\n  runner.on('end', function() {\r\n    cursor.show();\r\n    console.log();\r\n    self.epilogue();\r\n  });\r\n}\r\n\r\n/**\r\n * Inherit from `Base.prototype`.\r\n */\r\ninherits(Progress, Base);\r\n\r\n}).call(this,require('_process'))\r\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],32:[function(require,module,exports){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar inherits = require('../utils').inherits;\r\nvar color = Base.color;\r\nvar cursor = Base.cursor;\r\n\r\n/**\r\n * Expose `Spec`.\r\n */\r\n\r\nexports = module.exports = Spec;\r\n\r\n/**\r\n * Initialize a new `Spec` test reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction Spec(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var self = this;\r\n  var indents = 0;\r\n  var n = 0;\r\n\r\n  function indent() {\r\n    return Array(indents).join('  ');\r\n  }\r\n\r\n  runner.on('start', function() {\r\n    console.log();\r\n  });\r\n\r\n  runner.on('suite', function(suite) {\r\n    ++indents;\r\n    console.log(color('suite', '%s%s'), indent(), suite.title);\r\n  });\r\n\r\n  runner.on('suite end', function() {\r\n    --indents;\r\n    if (indents === 1) {\r\n      console.log();\r\n    }\r\n  });\r\n\r\n  runner.on('pending', function(test) {\r\n    var fmt = indent() + color('pending', '  - %s');\r\n    console.log(fmt, test.title);\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    var fmt;\r\n    if (test.speed === 'fast') {\r\n      fmt = indent()\r\n        + color('checkmark', '  ' + Base.symbols.ok)\r\n        + color('pass', ' %s');\r\n      cursor.CR();\r\n      console.log(fmt, test.title);\r\n    } else {\r\n      fmt = indent()\r\n        + color('checkmark', '  ' + Base.symbols.ok)\r\n        + color('pass', ' %s')\r\n        + color(test.speed, ' (%dms)');\r\n      cursor.CR();\r\n      console.log(fmt, test.title, test.duration);\r\n    }\r\n  });\r\n\r\n  runner.on('fail', function(test) {\r\n    cursor.CR();\r\n    console.log(indent() + color('fail', '  %d) %s'), ++n, test.title);\r\n  });\r\n\r\n  runner.on('end', self.epilogue.bind(self));\r\n}\r\n\r\n/**\r\n * Inherit from `Base.prototype`.\r\n */\r\ninherits(Spec, Base);\r\n\r\n},{\"../utils\":39,\"./base\":17}],33:[function(require,module,exports){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\n\r\n/**\r\n * Expose `TAP`.\r\n */\r\n\r\nexports = module.exports = TAP;\r\n\r\n/**\r\n * Initialize a new `TAP` reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction TAP(runner) {\r\n  Base.call(this, runner);\r\n\r\n  var n = 1;\r\n  var passes = 0;\r\n  var failures = 0;\r\n\r\n  runner.on('start', function() {\r\n    var total = runner.grepTotal(runner.suite);\r\n    console.log('%d..%d', 1, total);\r\n  });\r\n\r\n  runner.on('test end', function() {\r\n    ++n;\r\n  });\r\n\r\n  runner.on('pending', function(test) {\r\n    console.log('ok %d %s # SKIP -', n, title(test));\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    passes++;\r\n    console.log('ok %d %s', n, title(test));\r\n  });\r\n\r\n  runner.on('fail', function(test, err) {\r\n    failures++;\r\n    console.log('not ok %d %s', n, title(test));\r\n    if (err.stack) {\r\n      console.log(err.stack.replace(/^/gm, '  '));\r\n    }\r\n  });\r\n\r\n  runner.on('end', function() {\r\n    console.log('# tests ' + (passes + failures));\r\n    console.log('# pass ' + passes);\r\n    console.log('# fail ' + failures);\r\n  });\r\n}\r\n\r\n/**\r\n * Return a TAP-safe title of `test`\r\n *\r\n * @api private\r\n * @param {Object} test\r\n * @return {String}\r\n */\r\nfunction title(test) {\r\n  return test.fullTitle().replace(/#/g, '');\r\n}\r\n\r\n},{\"./base\":17}],34:[function(require,module,exports){\r\n(function (global){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Base = require('./base');\r\nvar utils = require('../utils');\r\nvar inherits = utils.inherits;\r\nvar fs = require('fs');\r\nvar escape = utils.escape;\r\n\r\n/**\r\n * Save timer references to avoid Sinon interfering (see GH-237).\r\n */\r\n\r\n/* eslint-disable no-unused-vars, no-native-reassign */\r\nvar Date = global.Date;\r\nvar setTimeout = global.setTimeout;\r\nvar setInterval = global.setInterval;\r\nvar clearTimeout = global.clearTimeout;\r\nvar clearInterval = global.clearInterval;\r\n/* eslint-enable no-unused-vars, no-native-reassign */\r\n\r\n/**\r\n * Expose `XUnit`.\r\n */\r\n\r\nexports = module.exports = XUnit;\r\n\r\n/**\r\n * Initialize a new `XUnit` reporter.\r\n *\r\n * @api public\r\n * @param {Runner} runner\r\n */\r\nfunction XUnit(runner, options) {\r\n  Base.call(this, runner);\r\n\r\n  var stats = this.stats;\r\n  var tests = [];\r\n  var self = this;\r\n\r\n  if (options.reporterOptions && options.reporterOptions.output) {\r\n    if (!fs.createWriteStream) {\r\n      throw new Error('file output not supported in browser');\r\n    }\r\n    self.fileStream = fs.createWriteStream(options.reporterOptions.output);\r\n  }\r\n\r\n  runner.on('pending', function(test) {\r\n    tests.push(test);\r\n  });\r\n\r\n  runner.on('pass', function(test) {\r\n    tests.push(test);\r\n  });\r\n\r\n  runner.on('fail', function(test) {\r\n    tests.push(test);\r\n  });\r\n\r\n  runner.on('end', function() {\r\n    self.write(tag('testsuite', {\r\n      name: 'Mocha Tests',\r\n      tests: stats.tests,\r\n      failures: stats.failures,\r\n      errors: stats.failures,\r\n      skipped: stats.tests - stats.failures - stats.passes,\r\n      timestamp: (new Date()).toUTCString(),\r\n      time: (stats.duration / 1000) || 0\r\n    }, false));\r\n\r\n    tests.forEach(function(t) {\r\n      self.test(t);\r\n    });\r\n\r\n    self.write('</testsuite>');\r\n  });\r\n}\r\n\r\n/**\r\n * Inherit from `Base.prototype`.\r\n */\r\ninherits(XUnit, Base);\r\n\r\n/**\r\n * Override done to close the stream (if it's a file).\r\n *\r\n * @param failures\r\n * @param {Function} fn\r\n */\r\nXUnit.prototype.done = function(failures, fn) {\r\n  if (this.fileStream) {\r\n    this.fileStream.end(function() {\r\n      fn(failures);\r\n    });\r\n  } else {\r\n    fn(failures);\r\n  }\r\n};\r\n\r\n/**\r\n * Write out the given line.\r\n *\r\n * @param {string} line\r\n */\r\nXUnit.prototype.write = function(line) {\r\n  if (this.fileStream) {\r\n    this.fileStream.write(line + '\\n');\r\n  } else {\r\n    console.log(line);\r\n  }\r\n};\r\n\r\n/**\r\n * Output tag for the given `test.`\r\n *\r\n * @param {Test} test\r\n */\r\nXUnit.prototype.test = function(test) {\r\n  var attrs = {\r\n    classname: test.parent.fullTitle(),\r\n    name: test.title,\r\n    time: (test.duration / 1000) || 0\r\n  };\r\n\r\n  if (test.state === 'failed') {\r\n    var err = test.err;\r\n    this.write(tag('testcase', attrs, false, tag('failure', {}, false, cdata(escape(err.message) + '\\n' + err.stack))));\r\n  } else if (test.pending) {\r\n    this.write(tag('testcase', attrs, false, tag('skipped', {}, true)));\r\n  } else {\r\n    this.write(tag('testcase', attrs, true));\r\n  }\r\n};\r\n\r\n/**\r\n * HTML tag helper.\r\n *\r\n * @param name\r\n * @param attrs\r\n * @param close\r\n * @param content\r\n * @return {string}\r\n */\r\nfunction tag(name, attrs, close, content) {\r\n  var end = close ? '/>' : '>';\r\n  var pairs = [];\r\n  var tag;\r\n\r\n  for (var key in attrs) {\r\n    if (Object.prototype.hasOwnProperty.call(attrs, key)) {\r\n      pairs.push(key + '=\"' + escape(attrs[key]) + '\"');\r\n    }\r\n  }\r\n\r\n  tag = '<' + name + (pairs.length ? ' ' + pairs.join(' ') : '') + end;\r\n  if (content) {\r\n    tag += content + '</' + name + end;\r\n  }\r\n  return tag;\r\n}\r\n\r\n/**\r\n * Return cdata escaped CDATA `str`.\r\n */\r\n\r\nfunction cdata(str) {\r\n  return '<![CDATA[' + escape(str) + ']]>';\r\n}\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../utils\":39,\"./base\":17,\"fs\":41}],35:[function(require,module,exports){\r\n(function (global){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar EventEmitter = require('events').EventEmitter;\r\nvar Pending = require('./pending');\r\nvar debug = require('debug')('mocha:runnable');\r\nvar milliseconds = require('./ms');\r\nvar utils = require('./utils');\r\nvar inherits = utils.inherits;\r\n\r\n/**\r\n * Save timer references to avoid Sinon interfering (see GH-237).\r\n */\r\n\r\n/* eslint-disable no-unused-vars, no-native-reassign */\r\nvar Date = global.Date;\r\nvar setTimeout = global.setTimeout;\r\nvar setInterval = global.setInterval;\r\nvar clearTimeout = global.clearTimeout;\r\nvar clearInterval = global.clearInterval;\r\n/* eslint-enable no-unused-vars, no-native-reassign */\r\n\r\n/**\r\n * Object#toString().\r\n */\r\n\r\nvar toString = Object.prototype.toString;\r\n\r\n/**\r\n * Expose `Runnable`.\r\n */\r\n\r\nmodule.exports = Runnable;\r\n\r\n/**\r\n * Initialize a new `Runnable` with the given `title` and callback `fn`.\r\n *\r\n * @param {String} title\r\n * @param {Function} fn\r\n * @api private\r\n * @param {string} title\r\n * @param {Function} fn\r\n */\r\nfunction Runnable(title, fn) {\r\n  this.title = title;\r\n  this.fn = fn;\r\n  this.async = fn && fn.length;\r\n  this.sync = !this.async;\r\n  this._timeout = 2000;\r\n  this._slow = 75;\r\n  this._enableTimeouts = true;\r\n  this.timedOut = false;\r\n  this._trace = new Error('done() called multiple times');\r\n}\r\n\r\n/**\r\n * Inherit from `EventEmitter.prototype`.\r\n */\r\ninherits(Runnable, EventEmitter);\r\n\r\n/**\r\n * Set & get timeout `ms`.\r\n *\r\n * @api private\r\n * @param {number|string} ms\r\n * @return {Runnable|number} ms or Runnable instance.\r\n */\r\nRunnable.prototype.timeout = function(ms) {\r\n  if (!arguments.length) {\r\n    return this._timeout;\r\n  }\r\n  if (ms === 0) {\r\n    this._enableTimeouts = false;\r\n  }\r\n  if (typeof ms === 'string') {\r\n    ms = milliseconds(ms);\r\n  }\r\n  debug('timeout %d', ms);\r\n  this._timeout = ms;\r\n  if (this.timer) {\r\n    this.resetTimeout();\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set & get slow `ms`.\r\n *\r\n * @api private\r\n * @param {number|string} ms\r\n * @return {Runnable|number} ms or Runnable instance.\r\n */\r\nRunnable.prototype.slow = function(ms) {\r\n  if (!arguments.length) {\r\n    return this._slow;\r\n  }\r\n  if (typeof ms === 'string') {\r\n    ms = milliseconds(ms);\r\n  }\r\n  debug('timeout %d', ms);\r\n  this._slow = ms;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set and get whether timeout is `enabled`.\r\n *\r\n * @api private\r\n * @param {boolean} enabled\r\n * @return {Runnable|boolean} enabled or Runnable instance.\r\n */\r\nRunnable.prototype.enableTimeouts = function(enabled) {\r\n  if (!arguments.length) {\r\n    return this._enableTimeouts;\r\n  }\r\n  debug('enableTimeouts %s', enabled);\r\n  this._enableTimeouts = enabled;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Halt and mark as pending.\r\n *\r\n * @api private\r\n */\r\nRunnable.prototype.skip = function() {\r\n  throw new Pending();\r\n};\r\n\r\n/**\r\n * Return the full title generated by recursively concatenating the parent's\r\n * full title.\r\n *\r\n * @api public\r\n * @return {string}\r\n */\r\nRunnable.prototype.fullTitle = function() {\r\n  return this.parent.fullTitle() + ' ' + this.title;\r\n};\r\n\r\n/**\r\n * Clear the timeout.\r\n *\r\n * @api private\r\n */\r\nRunnable.prototype.clearTimeout = function() {\r\n  clearTimeout(this.timer);\r\n};\r\n\r\n/**\r\n * Inspect the runnable void of private properties.\r\n *\r\n * @api private\r\n * @return {string}\r\n */\r\nRunnable.prototype.inspect = function() {\r\n  return JSON.stringify(this, function(key, val) {\r\n    if (key[0] === '_') {\r\n      return;\r\n    }\r\n    if (key === 'parent') {\r\n      return '#<Suite>';\r\n    }\r\n    if (key === 'ctx') {\r\n      return '#<Context>';\r\n    }\r\n    return val;\r\n  }, 2);\r\n};\r\n\r\n/**\r\n * Reset the timeout.\r\n *\r\n * @api private\r\n */\r\nRunnable.prototype.resetTimeout = function() {\r\n  var self = this;\r\n  var ms = this.timeout() || 1e9;\r\n\r\n  if (!this._enableTimeouts) {\r\n    return;\r\n  }\r\n  this.clearTimeout();\r\n  this.timer = setTimeout(function() {\r\n    if (!self._enableTimeouts) {\r\n      return;\r\n    }\r\n    self.callback(new Error('timeout of ' + ms + 'ms exceeded. Ensure the done() callback is being called in this test.'));\r\n    self.timedOut = true;\r\n  }, ms);\r\n};\r\n\r\n/**\r\n * Whitelist a list of globals for this test run.\r\n *\r\n * @api private\r\n * @param {string[]} globals\r\n */\r\nRunnable.prototype.globals = function(globals) {\r\n  this._allowedGlobals = globals;\r\n};\r\n\r\n/**\r\n * Run the test and invoke `fn(err)`.\r\n *\r\n * @param {Function} fn\r\n * @api private\r\n */\r\nRunnable.prototype.run = function(fn) {\r\n  var self = this;\r\n  var start = new Date();\r\n  var ctx = this.ctx;\r\n  var finished;\r\n  var emitted;\r\n\r\n  // Sometimes the ctx exists, but it is not runnable\r\n  if (ctx && ctx.runnable) {\r\n    ctx.runnable(this);\r\n  }\r\n\r\n  // called multiple times\r\n  function multiple(err) {\r\n    if (emitted) {\r\n      return;\r\n    }\r\n    emitted = true;\r\n    self.emit('error', err || new Error('done() called multiple times; stacktrace may be inaccurate'));\r\n  }\r\n\r\n  // finished\r\n  function done(err) {\r\n    var ms = self.timeout();\r\n    if (self.timedOut) {\r\n      return;\r\n    }\r\n    if (finished) {\r\n      return multiple(err || self._trace);\r\n    }\r\n\r\n    self.clearTimeout();\r\n    self.duration = new Date() - start;\r\n    finished = true;\r\n    if (!err && self.duration > ms && self._enableTimeouts) {\r\n      err = new Error('timeout of ' + ms + 'ms exceeded. Ensure the done() callback is being called in this test.');\r\n    }\r\n    fn(err);\r\n  }\r\n\r\n  // for .resetTimeout()\r\n  this.callback = done;\r\n\r\n  // explicit async with `done` argument\r\n  if (this.async) {\r\n    this.resetTimeout();\r\n\r\n    if (this.allowUncaught) {\r\n      return callFnAsync(this.fn);\r\n    }\r\n    try {\r\n      callFnAsync(this.fn);\r\n    } catch (err) {\r\n      done(utils.getError(err));\r\n    }\r\n    return;\r\n  }\r\n\r\n  if (this.allowUncaught) {\r\n    callFn(this.fn);\r\n    done();\r\n    return;\r\n  }\r\n\r\n  // sync or promise-returning\r\n  try {\r\n    if (this.pending) {\r\n      done();\r\n    } else {\r\n      callFn(this.fn);\r\n    }\r\n  } catch (err) {\r\n    done(utils.getError(err));\r\n  }\r\n\r\n  function callFn(fn) {\r\n    var result = fn.call(ctx);\r\n    if (result && typeof result.then === 'function') {\r\n      self.resetTimeout();\r\n      result\r\n        .then(function() {\r\n          done();\r\n        },\r\n        function(reason) {\r\n          done(reason || new Error('Promise rejected with no or falsy reason'));\r\n        });\r\n    } else {\r\n      if (self.asyncOnly) {\r\n        return done(new Error('--async-only option in use without declaring `done()` or returning a promise'));\r\n      }\r\n\r\n      done();\r\n    }\r\n  }\r\n\r\n  function callFnAsync(fn) {\r\n    fn.call(ctx, function(err) {\r\n      if (err instanceof Error || toString.call(err) === '[object Error]') {\r\n        return done(err);\r\n      }\r\n      if (err) {\r\n        if (Object.prototype.toString.call(err) === '[object Object]') {\r\n          return done(new Error('done() invoked with non-Error: '\r\n            + JSON.stringify(err)));\r\n        }\r\n        return done(new Error('done() invoked with non-Error: ' + err));\r\n      }\r\n      done();\r\n    });\r\n  }\r\n};\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./ms\":15,\"./pending\":16,\"./utils\":39,\"debug\":2,\"events\":3}],36:[function(require,module,exports){\r\n(function (process,global){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar EventEmitter = require('events').EventEmitter;\r\nvar Pending = require('./pending');\r\nvar utils = require('./utils');\r\nvar inherits = utils.inherits;\r\nvar debug = require('debug')('mocha:runner');\r\nvar Runnable = require('./runnable');\r\nvar filter = utils.filter;\r\nvar indexOf = utils.indexOf;\r\nvar keys = utils.keys;\r\nvar stackFilter = utils.stackTraceFilter();\r\nvar stringify = utils.stringify;\r\nvar type = utils.type;\r\nvar undefinedError = utils.undefinedError;\r\n\r\n/**\r\n * Non-enumerable globals.\r\n */\r\n\r\nvar globals = [\r\n  'setTimeout',\r\n  'clearTimeout',\r\n  'setInterval',\r\n  'clearInterval',\r\n  'XMLHttpRequest',\r\n  'Date',\r\n  'setImmediate',\r\n  'clearImmediate'\r\n];\r\n\r\n/**\r\n * Expose `Runner`.\r\n */\r\n\r\nmodule.exports = Runner;\r\n\r\n/**\r\n * Initialize a `Runner` for the given `suite`.\r\n *\r\n * Events:\r\n *\r\n *   - `start`  execution started\r\n *   - `end`  execution complete\r\n *   - `suite`  (suite) test suite execution started\r\n *   - `suite end`  (suite) all tests (and sub-suites) have finished\r\n *   - `test`  (test) test execution started\r\n *   - `test end`  (test) test completed\r\n *   - `hook`  (hook) hook execution started\r\n *   - `hook end`  (hook) hook complete\r\n *   - `pass`  (test) test passed\r\n *   - `fail`  (test, err) test failed\r\n *   - `pending`  (test) test pending\r\n *\r\n * @api public\r\n * @param {Suite} suite Root suite\r\n * @param {boolean} [delay] Whether or not to delay execution of root suite\r\n * until ready.\r\n */\r\nfunction Runner(suite, delay) {\r\n  var self = this;\r\n  this._globals = [];\r\n  this._abort = false;\r\n  this._delay = delay;\r\n  this.suite = suite;\r\n  this.started = false;\r\n  this.total = suite.total();\r\n  this.failures = 0;\r\n  this.on('test end', function(test) {\r\n    self.checkGlobals(test);\r\n  });\r\n  this.on('hook end', function(hook) {\r\n    self.checkGlobals(hook);\r\n  });\r\n  this._defaultGrep = /.*/;\r\n  this.grep(this._defaultGrep);\r\n  this.globals(this.globalProps().concat(extraGlobals()));\r\n}\r\n\r\n/**\r\n * Wrapper for setImmediate, process.nextTick, or browser polyfill.\r\n *\r\n * @param {Function} fn\r\n * @api private\r\n */\r\nRunner.immediately = global.setImmediate || process.nextTick;\r\n\r\n/**\r\n * Inherit from `EventEmitter.prototype`.\r\n */\r\ninherits(Runner, EventEmitter);\r\n\r\n/**\r\n * Run tests with full titles matching `re`. Updates runner.total\r\n * with number of tests matched.\r\n *\r\n * @param {RegExp} re\r\n * @param {Boolean} invert\r\n * @return {Runner} for chaining\r\n * @api public\r\n * @param {RegExp} re\r\n * @param {boolean} invert\r\n * @return {Runner} Runner instance.\r\n */\r\nRunner.prototype.grep = function(re, invert) {\r\n  debug('grep %s', re);\r\n  this._grep = re;\r\n  this._invert = invert;\r\n  this.total = this.grepTotal(this.suite);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Returns the number of tests matching the grep search for the\r\n * given suite.\r\n *\r\n * @param {Suite} suite\r\n * @return {Number}\r\n * @api public\r\n * @param {Suite} suite\r\n * @return {number}\r\n */\r\nRunner.prototype.grepTotal = function(suite) {\r\n  var self = this;\r\n  var total = 0;\r\n\r\n  suite.eachTest(function(test) {\r\n    var match = self._grep.test(test.fullTitle());\r\n    if (self._invert) {\r\n      match = !match;\r\n    }\r\n    if (match) {\r\n      total++;\r\n    }\r\n  });\r\n\r\n  return total;\r\n};\r\n\r\n/**\r\n * Return a list of global properties.\r\n *\r\n * @return {Array}\r\n * @api private\r\n */\r\nRunner.prototype.globalProps = function() {\r\n  var props = keys(global);\r\n\r\n  // non-enumerables\r\n  for (var i = 0; i < globals.length; ++i) {\r\n    if (~indexOf(props, globals[i])) {\r\n      continue;\r\n    }\r\n    props.push(globals[i]);\r\n  }\r\n\r\n  return props;\r\n};\r\n\r\n/**\r\n * Allow the given `arr` of globals.\r\n *\r\n * @param {Array} arr\r\n * @return {Runner} for chaining\r\n * @api public\r\n * @param {Array} arr\r\n * @return {Runner} Runner instance.\r\n */\r\nRunner.prototype.globals = function(arr) {\r\n  if (!arguments.length) {\r\n    return this._globals;\r\n  }\r\n  debug('globals %j', arr);\r\n  this._globals = this._globals.concat(arr);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Check for global variable leaks.\r\n *\r\n * @api private\r\n */\r\nRunner.prototype.checkGlobals = function(test) {\r\n  if (this.ignoreLeaks) {\r\n    return;\r\n  }\r\n  var ok = this._globals;\r\n\r\n  var globals = this.globalProps();\r\n  var leaks;\r\n\r\n  if (test) {\r\n    ok = ok.concat(test._allowedGlobals || []);\r\n  }\r\n\r\n  if (this.prevGlobalsLength === globals.length) {\r\n    return;\r\n  }\r\n  this.prevGlobalsLength = globals.length;\r\n\r\n  leaks = filterLeaks(ok, globals);\r\n  this._globals = this._globals.concat(leaks);\r\n\r\n  if (leaks.length > 1) {\r\n    this.fail(test, new Error('global leaks detected: ' + leaks.join(', ') + ''));\r\n  } else if (leaks.length) {\r\n    this.fail(test, new Error('global leak detected: ' + leaks[0]));\r\n  }\r\n};\r\n\r\n/**\r\n * Fail the given `test`.\r\n *\r\n * @api private\r\n * @param {Test} test\r\n * @param {Error} err\r\n */\r\nRunner.prototype.fail = function(test, err) {\r\n  ++this.failures;\r\n  test.state = 'failed';\r\n\r\n  if (!(err instanceof Error || err && typeof err.message === 'string')) {\r\n    err = new Error('the ' + type(err) + ' ' + stringify(err) + ' was thrown, throw an Error :)');\r\n  }\r\n\r\n  err.stack = (this.fullStackTrace || !err.stack)\r\n    ? err.stack\r\n    : stackFilter(err.stack);\r\n\r\n  this.emit('fail', test, err);\r\n};\r\n\r\n/**\r\n * Fail the given `hook` with `err`.\r\n *\r\n * Hook failures work in the following pattern:\r\n * - If bail, then exit\r\n * - Failed `before` hook skips all tests in a suite and subsuites,\r\n *   but jumps to corresponding `after` hook\r\n * - Failed `before each` hook skips remaining tests in a\r\n *   suite and jumps to corresponding `after each` hook,\r\n *   which is run only once\r\n * - Failed `after` hook does not alter\r\n *   execution order\r\n * - Failed `after each` hook skips remaining tests in a\r\n *   suite and subsuites, but executes other `after each`\r\n *   hooks\r\n *\r\n * @api private\r\n * @param {Hook} hook\r\n * @param {Error} err\r\n */\r\nRunner.prototype.failHook = function(hook, err) {\r\n  if (hook.ctx && hook.ctx.currentTest) {\r\n    hook.originalTitle = hook.originalTitle || hook.title;\r\n    hook.title = hook.originalTitle + ' for \"' + hook.ctx.currentTest.title + '\"';\r\n  }\r\n\r\n  this.fail(hook, err);\r\n  if (this.suite.bail()) {\r\n    this.emit('end');\r\n  }\r\n};\r\n\r\n/**\r\n * Run hook `name` callbacks and then invoke `fn()`.\r\n *\r\n * @api private\r\n * @param {string} name\r\n * @param {Function} fn\r\n */\r\n\r\nRunner.prototype.hook = function(name, fn) {\r\n  var suite = this.suite;\r\n  var hooks = suite['_' + name];\r\n  var self = this;\r\n\r\n  function next(i) {\r\n    var hook = hooks[i];\r\n    if (!hook) {\r\n      return fn();\r\n    }\r\n    self.currentRunnable = hook;\r\n\r\n    hook.ctx.currentTest = self.test;\r\n\r\n    self.emit('hook', hook);\r\n\r\n    if (!hook.listeners('error').length) {\r\n      hook.on('error', function(err) {\r\n        self.failHook(hook, err);\r\n      });\r\n    }\r\n\r\n    hook.run(function(err) {\r\n      var testError = hook.error();\r\n      if (testError) {\r\n        self.fail(self.test, testError);\r\n      }\r\n      if (err) {\r\n        if (err instanceof Pending) {\r\n          suite.pending = true;\r\n        } else {\r\n          self.failHook(hook, err);\r\n\r\n          // stop executing hooks, notify callee of hook err\r\n          return fn(err);\r\n        }\r\n      }\r\n      self.emit('hook end', hook);\r\n      delete hook.ctx.currentTest;\r\n      next(++i);\r\n    });\r\n  }\r\n\r\n  Runner.immediately(function() {\r\n    next(0);\r\n  });\r\n};\r\n\r\n/**\r\n * Run hook `name` for the given array of `suites`\r\n * in order, and callback `fn(err, errSuite)`.\r\n *\r\n * @api private\r\n * @param {string} name\r\n * @param {Array} suites\r\n * @param {Function} fn\r\n */\r\nRunner.prototype.hooks = function(name, suites, fn) {\r\n  var self = this;\r\n  var orig = this.suite;\r\n\r\n  function next(suite) {\r\n    self.suite = suite;\r\n\r\n    if (!suite) {\r\n      self.suite = orig;\r\n      return fn();\r\n    }\r\n\r\n    self.hook(name, function(err) {\r\n      if (err) {\r\n        var errSuite = self.suite;\r\n        self.suite = orig;\r\n        return fn(err, errSuite);\r\n      }\r\n\r\n      next(suites.pop());\r\n    });\r\n  }\r\n\r\n  next(suites.pop());\r\n};\r\n\r\n/**\r\n * Run hooks from the top level down.\r\n *\r\n * @param {String} name\r\n * @param {Function} fn\r\n * @api private\r\n */\r\nRunner.prototype.hookUp = function(name, fn) {\r\n  var suites = [this.suite].concat(this.parents()).reverse();\r\n  this.hooks(name, suites, fn);\r\n};\r\n\r\n/**\r\n * Run hooks from the bottom up.\r\n *\r\n * @param {String} name\r\n * @param {Function} fn\r\n * @api private\r\n */\r\nRunner.prototype.hookDown = function(name, fn) {\r\n  var suites = [this.suite].concat(this.parents());\r\n  this.hooks(name, suites, fn);\r\n};\r\n\r\n/**\r\n * Return an array of parent Suites from\r\n * closest to furthest.\r\n *\r\n * @return {Array}\r\n * @api private\r\n */\r\nRunner.prototype.parents = function() {\r\n  var suite = this.suite;\r\n  var suites = [];\r\n  while (suite.parent) {\r\n    suite = suite.parent;\r\n    suites.push(suite);\r\n  }\r\n  return suites;\r\n};\r\n\r\n/**\r\n * Run the current test and callback `fn(err)`.\r\n *\r\n * @param {Function} fn\r\n * @api private\r\n */\r\nRunner.prototype.runTest = function(fn) {\r\n  var self = this;\r\n  var test = this.test;\r\n\r\n  if (this.asyncOnly) {\r\n    test.asyncOnly = true;\r\n  }\r\n\r\n  if (this.allowUncaught) {\r\n    test.allowUncaught = true;\r\n    return test.run(fn);\r\n  }\r\n  try {\r\n    test.on('error', function(err) {\r\n      self.fail(test, err);\r\n    });\r\n    test.run(fn);\r\n  } catch (err) {\r\n    fn(err);\r\n  }\r\n};\r\n\r\n/**\r\n * Run tests in the given `suite` and invoke the callback `fn()` when complete.\r\n *\r\n * @api private\r\n * @param {Suite} suite\r\n * @param {Function} fn\r\n */\r\nRunner.prototype.runTests = function(suite, fn) {\r\n  var self = this;\r\n  var tests = suite.tests.slice();\r\n  var test;\r\n\r\n  function hookErr(_, errSuite, after) {\r\n    // before/after Each hook for errSuite failed:\r\n    var orig = self.suite;\r\n\r\n    // for failed 'after each' hook start from errSuite parent,\r\n    // otherwise start from errSuite itself\r\n    self.suite = after ? errSuite.parent : errSuite;\r\n\r\n    if (self.suite) {\r\n      // call hookUp afterEach\r\n      self.hookUp('afterEach', function(err2, errSuite2) {\r\n        self.suite = orig;\r\n        // some hooks may fail even now\r\n        if (err2) {\r\n          return hookErr(err2, errSuite2, true);\r\n        }\r\n        // report error suite\r\n        fn(errSuite);\r\n      });\r\n    } else {\r\n      // there is no need calling other 'after each' hooks\r\n      self.suite = orig;\r\n      fn(errSuite);\r\n    }\r\n  }\r\n\r\n  function next(err, errSuite) {\r\n    // if we bail after first err\r\n    if (self.failures && suite._bail) {\r\n      return fn();\r\n    }\r\n\r\n    if (self._abort) {\r\n      return fn();\r\n    }\r\n\r\n    if (err) {\r\n      return hookErr(err, errSuite, true);\r\n    }\r\n\r\n    // next test\r\n    test = tests.shift();\r\n\r\n    // all done\r\n    if (!test) {\r\n      return fn();\r\n    }\r\n\r\n    // grep\r\n    var match = self._grep.test(test.fullTitle());\r\n    if (self._invert) {\r\n      match = !match;\r\n    }\r\n    if (!match) {\r\n      // Run immediately only if we have defined a grep. When we\r\n      // define a grep \u00e2\u0080\u0094 It can cause maximum callstack error if\r\n      // the grep is doing a large recursive loop by neglecting\r\n      // all tests. The run immediately function also comes with\r\n      // a performance cost. So we don't want to run immediately\r\n      // if we run the whole test suite, because running the whole\r\n      // test suite don't do any immediate recursive loops. Thus,\r\n      // allowing a JS runtime to breathe.\r\n      if (self._grep !== self._defaultGrep) {\r\n        Runner.immediately(next);\r\n      } else {\r\n        next();\r\n      }\r\n      return;\r\n    }\r\n\r\n    // pending\r\n    if (test.pending) {\r\n      self.emit('pending', test);\r\n      self.emit('test end', test);\r\n      return next();\r\n    }\r\n\r\n    // execute test and hook(s)\r\n    self.emit('test', self.test = test);\r\n    self.hookDown('beforeEach', function(err, errSuite) {\r\n      if (suite.pending) {\r\n        self.emit('pending', test);\r\n        self.emit('test end', test);\r\n        return next();\r\n      }\r\n      if (err) {\r\n        return hookErr(err, errSuite, false);\r\n      }\r\n      self.currentRunnable = self.test;\r\n      self.runTest(function(err) {\r\n        test = self.test;\r\n\r\n        if (err) {\r\n          if (err instanceof Pending) {\r\n            self.emit('pending', test);\r\n          } else {\r\n            self.fail(test, err);\r\n          }\r\n          self.emit('test end', test);\r\n\r\n          if (err instanceof Pending) {\r\n            return next();\r\n          }\r\n\r\n          return self.hookUp('afterEach', next);\r\n        }\r\n\r\n        test.state = 'passed';\r\n        self.emit('pass', test);\r\n        self.emit('test end', test);\r\n        self.hookUp('afterEach', next);\r\n      });\r\n    });\r\n  }\r\n\r\n  this.next = next;\r\n  this.hookErr = hookErr;\r\n  next();\r\n};\r\n\r\n/**\r\n * Run the given `suite` and invoke the callback `fn()` when complete.\r\n *\r\n * @api private\r\n * @param {Suite} suite\r\n * @param {Function} fn\r\n */\r\nRunner.prototype.runSuite = function(suite, fn) {\r\n  var i = 0;\r\n  var self = this;\r\n  var total = this.grepTotal(suite);\r\n  var afterAllHookCalled = false;\r\n\r\n  debug('run suite %s', suite.fullTitle());\r\n\r\n  if (!total || (self.failures && suite._bail)) {\r\n    return fn();\r\n  }\r\n\r\n  this.emit('suite', this.suite = suite);\r\n\r\n  function next(errSuite) {\r\n    if (errSuite) {\r\n      // current suite failed on a hook from errSuite\r\n      if (errSuite === suite) {\r\n        // if errSuite is current suite\r\n        // continue to the next sibling suite\r\n        return done();\r\n      }\r\n      // errSuite is among the parents of current suite\r\n      // stop execution of errSuite and all sub-suites\r\n      return done(errSuite);\r\n    }\r\n\r\n    if (self._abort) {\r\n      return done();\r\n    }\r\n\r\n    var curr = suite.suites[i++];\r\n    if (!curr) {\r\n      return done();\r\n    }\r\n\r\n    // Avoid grep neglecting large number of tests causing a\r\n    // huge recursive loop and thus a maximum call stack error.\r\n    // See comment in `this.runTests()` for more information.\r\n    if (self._grep !== self._defaultGrep) {\r\n      Runner.immediately(function() {\r\n        self.runSuite(curr, next);\r\n      });\r\n    } else {\r\n      self.runSuite(curr, next);\r\n    }\r\n  }\r\n\r\n  function done(errSuite) {\r\n    self.suite = suite;\r\n    self.nextSuite = next;\r\n\r\n    if (afterAllHookCalled) {\r\n      fn(errSuite);\r\n    } else {\r\n      // mark that the afterAll block has been called once\r\n      // and so can be skipped if there is an error in it.\r\n      afterAllHookCalled = true;\r\n      self.hook('afterAll', function() {\r\n        self.emit('suite end', suite);\r\n        fn(errSuite);\r\n      });\r\n    }\r\n  }\r\n\r\n  this.nextSuite = next;\r\n\r\n  this.hook('beforeAll', function(err) {\r\n    if (err) {\r\n      return done();\r\n    }\r\n    self.runTests(suite, next);\r\n  });\r\n};\r\n\r\n/**\r\n * Handle uncaught exceptions.\r\n *\r\n * @param {Error} err\r\n * @api private\r\n */\r\nRunner.prototype.uncaught = function(err) {\r\n  if (err) {\r\n    debug('uncaught exception %s', err !== function() {\r\n      return this;\r\n    }.call(err) ? err : (err.message || err));\r\n  } else {\r\n    debug('uncaught undefined exception');\r\n    err = undefinedError();\r\n  }\r\n  err.uncaught = true;\r\n\r\n  var runnable = this.currentRunnable;\r\n\r\n  if (!runnable) {\r\n    runnable = new Runnable('Uncaught error outside test suite');\r\n    runnable.parent = this.suite;\r\n\r\n    if (this.started) {\r\n      this.fail(runnable, err);\r\n    } else {\r\n      // Can't recover from this failure\r\n      this.emit('start');\r\n      this.fail(runnable, err);\r\n      this.emit('end');\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  runnable.clearTimeout();\r\n\r\n  // Ignore errors if complete\r\n  if (runnable.state) {\r\n    return;\r\n  }\r\n  this.fail(runnable, err);\r\n\r\n  // recover from test\r\n  if (runnable.type === 'test') {\r\n    this.emit('test end', runnable);\r\n    this.hookUp('afterEach', this.next);\r\n    return;\r\n  }\r\n\r\n // recover from hooks\r\n  if (runnable.type === 'hook') {\r\n    var errSuite = this.suite;\r\n    // if hook failure is in afterEach block\r\n    if (runnable.fullTitle().indexOf('after each') > -1) {\r\n      return this.hookErr(err, errSuite, true);\r\n    }\r\n    // if hook failure is in beforeEach block\r\n    if (runnable.fullTitle().indexOf('before each') > -1) {\r\n      return this.hookErr(err, errSuite, false);\r\n    }\r\n    // if hook failure is in after or before blocks\r\n    return this.nextSuite(errSuite);\r\n  }\r\n\r\n  // bail\r\n  this.emit('end');\r\n};\r\n\r\n/**\r\n * Run the root suite and invoke `fn(failures)`\r\n * on completion.\r\n *\r\n * @param {Function} fn\r\n * @return {Runner} for chaining\r\n * @api public\r\n * @param {Function} fn\r\n * @return {Runner} Runner instance.\r\n */\r\nRunner.prototype.run = function(fn) {\r\n  var self = this;\r\n  var rootSuite = this.suite;\r\n\r\n  fn = fn || function() {};\r\n\r\n  function uncaught(err) {\r\n    self.uncaught(err);\r\n  }\r\n\r\n  function start() {\r\n    self.started = true;\r\n    self.emit('start');\r\n    self.runSuite(rootSuite, function() {\r\n      debug('finished running');\r\n      self.emit('end');\r\n    });\r\n  }\r\n\r\n  debug('start');\r\n\r\n  // callback\r\n  this.on('end', function() {\r\n    debug('end');\r\n    process.removeListener('uncaughtException', uncaught);\r\n    fn(self.failures);\r\n  });\r\n\r\n  // uncaught exception\r\n  process.on('uncaughtException', uncaught);\r\n\r\n  if (this._delay) {\r\n    // for reporters, I guess.\r\n    // might be nice to debounce some dots while we wait.\r\n    this.emit('waiting', rootSuite);\r\n    rootSuite.once('run', start);\r\n  } else {\r\n    start();\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Cleanly abort execution.\r\n *\r\n * @api public\r\n * @return {Runner} Runner instance.\r\n */\r\nRunner.prototype.abort = function() {\r\n  debug('aborting');\r\n  this._abort = true;\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Filter leaks with the given globals flagged as `ok`.\r\n *\r\n * @api private\r\n * @param {Array} ok\r\n * @param {Array} globals\r\n * @return {Array}\r\n */\r\nfunction filterLeaks(ok, globals) {\r\n  return filter(globals, function(key) {\r\n    // Firefox and Chrome exposes iframes as index inside the window object\r\n    if (/^d+/.test(key)) {\r\n      return false;\r\n    }\r\n\r\n    // in firefox\r\n    // if runner runs in an iframe, this iframe's window.getInterface method not init at first\r\n    // it is assigned in some seconds\r\n    if (global.navigator && (/^getInterface/).test(key)) {\r\n      return false;\r\n    }\r\n\r\n    // an iframe could be approached by window[iframeIndex]\r\n    // in ie6,7,8 and opera, iframeIndex is enumerable, this could cause leak\r\n    if (global.navigator && (/^\\d+/).test(key)) {\r\n      return false;\r\n    }\r\n\r\n    // Opera and IE expose global variables for HTML element IDs (issue #243)\r\n    if (/^mocha-/.test(key)) {\r\n      return false;\r\n    }\r\n\r\n    var matched = filter(ok, function(ok) {\r\n      if (~ok.indexOf('*')) {\r\n        return key.indexOf(ok.split('*')[0]) === 0;\r\n      }\r\n      return key === ok;\r\n    });\r\n    return !matched.length && (!global.navigator || key !== 'onerror');\r\n  });\r\n}\r\n\r\n/**\r\n * Array of globals dependent on the environment.\r\n *\r\n * @return {Array}\r\n * @api private\r\n */\r\nfunction extraGlobals() {\r\n  if (typeof process === 'object' && typeof process.version === 'string') {\r\n    var parts = process.version.split('.');\r\n    var nodeVersion = utils.reduce(parts, function(a, v) {\r\n      return a << 8 | v;\r\n    });\r\n\r\n    // 'errno' was renamed to process._errno in v0.9.11.\r\n\r\n    if (nodeVersion < 0x00090B) {\r\n      return ['errno'];\r\n    }\r\n  }\r\n\r\n  return [];\r\n}\r\n\r\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./pending\":16,\"./runnable\":35,\"./utils\":39,\"_process\":51,\"debug\":2,\"events\":3}],37:[function(require,module,exports){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar EventEmitter = require('events').EventEmitter;\r\nvar Hook = require('./hook');\r\nvar utils = require('./utils');\r\nvar inherits = utils.inherits;\r\nvar debug = require('debug')('mocha:suite');\r\nvar milliseconds = require('./ms');\r\n\r\n/**\r\n * Expose `Suite`.\r\n */\r\n\r\nexports = module.exports = Suite;\r\n\r\n/**\r\n * Create a new `Suite` with the given `title` and parent `Suite`. When a suite\r\n * with the same title is already present, that suite is returned to provide\r\n * nicer reporter and more flexible meta-testing.\r\n *\r\n * @api public\r\n * @param {Suite} parent\r\n * @param {string} title\r\n * @return {Suite}\r\n */\r\nexports.create = function(parent, title) {\r\n  var suite = new Suite(title, parent.ctx);\r\n  suite.parent = parent;\r\n  if (parent.pending) {\r\n    suite.pending = true;\r\n  }\r\n  title = suite.fullTitle();\r\n  parent.addSuite(suite);\r\n  return suite;\r\n};\r\n\r\n/**\r\n * Initialize a new `Suite` with the given `title` and `ctx`.\r\n *\r\n * @api private\r\n * @param {string} title\r\n * @param {Context} parentContext\r\n */\r\nfunction Suite(title, parentContext) {\r\n  this.title = title;\r\n  function Context() {}\r\n  Context.prototype = parentContext;\r\n  this.ctx = new Context();\r\n  this.suites = [];\r\n  this.tests = [];\r\n  this.pending = false;\r\n  this._beforeEach = [];\r\n  this._beforeAll = [];\r\n  this._afterEach = [];\r\n  this._afterAll = [];\r\n  this.root = !title;\r\n  this._timeout = 2000;\r\n  this._enableTimeouts = true;\r\n  this._slow = 75;\r\n  this._bail = false;\r\n  this.delayed = false;\r\n}\r\n\r\n/**\r\n * Inherit from `EventEmitter.prototype`.\r\n */\r\ninherits(Suite, EventEmitter);\r\n\r\n/**\r\n * Return a clone of this `Suite`.\r\n *\r\n * @api private\r\n * @return {Suite}\r\n */\r\nSuite.prototype.clone = function() {\r\n  var suite = new Suite(this.title);\r\n  debug('clone');\r\n  suite.ctx = this.ctx;\r\n  suite.timeout(this.timeout());\r\n  suite.enableTimeouts(this.enableTimeouts());\r\n  suite.slow(this.slow());\r\n  suite.bail(this.bail());\r\n  return suite;\r\n};\r\n\r\n/**\r\n * Set timeout `ms` or short-hand such as \"2s\".\r\n *\r\n * @api private\r\n * @param {number|string} ms\r\n * @return {Suite|number} for chaining\r\n */\r\nSuite.prototype.timeout = function(ms) {\r\n  if (!arguments.length) {\r\n    return this._timeout;\r\n  }\r\n  if (ms.toString() === '0') {\r\n    this._enableTimeouts = false;\r\n  }\r\n  if (typeof ms === 'string') {\r\n    ms = milliseconds(ms);\r\n  }\r\n  debug('timeout %d', ms);\r\n  this._timeout = parseInt(ms, 10);\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Set timeout to `enabled`.\r\n  *\r\n  * @api private\r\n  * @param {boolean} enabled\r\n  * @return {Suite|boolean} self or enabled\r\n  */\r\nSuite.prototype.enableTimeouts = function(enabled) {\r\n  if (!arguments.length) {\r\n    return this._enableTimeouts;\r\n  }\r\n  debug('enableTimeouts %s', enabled);\r\n  this._enableTimeouts = enabled;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set slow `ms` or short-hand such as \"2s\".\r\n *\r\n * @api private\r\n * @param {number|string} ms\r\n * @return {Suite|number} for chaining\r\n */\r\nSuite.prototype.slow = function(ms) {\r\n  if (!arguments.length) {\r\n    return this._slow;\r\n  }\r\n  if (typeof ms === 'string') {\r\n    ms = milliseconds(ms);\r\n  }\r\n  debug('slow %d', ms);\r\n  this._slow = ms;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Sets whether to bail after first error.\r\n *\r\n * @api private\r\n * @param {boolean} bail\r\n * @return {Suite|number} for chaining\r\n */\r\nSuite.prototype.bail = function(bail) {\r\n  if (!arguments.length) {\r\n    return this._bail;\r\n  }\r\n  debug('bail %s', bail);\r\n  this._bail = bail;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Run `fn(test[, done])` before running tests.\r\n *\r\n * @api private\r\n * @param {string} title\r\n * @param {Function} fn\r\n * @return {Suite} for chaining\r\n */\r\nSuite.prototype.beforeAll = function(title, fn) {\r\n  if (this.pending) {\r\n    return this;\r\n  }\r\n  if (typeof title === 'function') {\r\n    fn = title;\r\n    title = fn.name;\r\n  }\r\n  title = '\"before all\" hook' + (title ? ': ' + title : '');\r\n\r\n  var hook = new Hook(title, fn);\r\n  hook.parent = this;\r\n  hook.timeout(this.timeout());\r\n  hook.enableTimeouts(this.enableTimeouts());\r\n  hook.slow(this.slow());\r\n  hook.ctx = this.ctx;\r\n  this._beforeAll.push(hook);\r\n  this.emit('beforeAll', hook);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Run `fn(test[, done])` after running tests.\r\n *\r\n * @api private\r\n * @param {string} title\r\n * @param {Function} fn\r\n * @return {Suite} for chaining\r\n */\r\nSuite.prototype.afterAll = function(title, fn) {\r\n  if (this.pending) {\r\n    return this;\r\n  }\r\n  if (typeof title === 'function') {\r\n    fn = title;\r\n    title = fn.name;\r\n  }\r\n  title = '\"after all\" hook' + (title ? ': ' + title : '');\r\n\r\n  var hook = new Hook(title, fn);\r\n  hook.parent = this;\r\n  hook.timeout(this.timeout());\r\n  hook.enableTimeouts(this.enableTimeouts());\r\n  hook.slow(this.slow());\r\n  hook.ctx = this.ctx;\r\n  this._afterAll.push(hook);\r\n  this.emit('afterAll', hook);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Run `fn(test[, done])` before each test case.\r\n *\r\n * @api private\r\n * @param {string} title\r\n * @param {Function} fn\r\n * @return {Suite} for chaining\r\n */\r\nSuite.prototype.beforeEach = function(title, fn) {\r\n  if (this.pending) {\r\n    return this;\r\n  }\r\n  if (typeof title === 'function') {\r\n    fn = title;\r\n    title = fn.name;\r\n  }\r\n  title = '\"before each\" hook' + (title ? ': ' + title : '');\r\n\r\n  var hook = new Hook(title, fn);\r\n  hook.parent = this;\r\n  hook.timeout(this.timeout());\r\n  hook.enableTimeouts(this.enableTimeouts());\r\n  hook.slow(this.slow());\r\n  hook.ctx = this.ctx;\r\n  this._beforeEach.push(hook);\r\n  this.emit('beforeEach', hook);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Run `fn(test[, done])` after each test case.\r\n *\r\n * @api private\r\n * @param {string} title\r\n * @param {Function} fn\r\n * @return {Suite} for chaining\r\n */\r\nSuite.prototype.afterEach = function(title, fn) {\r\n  if (this.pending) {\r\n    return this;\r\n  }\r\n  if (typeof title === 'function') {\r\n    fn = title;\r\n    title = fn.name;\r\n  }\r\n  title = '\"after each\" hook' + (title ? ': ' + title : '');\r\n\r\n  var hook = new Hook(title, fn);\r\n  hook.parent = this;\r\n  hook.timeout(this.timeout());\r\n  hook.enableTimeouts(this.enableTimeouts());\r\n  hook.slow(this.slow());\r\n  hook.ctx = this.ctx;\r\n  this._afterEach.push(hook);\r\n  this.emit('afterEach', hook);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Add a test `suite`.\r\n *\r\n * @api private\r\n * @param {Suite} suite\r\n * @return {Suite} for chaining\r\n */\r\nSuite.prototype.addSuite = function(suite) {\r\n  suite.parent = this;\r\n  suite.timeout(this.timeout());\r\n  suite.enableTimeouts(this.enableTimeouts());\r\n  suite.slow(this.slow());\r\n  suite.bail(this.bail());\r\n  this.suites.push(suite);\r\n  this.emit('suite', suite);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Add a `test` to this suite.\r\n *\r\n * @api private\r\n * @param {Test} test\r\n * @return {Suite} for chaining\r\n */\r\nSuite.prototype.addTest = function(test) {\r\n  test.parent = this;\r\n  test.timeout(this.timeout());\r\n  test.enableTimeouts(this.enableTimeouts());\r\n  test.slow(this.slow());\r\n  test.ctx = this.ctx;\r\n  this.tests.push(test);\r\n  this.emit('test', test);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return the full title generated by recursively concatenating the parent's\r\n * full title.\r\n *\r\n * @api public\r\n * @return {string}\r\n */\r\nSuite.prototype.fullTitle = function() {\r\n  if (this.parent) {\r\n    var full = this.parent.fullTitle();\r\n    if (full) {\r\n      return full + ' ' + this.title;\r\n    }\r\n  }\r\n  return this.title;\r\n};\r\n\r\n/**\r\n * Return the total number of tests.\r\n *\r\n * @api public\r\n * @return {number}\r\n */\r\nSuite.prototype.total = function() {\r\n  return utils.reduce(this.suites, function(sum, suite) {\r\n    return sum + suite.total();\r\n  }, 0) + this.tests.length;\r\n};\r\n\r\n/**\r\n * Iterates through each suite recursively to find all tests. Applies a\r\n * function in the format `fn(test)`.\r\n *\r\n * @api private\r\n * @param {Function} fn\r\n * @return {Suite}\r\n */\r\nSuite.prototype.eachTest = function(fn) {\r\n  utils.forEach(this.tests, fn);\r\n  utils.forEach(this.suites, function(suite) {\r\n    suite.eachTest(fn);\r\n  });\r\n  return this;\r\n};\r\n\r\n/**\r\n * This will run the root suite if we happen to be running in delayed mode.\r\n */\r\nSuite.prototype.run = function run() {\r\n  if (this.root) {\r\n    this.emit('run');\r\n  }\r\n};\r\n\r\n},{\"./hook\":7,\"./ms\":15,\"./utils\":39,\"debug\":2,\"events\":3}],38:[function(require,module,exports){\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar Runnable = require('./runnable');\r\nvar inherits = require('./utils').inherits;\r\n\r\n/**\r\n * Expose `Test`.\r\n */\r\n\r\nmodule.exports = Test;\r\n\r\n/**\r\n * Initialize a new `Test` with the given `title` and callback `fn`.\r\n *\r\n * @api private\r\n * @param {String} title\r\n * @param {Function} fn\r\n */\r\nfunction Test(title, fn) {\r\n  Runnable.call(this, title, fn);\r\n  this.pending = !fn;\r\n  this.type = 'test';\r\n}\r\n\r\n/**\r\n * Inherit from `Runnable.prototype`.\r\n */\r\ninherits(Test, Runnable);\r\n\r\n},{\"./runnable\":35,\"./utils\":39}],39:[function(require,module,exports){\r\n(function (process,Buffer){\r\n/* eslint-env browser */\r\n\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar basename = require('path').basename;\r\nvar debug = require('debug')('mocha:watch');\r\nvar exists = require('fs').existsSync || require('path').existsSync;\r\nvar glob = require('glob');\r\nvar join = require('path').join;\r\nvar readdirSync = require('fs').readdirSync;\r\nvar statSync = require('fs').statSync;\r\nvar watchFile = require('fs').watchFile;\r\n\r\n/**\r\n * Ignored directories.\r\n */\r\n\r\nvar ignore = ['node_modules', '.git'];\r\n\r\nexports.inherits = require('util').inherits;\r\n\r\n/**\r\n * Escape special characters in the given string of html.\r\n *\r\n * @api private\r\n * @param  {string} html\r\n * @return {string}\r\n */\r\nexports.escape = function(html) {\r\n  return String(html)\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/\"/g, '&quot;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;');\r\n};\r\n\r\n/**\r\n * Array#forEach (<=IE8)\r\n *\r\n * @api private\r\n * @param {Array} arr\r\n * @param {Function} fn\r\n * @param {Object} scope\r\n */\r\nexports.forEach = function(arr, fn, scope) {\r\n  for (var i = 0, l = arr.length; i < l; i++) {\r\n    fn.call(scope, arr[i], i);\r\n  }\r\n};\r\n\r\n/**\r\n * Test if the given obj is type of string.\r\n *\r\n * @api private\r\n * @param {Object} obj\r\n * @return {boolean}\r\n */\r\nexports.isString = function(obj) {\r\n  return typeof obj === 'string';\r\n};\r\n\r\n/**\r\n * Array#map (<=IE8)\r\n *\r\n * @api private\r\n * @param {Array} arr\r\n * @param {Function} fn\r\n * @param {Object} scope\r\n * @return {Array}\r\n */\r\nexports.map = function(arr, fn, scope) {\r\n  var result = [];\r\n  for (var i = 0, l = arr.length; i < l; i++) {\r\n    result.push(fn.call(scope, arr[i], i, arr));\r\n  }\r\n  return result;\r\n};\r\n\r\n/**\r\n * Array#indexOf (<=IE8)\r\n *\r\n * @api private\r\n * @param {Array} arr\r\n * @param {Object} obj to find index of\r\n * @param {number} start\r\n * @return {number}\r\n */\r\nexports.indexOf = function(arr, obj, start) {\r\n  for (var i = start || 0, l = arr.length; i < l; i++) {\r\n    if (arr[i] === obj) {\r\n      return i;\r\n    }\r\n  }\r\n  return -1;\r\n};\r\n\r\n/**\r\n * Array#reduce (<=IE8)\r\n *\r\n * @api private\r\n * @param {Array} arr\r\n * @param {Function} fn\r\n * @param {Object} val Initial value.\r\n * @return {*}\r\n */\r\nexports.reduce = function(arr, fn, val) {\r\n  var rval = val;\r\n\r\n  for (var i = 0, l = arr.length; i < l; i++) {\r\n    rval = fn(rval, arr[i], i, arr);\r\n  }\r\n\r\n  return rval;\r\n};\r\n\r\n/**\r\n * Array#filter (<=IE8)\r\n *\r\n * @api private\r\n * @param {Array} arr\r\n * @param {Function} fn\r\n * @return {Array}\r\n */\r\nexports.filter = function(arr, fn) {\r\n  var ret = [];\r\n\r\n  for (var i = 0, l = arr.length; i < l; i++) {\r\n    var val = arr[i];\r\n    if (fn(val, i, arr)) {\r\n      ret.push(val);\r\n    }\r\n  }\r\n\r\n  return ret;\r\n};\r\n\r\n/**\r\n * Object.keys (<=IE8)\r\n *\r\n * @api private\r\n * @param {Object} obj\r\n * @return {Array} keys\r\n */\r\nexports.keys = typeof Object.keys === 'function' ? Object.keys : function(obj) {\r\n  var keys = [];\r\n  var has = Object.prototype.hasOwnProperty; // for `window` on <=IE8\r\n\r\n  for (var key in obj) {\r\n    if (has.call(obj, key)) {\r\n      keys.push(key);\r\n    }\r\n  }\r\n\r\n  return keys;\r\n};\r\n\r\n/**\r\n * Watch the given `files` for changes\r\n * and invoke `fn(file)` on modification.\r\n *\r\n * @api private\r\n * @param {Array} files\r\n * @param {Function} fn\r\n */\r\nexports.watch = function(files, fn) {\r\n  var options = { interval: 100 };\r\n  files.forEach(function(file) {\r\n    debug('file %s', file);\r\n    watchFile(file, options, function(curr, prev) {\r\n      if (prev.mtime < curr.mtime) {\r\n        fn(file);\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Array.isArray (<=IE8)\r\n *\r\n * @api private\r\n * @param {Object} obj\r\n * @return {Boolean}\r\n */\r\nvar isArray = typeof Array.isArray === 'function' ? Array.isArray : function(obj) {\r\n  return Object.prototype.toString.call(obj) === '[object Array]';\r\n};\r\n\r\n/**\r\n * Buffer.prototype.toJSON polyfill.\r\n *\r\n * @type {Function}\r\n */\r\nif (typeof Buffer !== 'undefined' && Buffer.prototype) {\r\n  Buffer.prototype.toJSON = Buffer.prototype.toJSON || function() {\r\n    return Array.prototype.slice.call(this, 0);\r\n  };\r\n}\r\n\r\n/**\r\n * Ignored files.\r\n *\r\n * @api private\r\n * @param {string} path\r\n * @return {boolean}\r\n */\r\nfunction ignored(path) {\r\n  return !~ignore.indexOf(path);\r\n}\r\n\r\n/**\r\n * Lookup files in the given `dir`.\r\n *\r\n * @api private\r\n * @param {string} dir\r\n * @param {string[]} [ext=['.js']]\r\n * @param {Array} [ret=[]]\r\n * @return {Array}\r\n */\r\nexports.files = function(dir, ext, ret) {\r\n  ret = ret || [];\r\n  ext = ext || ['js'];\r\n\r\n  var re = new RegExp('\\\\.(' + ext.join('|') + ')$');\r\n\r\n  readdirSync(dir)\r\n    .filter(ignored)\r\n    .forEach(function(path) {\r\n      path = join(dir, path);\r\n      if (statSync(path).isDirectory()) {\r\n        exports.files(path, ext, ret);\r\n      } else if (path.match(re)) {\r\n        ret.push(path);\r\n      }\r\n    });\r\n\r\n  return ret;\r\n};\r\n\r\n/**\r\n * Compute a slug from the given `str`.\r\n *\r\n * @api private\r\n * @param {string} str\r\n * @return {string}\r\n */\r\nexports.slug = function(str) {\r\n  return str\r\n    .toLowerCase()\r\n    .replace(/ +/g, '-')\r\n    .replace(/[^-\\w]/g, '');\r\n};\r\n\r\n/**\r\n * Strip the function definition from `str`, and re-indent for pre whitespace.\r\n *\r\n * @param {string} str\r\n * @return {string}\r\n */\r\nexports.clean = function(str) {\r\n  str = str\r\n    .replace(/\\r\\n?|[\\n\\u2028\\u2029]/g, '\\n').replace(/^\\uFEFF/, '')\r\n    .replace(/^function *\\(.*\\)\\s*{|\\(.*\\) *=> *{?/, '')\r\n    .replace(/\\s+\\}$/, '');\r\n\r\n  var spaces = str.match(/^\\n?( *)/)[1].length;\r\n  var tabs = str.match(/^\\n?(\\t*)/)[1].length;\r\n  var re = new RegExp('^\\n?' + (tabs ? '\\t' : ' ') + '{' + (tabs ? tabs : spaces) + '}', 'gm');\r\n\r\n  str = str.replace(re, '');\r\n\r\n  return exports.trim(str);\r\n};\r\n\r\n/**\r\n * Trim the given `str`.\r\n *\r\n * @api private\r\n * @param {string} str\r\n * @return {string}\r\n */\r\nexports.trim = function(str) {\r\n  return str.replace(/^\\s+|\\s+$/g, '');\r\n};\r\n\r\n/**\r\n * Parse the given `qs`.\r\n *\r\n * @api private\r\n * @param {string} qs\r\n * @return {Object}\r\n */\r\nexports.parseQuery = function(qs) {\r\n  return exports.reduce(qs.replace('?', '').split('&'), function(obj, pair) {\r\n    var i = pair.indexOf('=');\r\n    var key = pair.slice(0, i);\r\n    var val = pair.slice(++i);\r\n\r\n    obj[key] = decodeURIComponent(val);\r\n    return obj;\r\n  }, {});\r\n};\r\n\r\n/**\r\n * Highlight the given string of `js`.\r\n *\r\n * @api private\r\n * @param {string} js\r\n * @return {string}\r\n */\r\nfunction highlight(js) {\r\n  return js\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;')\r\n    .replace(/\\/\\/(.*)/gm, '<span class=\"comment\">//$1</span>')\r\n    .replace(/('.*?')/gm, '<span class=\"string\">$1</span>')\r\n    .replace(/(\\d+\\.\\d+)/gm, '<span class=\"number\">$1</span>')\r\n    .replace(/(\\d+)/gm, '<span class=\"number\">$1</span>')\r\n    .replace(/\\bnew[ \\t]+(\\w+)/gm, '<span class=\"keyword\">new</span> <span class=\"init\">$1</span>')\r\n    .replace(/\\b(function|new|throw|return|var|if|else)\\b/gm, '<span class=\"keyword\">$1</span>');\r\n}\r\n\r\n/**\r\n * Highlight the contents of tag `name`.\r\n *\r\n * @api private\r\n * @param {string} name\r\n */\r\nexports.highlightTags = function(name) {\r\n  var code = document.getElementById('mocha').getElementsByTagName(name);\r\n  for (var i = 0, len = code.length; i < len; ++i) {\r\n    code[i].innerHTML = highlight(code[i].innerHTML);\r\n  }\r\n};\r\n\r\n/**\r\n * If a value could have properties, and has none, this function is called,\r\n * which returns a string representation of the empty value.\r\n *\r\n * Functions w/ no properties return `'[Function]'`\r\n * Arrays w/ length === 0 return `'[]'`\r\n * Objects w/ no properties return `'{}'`\r\n * All else: return result of `value.toString()`\r\n *\r\n * @api private\r\n * @param {*} value The value to inspect.\r\n * @param {string} [type] The type of the value, if known.\r\n * @returns {string}\r\n */\r\nfunction emptyRepresentation(value, type) {\r\n  type = type || exports.type(value);\r\n\r\n  switch (type) {\r\n    case 'function':\r\n      return '[Function]';\r\n    case 'object':\r\n      return '{}';\r\n    case 'array':\r\n      return '[]';\r\n    default:\r\n      return value.toString();\r\n  }\r\n}\r\n\r\n/**\r\n * Takes some variable and asks `Object.prototype.toString()` what it thinks it\r\n * is.\r\n *\r\n * @api private\r\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString\r\n * @param {*} value The value to test.\r\n * @returns {string}\r\n * @example\r\n * type({}) // 'object'\r\n * type([]) // 'array'\r\n * type(1) // 'number'\r\n * type(false) // 'boolean'\r\n * type(Infinity) // 'number'\r\n * type(null) // 'null'\r\n * type(new Date()) // 'date'\r\n * type(/foo/) // 'regexp'\r\n * type('type') // 'string'\r\n * type(global) // 'global'\r\n */\r\nexports.type = function type(value) {\r\n  if (value === undefined) {\r\n    return 'undefined';\r\n  } else if (value === null) {\r\n    return 'null';\r\n  } else if (typeof Buffer !== 'undefined' && Buffer.isBuffer(value)) {\r\n    return 'buffer';\r\n  }\r\n  return Object.prototype.toString.call(value)\r\n    .replace(/^\\[.+\\s(.+?)\\]$/, '$1')\r\n    .toLowerCase();\r\n};\r\n\r\n/**\r\n * Stringify `value`. Different behavior depending on type of value:\r\n *\r\n * - If `value` is undefined or null, return `'[undefined]'` or `'[null]'`, respectively.\r\n * - If `value` is not an object, function or array, return result of `value.toString()` wrapped in double-quotes.\r\n * - If `value` is an *empty* object, function, or array, return result of function\r\n *   {@link emptyRepresentation}.\r\n * - If `value` has properties, call {@link exports.canonicalize} on it, then return result of\r\n *   JSON.stringify().\r\n *\r\n * @api private\r\n * @see exports.type\r\n * @param {*} value\r\n * @return {string}\r\n */\r\nexports.stringify = function(value) {\r\n  var type = exports.type(value);\r\n\r\n  if (!~exports.indexOf(['object', 'array', 'function'], type)) {\r\n    if (type !== 'buffer') {\r\n      return jsonStringify(value);\r\n    }\r\n    var json = value.toJSON();\r\n    // Based on the toJSON result\r\n    return jsonStringify(json.data && json.type ? json.data : json, 2)\r\n      .replace(/,(\\n|$)/g, '$1');\r\n  }\r\n\r\n  for (var prop in value) {\r\n    if (Object.prototype.hasOwnProperty.call(value, prop)) {\r\n      return jsonStringify(exports.canonicalize(value), 2).replace(/,(\\n|$)/g, '$1');\r\n    }\r\n  }\r\n\r\n  return emptyRepresentation(value, type);\r\n};\r\n\r\n/**\r\n * like JSON.stringify but more sense.\r\n *\r\n * @api private\r\n * @param {Object}  object\r\n * @param {number=} spaces\r\n * @param {number=} depth\r\n * @returns {*}\r\n */\r\nfunction jsonStringify(object, spaces, depth) {\r\n  if (typeof spaces === 'undefined') {\r\n    // primitive types\r\n    return _stringify(object);\r\n  }\r\n\r\n  depth = depth || 1;\r\n  var space = spaces * depth;\r\n  var str = isArray(object) ? '[' : '{';\r\n  var end = isArray(object) ? ']' : '}';\r\n  var length = object.length || exports.keys(object).length;\r\n  // `.repeat()` polyfill\r\n  function repeat(s, n) {\r\n    return new Array(n).join(s);\r\n  }\r\n\r\n  function _stringify(val) {\r\n    switch (exports.type(val)) {\r\n      case 'null':\r\n      case 'undefined':\r\n        val = '[' + val + ']';\r\n        break;\r\n      case 'array':\r\n      case 'object':\r\n        val = jsonStringify(val, spaces, depth + 1);\r\n        break;\r\n      case 'boolean':\r\n      case 'regexp':\r\n      case 'number':\r\n        val = val === 0 && (1 / val) === -Infinity // `-0`\r\n          ? '-0'\r\n          : val.toString();\r\n        break;\r\n      case 'date':\r\n        var sDate = isNaN(val.getTime())        // Invalid date\r\n          ? val.toString()\r\n          : val.toISOString();\r\n        val = '[Date: ' + sDate + ']';\r\n        break;\r\n      case 'buffer':\r\n        var json = val.toJSON();\r\n        // Based on the toJSON result\r\n        json = json.data && json.type ? json.data : json;\r\n        val = '[Buffer: ' + jsonStringify(json, 2, depth + 1) + ']';\r\n        break;\r\n      default:\r\n        val = (val === '[Function]' || val === '[Circular]')\r\n          ? val\r\n          : JSON.stringify(val); // string\r\n    }\r\n    return val;\r\n  }\r\n\r\n  for (var i in object) {\r\n    if (!object.hasOwnProperty(i)) {\r\n      continue; // not my business\r\n    }\r\n    --length;\r\n    str += '\\n ' + repeat(' ', space)\r\n      + (isArray(object) ? '' : '\"' + i + '\": ') // key\r\n      + _stringify(object[i])                     // value\r\n      + (length ? ',' : '');                     // comma\r\n  }\r\n\r\n  return str\r\n    // [], {}\r\n    + (str.length !== 1 ? '\\n' + repeat(' ', --space) + end : end);\r\n}\r\n\r\n/**\r\n * Test if a value is a buffer.\r\n *\r\n * @api private\r\n * @param {*} value The value to test.\r\n * @return {boolean} True if `value` is a buffer, otherwise false\r\n */\r\nexports.isBuffer = function(value) {\r\n  return typeof Buffer !== 'undefined' && Buffer.isBuffer(value);\r\n};\r\n\r\n/**\r\n * Return a new Thing that has the keys in sorted order. Recursive.\r\n *\r\n * If the Thing...\r\n * - has already been seen, return string `'[Circular]'`\r\n * - is `undefined`, return string `'[undefined]'`\r\n * - is `null`, return value `null`\r\n * - is some other primitive, return the value\r\n * - is not a primitive or an `Array`, `Object`, or `Function`, return the value of the Thing's `toString()` method\r\n * - is a non-empty `Array`, `Object`, or `Function`, return the result of calling this function again.\r\n * - is an empty `Array`, `Object`, or `Function`, return the result of calling `emptyRepresentation()`\r\n *\r\n * @api private\r\n * @see {@link exports.stringify}\r\n * @param {*} value Thing to inspect.  May or may not have properties.\r\n * @param {Array} [stack=[]] Stack of seen values\r\n * @return {(Object|Array|Function|string|undefined)}\r\n */\r\nexports.canonicalize = function(value, stack) {\r\n  var canonicalizedObj;\r\n  /* eslint-disable no-unused-vars */\r\n  var prop;\r\n  /* eslint-enable no-unused-vars */\r\n  var type = exports.type(value);\r\n  function withStack(value, fn) {\r\n    stack.push(value);\r\n    fn();\r\n    stack.pop();\r\n  }\r\n\r\n  stack = stack || [];\r\n\r\n  if (exports.indexOf(stack, value) !== -1) {\r\n    return '[Circular]';\r\n  }\r\n\r\n  switch (type) {\r\n    case 'undefined':\r\n    case 'buffer':\r\n    case 'null':\r\n      canonicalizedObj = value;\r\n      break;\r\n    case 'array':\r\n      withStack(value, function() {\r\n        canonicalizedObj = exports.map(value, function(item) {\r\n          return exports.canonicalize(item, stack);\r\n        });\r\n      });\r\n      break;\r\n    case 'function':\r\n      /* eslint-disable guard-for-in */\r\n      for (prop in value) {\r\n        canonicalizedObj = {};\r\n        break;\r\n      }\r\n      /* eslint-enable guard-for-in */\r\n      if (!canonicalizedObj) {\r\n        canonicalizedObj = emptyRepresentation(value, type);\r\n        break;\r\n      }\r\n    /* falls through */\r\n    case 'object':\r\n      canonicalizedObj = canonicalizedObj || {};\r\n      withStack(value, function() {\r\n        exports.forEach(exports.keys(value).sort(), function(key) {\r\n          canonicalizedObj[key] = exports.canonicalize(value[key], stack);\r\n        });\r\n      });\r\n      break;\r\n    case 'date':\r\n    case 'number':\r\n    case 'regexp':\r\n    case 'boolean':\r\n      canonicalizedObj = value;\r\n      break;\r\n    default:\r\n      canonicalizedObj = value.toString();\r\n  }\r\n\r\n  return canonicalizedObj;\r\n};\r\n\r\n/**\r\n * Lookup file names at the given `path`.\r\n *\r\n * @api public\r\n * @param {string} path Base path to start searching from.\r\n * @param {string[]} extensions File extensions to look for.\r\n * @param {boolean} recursive Whether or not to recurse into subdirectories.\r\n * @return {string[]} An array of paths.\r\n */\r\nexports.lookupFiles = function lookupFiles(path, extensions, recursive) {\r\n  var files = [];\r\n  var re = new RegExp('\\\\.(' + extensions.join('|') + ')$');\r\n\r\n  if (!exists(path)) {\r\n    if (exists(path + '.js')) {\r\n      path += '.js';\r\n    } else {\r\n      files = glob.sync(path);\r\n      if (!files.length) {\r\n        throw new Error(\"cannot resolve path (or pattern) '\" + path + \"'\");\r\n      }\r\n      return files;\r\n    }\r\n  }\r\n\r\n  try {\r\n    var stat = statSync(path);\r\n    if (stat.isFile()) {\r\n      return path;\r\n    }\r\n  } catch (err) {\r\n    // ignore error\r\n    return;\r\n  }\r\n\r\n  readdirSync(path).forEach(function(file) {\r\n    file = join(path, file);\r\n    try {\r\n      var stat = statSync(file);\r\n      if (stat.isDirectory()) {\r\n        if (recursive) {\r\n          files = files.concat(lookupFiles(file, extensions, recursive));\r\n        }\r\n        return;\r\n      }\r\n    } catch (err) {\r\n      // ignore error\r\n      return;\r\n    }\r\n    if (!stat.isFile() || !re.test(file) || basename(file)[0] === '.') {\r\n      return;\r\n    }\r\n    files.push(file);\r\n  });\r\n\r\n  return files;\r\n};\r\n\r\n/**\r\n * Generate an undefined error with a message warning the user.\r\n *\r\n * @return {Error}\r\n */\r\n\r\nexports.undefinedError = function() {\r\n  return new Error('Caught undefined error, did you throw without specifying what?');\r\n};\r\n\r\n/**\r\n * Generate an undefined error if `err` is not defined.\r\n *\r\n * @param {Error} err\r\n * @return {Error}\r\n */\r\n\r\nexports.getError = function(err) {\r\n  return err || exports.undefinedError();\r\n};\r\n\r\n/**\r\n * @summary\r\n * This Filter based on `mocha-clean` module.(see: `github.com/rstacruz/mocha-clean`)\r\n * @description\r\n * When invoking this function you get a filter function that get the Error.stack as an input,\r\n * and return a prettify output.\r\n * (i.e: strip Mocha and internal node functions from stack trace).\r\n * @returns {Function}\r\n */\r\nexports.stackTraceFilter = function() {\r\n  // TODO: Replace with `process.browser`\r\n  var slash = '/';\r\n  var is = typeof document === 'undefined' ? { node: true } : { browser: true };\r\n  var cwd = is.node\r\n      ? process.cwd() + slash\r\n      : (typeof location === 'undefined' ? window.location : location).href.replace(/\\/[^\\/]*$/, '/');\r\n\r\n  function isMochaInternal(line) {\r\n    return (~line.indexOf('node_modules' + slash + 'mocha' + slash))\r\n      || (~line.indexOf('components' + slash + 'mochajs' + slash))\r\n      || (~line.indexOf('components' + slash + 'mocha' + slash))\r\n      || (~line.indexOf(slash + 'mocha.js'));\r\n  }\r\n\r\n  function isNodeInternal(line) {\r\n    return (~line.indexOf('(timers.js:'))\r\n      || (~line.indexOf('(events.js:'))\r\n      || (~line.indexOf('(node.js:'))\r\n      || (~line.indexOf('(module.js:'))\r\n      || (~line.indexOf('GeneratorFunctionPrototype.next (native)'))\r\n      || false;\r\n  }\r\n\r\n  return function(stack) {\r\n    stack = stack.split('\\n');\r\n\r\n    stack = exports.reduce(stack, function(list, line) {\r\n      if (isMochaInternal(line)) {\r\n        return list;\r\n      }\r\n\r\n      if (is.node && isNodeInternal(line)) {\r\n        return list;\r\n      }\r\n\r\n      // Clean up cwd(absolute)\r\n      list.push(line.replace(cwd, ''));\r\n      return list;\r\n    }, []);\r\n\r\n    return stack.join('\\n');\r\n  };\r\n};\r\n\r\n}).call(this,require('_process'),require(\"buffer\").Buffer)\r\n},{\"_process\":51,\"buffer\":43,\"debug\":2,\"fs\":41,\"glob\":41,\"path\":41,\"util\":66}],40:[function(require,module,exports){\r\n(function (process){\r\nvar WritableStream = require('stream').Writable\r\nvar inherits = require('util').inherits\r\n\r\nmodule.exports = BrowserStdout\r\n\r\n\r\ninherits(BrowserStdout, WritableStream)\r\n\r\nfunction BrowserStdout(opts) {\r\n  if (!(this instanceof BrowserStdout)) return new BrowserStdout(opts)\r\n\r\n  opts = opts || {}\r\n  WritableStream.call(this, opts)\r\n  this.label = (opts.label !== undefined) ? opts.label : 'stdout'\r\n}\r\n\r\nBrowserStdout.prototype._write = function(chunks, encoding, cb) {\r\n  var output = chunks.toString ? chunks.toString() : chunks\r\n  if (this.label === false) {\r\n    console.log(output)\r\n  } else {\r\n    console.log(this.label+':', output)\r\n  }\r\n  process.nextTick(cb)\r\n}\r\n\r\n}).call(this,require('_process'))\r\n},{\"_process\":51,\"stream\":63,\"util\":66}],41:[function(require,module,exports){\r\n\r\n},{}],42:[function(require,module,exports){\r\narguments[4][41][0].apply(exports,arguments)\r\n},{\"dup\":41}],43:[function(require,module,exports){\r\n/*!\r\n * The buffer module from node.js, for the browser.\r\n *\r\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\r\n * @license  MIT\r\n */\r\n\r\nvar base64 = require('base64-js')\r\nvar ieee754 = require('ieee754')\r\nvar isArray = require('is-array')\r\n\r\nexports.Buffer = Buffer\r\nexports.SlowBuffer = SlowBuffer\r\nexports.INSPECT_MAX_BYTES = 50\r\nBuffer.poolSize = 8192 // not used by this implementation\r\n\r\nvar rootParent = {}\r\n\r\n/**\r\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\r\n *   === true    Use Uint8Array implementation (fastest)\r\n *   === false   Use Object implementation (most compatible, even IE6)\r\n *\r\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\r\n * Opera 11.6+, iOS 4.2+.\r\n *\r\n * Due to various browser bugs, sometimes the Object implementation will be used even\r\n * when the browser supports typed arrays.\r\n *\r\n * Note:\r\n *\r\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\r\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\r\n *\r\n *   - Safari 5-7 lacks support for changing the `Object.prototype.constructor` property\r\n *     on objects.\r\n *\r\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\r\n *\r\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\r\n *     incorrect length in some situations.\r\n\r\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\r\n * get the Object implementation, which is slower but behaves correctly.\r\n */\r\nBuffer.TYPED_ARRAY_SUPPORT = (function () {\r\n  function Bar () {}\r\n  try {\r\n    var arr = new Uint8Array(1)\r\n    arr.foo = function () { return 42 }\r\n    arr.constructor = Bar\r\n    return arr.foo() === 42 && // typed array instances can be augmented\r\n        arr.constructor === Bar && // constructor can be set\r\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\r\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\r\n  } catch (e) {\r\n    return false\r\n  }\r\n})()\r\n\r\nfunction kMaxLength () {\r\n  return Buffer.TYPED_ARRAY_SUPPORT\r\n    ? 0x7fffffff\r\n    : 0x3fffffff\r\n}\r\n\r\n/**\r\n * Class: Buffer\r\n * =============\r\n *\r\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\r\n * with function properties for all the node `Buffer` API functions. We use\r\n * `Uint8Array` so that square bracket notation works as expected -- it returns\r\n * a single octet.\r\n *\r\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\r\n * prototype.\r\n */\r\nfunction Buffer (arg) {\r\n  if (!(this instanceof Buffer)) {\r\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\r\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\r\n    return new Buffer(arg)\r\n  }\r\n\r\n  this.length = 0\r\n  this.parent = undefined\r\n\r\n  // Common case.\r\n  if (typeof arg === 'number') {\r\n    return fromNumber(this, arg)\r\n  }\r\n\r\n  // Slightly less common case.\r\n  if (typeof arg === 'string') {\r\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\r\n  }\r\n\r\n  // Unusual.\r\n  return fromObject(this, arg)\r\n}\r\n\r\nfunction fromNumber (that, length) {\r\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\r\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\r\n    for (var i = 0; i < length; i++) {\r\n      that[i] = 0\r\n    }\r\n  }\r\n  return that\r\n}\r\n\r\nfunction fromString (that, string, encoding) {\r\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\r\n\r\n  // Assumption: byteLength() return value is always < kMaxLength.\r\n  var length = byteLength(string, encoding) | 0\r\n  that = allocate(that, length)\r\n\r\n  that.write(string, encoding)\r\n  return that\r\n}\r\n\r\nfunction fromObject (that, object) {\r\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\r\n\r\n  if (isArray(object)) return fromArray(that, object)\r\n\r\n  if (object == null) {\r\n    throw new TypeError('must start with number, buffer, array or string')\r\n  }\r\n\r\n  if (typeof ArrayBuffer !== 'undefined') {\r\n    if (object.buffer instanceof ArrayBuffer) {\r\n      return fromTypedArray(that, object)\r\n    }\r\n    if (object instanceof ArrayBuffer) {\r\n      return fromArrayBuffer(that, object)\r\n    }\r\n  }\r\n\r\n  if (object.length) return fromArrayLike(that, object)\r\n\r\n  return fromJsonObject(that, object)\r\n}\r\n\r\nfunction fromBuffer (that, buffer) {\r\n  var length = checked(buffer.length) | 0\r\n  that = allocate(that, length)\r\n  buffer.copy(that, 0, 0, length)\r\n  return that\r\n}\r\n\r\nfunction fromArray (that, array) {\r\n  var length = checked(array.length) | 0\r\n  that = allocate(that, length)\r\n  for (var i = 0; i < length; i += 1) {\r\n    that[i] = array[i] & 255\r\n  }\r\n  return that\r\n}\r\n\r\n// Duplicate of fromArray() to keep fromArray() monomorphic.\r\nfunction fromTypedArray (that, array) {\r\n  var length = checked(array.length) | 0\r\n  that = allocate(that, length)\r\n  // Truncating the elements is probably not what people expect from typed\r\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\r\n  // of the old Buffer constructor.\r\n  for (var i = 0; i < length; i += 1) {\r\n    that[i] = array[i] & 255\r\n  }\r\n  return that\r\n}\r\n\r\nfunction fromArrayBuffer (that, array) {\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    // Return an augmented `Uint8Array` instance, for best performance\r\n    array.byteLength\r\n    that = Buffer._augment(new Uint8Array(array))\r\n  } else {\r\n    // Fallback: Return an object instance of the Buffer class\r\n    that = fromTypedArray(that, new Uint8Array(array))\r\n  }\r\n  return that\r\n}\r\n\r\nfunction fromArrayLike (that, array) {\r\n  var length = checked(array.length) | 0\r\n  that = allocate(that, length)\r\n  for (var i = 0; i < length; i += 1) {\r\n    that[i] = array[i] & 255\r\n  }\r\n  return that\r\n}\r\n\r\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\r\n// Returns a zero-length buffer for inputs that don't conform to the spec.\r\nfunction fromJsonObject (that, object) {\r\n  var array\r\n  var length = 0\r\n\r\n  if (object.type === 'Buffer' && isArray(object.data)) {\r\n    array = object.data\r\n    length = checked(array.length) | 0\r\n  }\r\n  that = allocate(that, length)\r\n\r\n  for (var i = 0; i < length; i += 1) {\r\n    that[i] = array[i] & 255\r\n  }\r\n  return that\r\n}\r\n\r\nfunction allocate (that, length) {\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    // Return an augmented `Uint8Array` instance, for best performance\r\n    that = Buffer._augment(new Uint8Array(length))\r\n  } else {\r\n    // Fallback: Return an object instance of the Buffer class\r\n    that.length = length\r\n    that._isBuffer = true\r\n  }\r\n\r\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\r\n  if (fromPool) that.parent = rootParent\r\n\r\n  return that\r\n}\r\n\r\nfunction checked (length) {\r\n  // Note: cannot use `length < kMaxLength` here because that fails when\r\n  // length is NaN (which is otherwise coerced to zero.)\r\n  if (length >= kMaxLength()) {\r\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\r\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\r\n  }\r\n  return length | 0\r\n}\r\n\r\nfunction SlowBuffer (subject, encoding) {\r\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\r\n\r\n  var buf = new Buffer(subject, encoding)\r\n  delete buf.parent\r\n  return buf\r\n}\r\n\r\nBuffer.isBuffer = function isBuffer (b) {\r\n  return !!(b != null && b._isBuffer)\r\n}\r\n\r\nBuffer.compare = function compare (a, b) {\r\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\r\n    throw new TypeError('Arguments must be Buffers')\r\n  }\r\n\r\n  if (a === b) return 0\r\n\r\n  var x = a.length\r\n  var y = b.length\r\n\r\n  var i = 0\r\n  var len = Math.min(x, y)\r\n  while (i < len) {\r\n    if (a[i] !== b[i]) break\r\n\r\n    ++i\r\n  }\r\n\r\n  if (i !== len) {\r\n    x = a[i]\r\n    y = b[i]\r\n  }\r\n\r\n  if (x < y) return -1\r\n  if (y < x) return 1\r\n  return 0\r\n}\r\n\r\nBuffer.isEncoding = function isEncoding (encoding) {\r\n  switch (String(encoding).toLowerCase()) {\r\n    case 'hex':\r\n    case 'utf8':\r\n    case 'utf-8':\r\n    case 'ascii':\r\n    case 'binary':\r\n    case 'base64':\r\n    case 'raw':\r\n    case 'ucs2':\r\n    case 'ucs-2':\r\n    case 'utf16le':\r\n    case 'utf-16le':\r\n      return true\r\n    default:\r\n      return false\r\n  }\r\n}\r\n\r\nBuffer.concat = function concat (list, length) {\r\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\r\n\r\n  if (list.length === 0) {\r\n    return new Buffer(0)\r\n  }\r\n\r\n  var i\r\n  if (length === undefined) {\r\n    length = 0\r\n    for (i = 0; i < list.length; i++) {\r\n      length += list[i].length\r\n    }\r\n  }\r\n\r\n  var buf = new Buffer(length)\r\n  var pos = 0\r\n  for (i = 0; i < list.length; i++) {\r\n    var item = list[i]\r\n    item.copy(buf, pos)\r\n    pos += item.length\r\n  }\r\n  return buf\r\n}\r\n\r\nfunction byteLength (string, encoding) {\r\n  if (typeof string !== 'string') string = '' + string\r\n\r\n  var len = string.length\r\n  if (len === 0) return 0\r\n\r\n  // Use a for loop to avoid recursion\r\n  var loweredCase = false\r\n  for (;;) {\r\n    switch (encoding) {\r\n      case 'ascii':\r\n      case 'binary':\r\n      // Deprecated\r\n      case 'raw':\r\n      case 'raws':\r\n        return len\r\n      case 'utf8':\r\n      case 'utf-8':\r\n        return utf8ToBytes(string).length\r\n      case 'ucs2':\r\n      case 'ucs-2':\r\n      case 'utf16le':\r\n      case 'utf-16le':\r\n        return len * 2\r\n      case 'hex':\r\n        return len >>> 1\r\n      case 'base64':\r\n        return base64ToBytes(string).length\r\n      default:\r\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\r\n        encoding = ('' + encoding).toLowerCase()\r\n        loweredCase = true\r\n    }\r\n  }\r\n}\r\nBuffer.byteLength = byteLength\r\n\r\n// pre-set for values that may exist in the future\r\nBuffer.prototype.length = undefined\r\nBuffer.prototype.parent = undefined\r\n\r\nfunction slowToString (encoding, start, end) {\r\n  var loweredCase = false\r\n\r\n  start = start | 0\r\n  end = end === undefined || end === Infinity ? this.length : end | 0\r\n\r\n  if (!encoding) encoding = 'utf8'\r\n  if (start < 0) start = 0\r\n  if (end > this.length) end = this.length\r\n  if (end <= start) return ''\r\n\r\n  while (true) {\r\n    switch (encoding) {\r\n      case 'hex':\r\n        return hexSlice(this, start, end)\r\n\r\n      case 'utf8':\r\n      case 'utf-8':\r\n        return utf8Slice(this, start, end)\r\n\r\n      case 'ascii':\r\n        return asciiSlice(this, start, end)\r\n\r\n      case 'binary':\r\n        return binarySlice(this, start, end)\r\n\r\n      case 'base64':\r\n        return base64Slice(this, start, end)\r\n\r\n      case 'ucs2':\r\n      case 'ucs-2':\r\n      case 'utf16le':\r\n      case 'utf-16le':\r\n        return utf16leSlice(this, start, end)\r\n\r\n      default:\r\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\r\n        encoding = (encoding + '').toLowerCase()\r\n        loweredCase = true\r\n    }\r\n  }\r\n}\r\n\r\nBuffer.prototype.toString = function toString () {\r\n  var length = this.length | 0\r\n  if (length === 0) return ''\r\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\r\n  return slowToString.apply(this, arguments)\r\n}\r\n\r\nBuffer.prototype.equals = function equals (b) {\r\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\r\n  if (this === b) return true\r\n  return Buffer.compare(this, b) === 0\r\n}\r\n\r\nBuffer.prototype.inspect = function inspect () {\r\n  var str = ''\r\n  var max = exports.INSPECT_MAX_BYTES\r\n  if (this.length > 0) {\r\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\r\n    if (this.length > max) str += ' ... '\r\n  }\r\n  return '<Buffer ' + str + '>'\r\n}\r\n\r\nBuffer.prototype.compare = function compare (b) {\r\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\r\n  if (this === b) return 0\r\n  return Buffer.compare(this, b)\r\n}\r\n\r\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\r\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\r\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\r\n  byteOffset >>= 0\r\n\r\n  if (this.length === 0) return -1\r\n  if (byteOffset >= this.length) return -1\r\n\r\n  // Negative offsets start from the end of the buffer\r\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\r\n\r\n  if (typeof val === 'string') {\r\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\r\n    return String.prototype.indexOf.call(this, val, byteOffset)\r\n  }\r\n  if (Buffer.isBuffer(val)) {\r\n    return arrayIndexOf(this, val, byteOffset)\r\n  }\r\n  if (typeof val === 'number') {\r\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\r\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\r\n    }\r\n    return arrayIndexOf(this, [ val ], byteOffset)\r\n  }\r\n\r\n  function arrayIndexOf (arr, val, byteOffset) {\r\n    var foundIndex = -1\r\n    for (var i = 0; byteOffset + i < arr.length; i++) {\r\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\r\n        if (foundIndex === -1) foundIndex = i\r\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\r\n      } else {\r\n        foundIndex = -1\r\n      }\r\n    }\r\n    return -1\r\n  }\r\n\r\n  throw new TypeError('val must be string, number or Buffer')\r\n}\r\n\r\n// `get` is deprecated\r\nBuffer.prototype.get = function get (offset) {\r\n  console.log('.get() is deprecated. Access using array indexes instead.')\r\n  return this.readUInt8(offset)\r\n}\r\n\r\n// `set` is deprecated\r\nBuffer.prototype.set = function set (v, offset) {\r\n  console.log('.set() is deprecated. Access using array indexes instead.')\r\n  return this.writeUInt8(v, offset)\r\n}\r\n\r\nfunction hexWrite (buf, string, offset, length) {\r\n  offset = Number(offset) || 0\r\n  var remaining = buf.length - offset\r\n  if (!length) {\r\n    length = remaining\r\n  } else {\r\n    length = Number(length)\r\n    if (length > remaining) {\r\n      length = remaining\r\n    }\r\n  }\r\n\r\n  // must be an even number of digits\r\n  var strLen = string.length\r\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\r\n\r\n  if (length > strLen / 2) {\r\n    length = strLen / 2\r\n  }\r\n  for (var i = 0; i < length; i++) {\r\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\r\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\r\n    buf[offset + i] = parsed\r\n  }\r\n  return i\r\n}\r\n\r\nfunction utf8Write (buf, string, offset, length) {\r\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\r\n}\r\n\r\nfunction asciiWrite (buf, string, offset, length) {\r\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\r\n}\r\n\r\nfunction binaryWrite (buf, string, offset, length) {\r\n  return asciiWrite(buf, string, offset, length)\r\n}\r\n\r\nfunction base64Write (buf, string, offset, length) {\r\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\r\n}\r\n\r\nfunction ucs2Write (buf, string, offset, length) {\r\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\r\n}\r\n\r\nBuffer.prototype.write = function write (string, offset, length, encoding) {\r\n  // Buffer#write(string)\r\n  if (offset === undefined) {\r\n    encoding = 'utf8'\r\n    length = this.length\r\n    offset = 0\r\n  // Buffer#write(string, encoding)\r\n  } else if (length === undefined && typeof offset === 'string') {\r\n    encoding = offset\r\n    length = this.length\r\n    offset = 0\r\n  // Buffer#write(string, offset[, length][, encoding])\r\n  } else if (isFinite(offset)) {\r\n    offset = offset | 0\r\n    if (isFinite(length)) {\r\n      length = length | 0\r\n      if (encoding === undefined) encoding = 'utf8'\r\n    } else {\r\n      encoding = length\r\n      length = undefined\r\n    }\r\n  // legacy write(string, encoding, offset, length) - remove in v0.13\r\n  } else {\r\n    var swap = encoding\r\n    encoding = offset\r\n    offset = length | 0\r\n    length = swap\r\n  }\r\n\r\n  var remaining = this.length - offset\r\n  if (length === undefined || length > remaining) length = remaining\r\n\r\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\r\n    throw new RangeError('attempt to write outside buffer bounds')\r\n  }\r\n\r\n  if (!encoding) encoding = 'utf8'\r\n\r\n  var loweredCase = false\r\n  for (;;) {\r\n    switch (encoding) {\r\n      case 'hex':\r\n        return hexWrite(this, string, offset, length)\r\n\r\n      case 'utf8':\r\n      case 'utf-8':\r\n        return utf8Write(this, string, offset, length)\r\n\r\n      case 'ascii':\r\n        return asciiWrite(this, string, offset, length)\r\n\r\n      case 'binary':\r\n        return binaryWrite(this, string, offset, length)\r\n\r\n      case 'base64':\r\n        // Warning: maxLength not taken into account in base64Write\r\n        return base64Write(this, string, offset, length)\r\n\r\n      case 'ucs2':\r\n      case 'ucs-2':\r\n      case 'utf16le':\r\n      case 'utf-16le':\r\n        return ucs2Write(this, string, offset, length)\r\n\r\n      default:\r\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\r\n        encoding = ('' + encoding).toLowerCase()\r\n        loweredCase = true\r\n    }\r\n  }\r\n}\r\n\r\nBuffer.prototype.toJSON = function toJSON () {\r\n  return {\r\n    type: 'Buffer',\r\n    data: Array.prototype.slice.call(this._arr || this, 0)\r\n  }\r\n}\r\n\r\nfunction base64Slice (buf, start, end) {\r\n  if (start === 0 && end === buf.length) {\r\n    return base64.fromByteArray(buf)\r\n  } else {\r\n    return base64.fromByteArray(buf.slice(start, end))\r\n  }\r\n}\r\n\r\nfunction utf8Slice (buf, start, end) {\r\n  end = Math.min(buf.length, end)\r\n  var res = []\r\n\r\n  var i = start\r\n  while (i < end) {\r\n    var firstByte = buf[i]\r\n    var codePoint = null\r\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\r\n      : (firstByte > 0xDF) ? 3\r\n      : (firstByte > 0xBF) ? 2\r\n      : 1\r\n\r\n    if (i + bytesPerSequence <= end) {\r\n      var secondByte, thirdByte, fourthByte, tempCodePoint\r\n\r\n      switch (bytesPerSequence) {\r\n        case 1:\r\n          if (firstByte < 0x80) {\r\n            codePoint = firstByte\r\n          }\r\n          break\r\n        case 2:\r\n          secondByte = buf[i + 1]\r\n          if ((secondByte & 0xC0) === 0x80) {\r\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\r\n            if (tempCodePoint > 0x7F) {\r\n              codePoint = tempCodePoint\r\n            }\r\n          }\r\n          break\r\n        case 3:\r\n          secondByte = buf[i + 1]\r\n          thirdByte = buf[i + 2]\r\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\r\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\r\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\r\n              codePoint = tempCodePoint\r\n            }\r\n          }\r\n          break\r\n        case 4:\r\n          secondByte = buf[i + 1]\r\n          thirdByte = buf[i + 2]\r\n          fourthByte = buf[i + 3]\r\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\r\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\r\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\r\n              codePoint = tempCodePoint\r\n            }\r\n          }\r\n      }\r\n    }\r\n\r\n    if (codePoint === null) {\r\n      // we did not generate a valid codePoint so insert a\r\n      // replacement char (U+FFFD) and advance only 1 byte\r\n      codePoint = 0xFFFD\r\n      bytesPerSequence = 1\r\n    } else if (codePoint > 0xFFFF) {\r\n      // encode to utf16 (surrogate pair dance)\r\n      codePoint -= 0x10000\r\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\r\n      codePoint = 0xDC00 | codePoint & 0x3FF\r\n    }\r\n\r\n    res.push(codePoint)\r\n    i += bytesPerSequence\r\n  }\r\n\r\n  return decodeCodePointsArray(res)\r\n}\r\n\r\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\r\n// the lowest limit is Chrome, with 0x10000 args.\r\n// We go 1 magnitude less, for safety\r\nvar MAX_ARGUMENTS_LENGTH = 0x1000\r\n\r\nfunction decodeCodePointsArray (codePoints) {\r\n  var len = codePoints.length\r\n  if (len <= MAX_ARGUMENTS_LENGTH) {\r\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\r\n  }\r\n\r\n  // Decode in chunks to avoid \"call stack size exceeded\".\r\n  var res = ''\r\n  var i = 0\r\n  while (i < len) {\r\n    res += String.fromCharCode.apply(\r\n      String,\r\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\r\n    )\r\n  }\r\n  return res\r\n}\r\n\r\nfunction asciiSlice (buf, start, end) {\r\n  var ret = ''\r\n  end = Math.min(buf.length, end)\r\n\r\n  for (var i = start; i < end; i++) {\r\n    ret += String.fromCharCode(buf[i] & 0x7F)\r\n  }\r\n  return ret\r\n}\r\n\r\nfunction binarySlice (buf, start, end) {\r\n  var ret = ''\r\n  end = Math.min(buf.length, end)\r\n\r\n  for (var i = start; i < end; i++) {\r\n    ret += String.fromCharCode(buf[i])\r\n  }\r\n  return ret\r\n}\r\n\r\nfunction hexSlice (buf, start, end) {\r\n  var len = buf.length\r\n\r\n  if (!start || start < 0) start = 0\r\n  if (!end || end < 0 || end > len) end = len\r\n\r\n  var out = ''\r\n  for (var i = start; i < end; i++) {\r\n    out += toHex(buf[i])\r\n  }\r\n  return out\r\n}\r\n\r\nfunction utf16leSlice (buf, start, end) {\r\n  var bytes = buf.slice(start, end)\r\n  var res = ''\r\n  for (var i = 0; i < bytes.length; i += 2) {\r\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\r\n  }\r\n  return res\r\n}\r\n\r\nBuffer.prototype.slice = function slice (start, end) {\r\n  var len = this.length\r\n  start = ~~start\r\n  end = end === undefined ? len : ~~end\r\n\r\n  if (start < 0) {\r\n    start += len\r\n    if (start < 0) start = 0\r\n  } else if (start > len) {\r\n    start = len\r\n  }\r\n\r\n  if (end < 0) {\r\n    end += len\r\n    if (end < 0) end = 0\r\n  } else if (end > len) {\r\n    end = len\r\n  }\r\n\r\n  if (end < start) end = start\r\n\r\n  var newBuf\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    newBuf = Buffer._augment(this.subarray(start, end))\r\n  } else {\r\n    var sliceLen = end - start\r\n    newBuf = new Buffer(sliceLen, undefined)\r\n    for (var i = 0; i < sliceLen; i++) {\r\n      newBuf[i] = this[i + start]\r\n    }\r\n  }\r\n\r\n  if (newBuf.length) newBuf.parent = this.parent || this\r\n\r\n  return newBuf\r\n}\r\n\r\n/*\r\n * Need to make sure that buffer isn't trying to write out of bounds.\r\n */\r\nfunction checkOffset (offset, ext, length) {\r\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\r\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\r\n}\r\n\r\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\r\n  offset = offset | 0\r\n  byteLength = byteLength | 0\r\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\r\n\r\n  var val = this[offset]\r\n  var mul = 1\r\n  var i = 0\r\n  while (++i < byteLength && (mul *= 0x100)) {\r\n    val += this[offset + i] * mul\r\n  }\r\n\r\n  return val\r\n}\r\n\r\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\r\n  offset = offset | 0\r\n  byteLength = byteLength | 0\r\n  if (!noAssert) {\r\n    checkOffset(offset, byteLength, this.length)\r\n  }\r\n\r\n  var val = this[offset + --byteLength]\r\n  var mul = 1\r\n  while (byteLength > 0 && (mul *= 0x100)) {\r\n    val += this[offset + --byteLength] * mul\r\n  }\r\n\r\n  return val\r\n}\r\n\r\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 1, this.length)\r\n  return this[offset]\r\n}\r\n\r\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 2, this.length)\r\n  return this[offset] | (this[offset + 1] << 8)\r\n}\r\n\r\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 2, this.length)\r\n  return (this[offset] << 8) | this[offset + 1]\r\n}\r\n\r\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 4, this.length)\r\n\r\n  return ((this[offset]) |\r\n      (this[offset + 1] << 8) |\r\n      (this[offset + 2] << 16)) +\r\n      (this[offset + 3] * 0x1000000)\r\n}\r\n\r\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 4, this.length)\r\n\r\n  return (this[offset] * 0x1000000) +\r\n    ((this[offset + 1] << 16) |\r\n    (this[offset + 2] << 8) |\r\n    this[offset + 3])\r\n}\r\n\r\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\r\n  offset = offset | 0\r\n  byteLength = byteLength | 0\r\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\r\n\r\n  var val = this[offset]\r\n  var mul = 1\r\n  var i = 0\r\n  while (++i < byteLength && (mul *= 0x100)) {\r\n    val += this[offset + i] * mul\r\n  }\r\n  mul *= 0x80\r\n\r\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\r\n\r\n  return val\r\n}\r\n\r\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\r\n  offset = offset | 0\r\n  byteLength = byteLength | 0\r\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\r\n\r\n  var i = byteLength\r\n  var mul = 1\r\n  var val = this[offset + --i]\r\n  while (i > 0 && (mul *= 0x100)) {\r\n    val += this[offset + --i] * mul\r\n  }\r\n  mul *= 0x80\r\n\r\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\r\n\r\n  return val\r\n}\r\n\r\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 1, this.length)\r\n  if (!(this[offset] & 0x80)) return (this[offset])\r\n  return ((0xff - this[offset] + 1) * -1)\r\n}\r\n\r\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 2, this.length)\r\n  var val = this[offset] | (this[offset + 1] << 8)\r\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\r\n}\r\n\r\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 2, this.length)\r\n  var val = this[offset + 1] | (this[offset] << 8)\r\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\r\n}\r\n\r\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 4, this.length)\r\n\r\n  return (this[offset]) |\r\n    (this[offset + 1] << 8) |\r\n    (this[offset + 2] << 16) |\r\n    (this[offset + 3] << 24)\r\n}\r\n\r\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 4, this.length)\r\n\r\n  return (this[offset] << 24) |\r\n    (this[offset + 1] << 16) |\r\n    (this[offset + 2] << 8) |\r\n    (this[offset + 3])\r\n}\r\n\r\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 4, this.length)\r\n  return ieee754.read(this, offset, true, 23, 4)\r\n}\r\n\r\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 4, this.length)\r\n  return ieee754.read(this, offset, false, 23, 4)\r\n}\r\n\r\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 8, this.length)\r\n  return ieee754.read(this, offset, true, 52, 8)\r\n}\r\n\r\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\r\n  if (!noAssert) checkOffset(offset, 8, this.length)\r\n  return ieee754.read(this, offset, false, 52, 8)\r\n}\r\n\r\nfunction checkInt (buf, value, offset, ext, max, min) {\r\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\r\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\r\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\r\n}\r\n\r\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  byteLength = byteLength | 0\r\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\r\n\r\n  var mul = 1\r\n  var i = 0\r\n  this[offset] = value & 0xFF\r\n  while (++i < byteLength && (mul *= 0x100)) {\r\n    this[offset + i] = (value / mul) & 0xFF\r\n  }\r\n\r\n  return offset + byteLength\r\n}\r\n\r\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  byteLength = byteLength | 0\r\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\r\n\r\n  var i = byteLength - 1\r\n  var mul = 1\r\n  this[offset + i] = value & 0xFF\r\n  while (--i >= 0 && (mul *= 0x100)) {\r\n    this[offset + i] = (value / mul) & 0xFF\r\n  }\r\n\r\n  return offset + byteLength\r\n}\r\n\r\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\r\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\r\n  this[offset] = value\r\n  return offset + 1\r\n}\r\n\r\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\r\n  if (value < 0) value = 0xffff + value + 1\r\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\r\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\r\n      (littleEndian ? i : 1 - i) * 8\r\n  }\r\n}\r\n\r\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    this[offset] = value\r\n    this[offset + 1] = (value >>> 8)\r\n  } else {\r\n    objectWriteUInt16(this, value, offset, true)\r\n  }\r\n  return offset + 2\r\n}\r\n\r\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    this[offset] = (value >>> 8)\r\n    this[offset + 1] = value\r\n  } else {\r\n    objectWriteUInt16(this, value, offset, false)\r\n  }\r\n  return offset + 2\r\n}\r\n\r\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\r\n  if (value < 0) value = 0xffffffff + value + 1\r\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\r\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\r\n  }\r\n}\r\n\r\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    this[offset + 3] = (value >>> 24)\r\n    this[offset + 2] = (value >>> 16)\r\n    this[offset + 1] = (value >>> 8)\r\n    this[offset] = value\r\n  } else {\r\n    objectWriteUInt32(this, value, offset, true)\r\n  }\r\n  return offset + 4\r\n}\r\n\r\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    this[offset] = (value >>> 24)\r\n    this[offset + 1] = (value >>> 16)\r\n    this[offset + 2] = (value >>> 8)\r\n    this[offset + 3] = value\r\n  } else {\r\n    objectWriteUInt32(this, value, offset, false)\r\n  }\r\n  return offset + 4\r\n}\r\n\r\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) {\r\n    var limit = Math.pow(2, 8 * byteLength - 1)\r\n\r\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\r\n  }\r\n\r\n  var i = 0\r\n  var mul = 1\r\n  var sub = value < 0 ? 1 : 0\r\n  this[offset] = value & 0xFF\r\n  while (++i < byteLength && (mul *= 0x100)) {\r\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\r\n  }\r\n\r\n  return offset + byteLength\r\n}\r\n\r\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) {\r\n    var limit = Math.pow(2, 8 * byteLength - 1)\r\n\r\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\r\n  }\r\n\r\n  var i = byteLength - 1\r\n  var mul = 1\r\n  var sub = value < 0 ? 1 : 0\r\n  this[offset + i] = value & 0xFF\r\n  while (--i >= 0 && (mul *= 0x100)) {\r\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\r\n  }\r\n\r\n  return offset + byteLength\r\n}\r\n\r\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\r\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\r\n  if (value < 0) value = 0xff + value + 1\r\n  this[offset] = value\r\n  return offset + 1\r\n}\r\n\r\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    this[offset] = value\r\n    this[offset + 1] = (value >>> 8)\r\n  } else {\r\n    objectWriteUInt16(this, value, offset, true)\r\n  }\r\n  return offset + 2\r\n}\r\n\r\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    this[offset] = (value >>> 8)\r\n    this[offset + 1] = value\r\n  } else {\r\n    objectWriteUInt16(this, value, offset, false)\r\n  }\r\n  return offset + 2\r\n}\r\n\r\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    this[offset] = value\r\n    this[offset + 1] = (value >>> 8)\r\n    this[offset + 2] = (value >>> 16)\r\n    this[offset + 3] = (value >>> 24)\r\n  } else {\r\n    objectWriteUInt32(this, value, offset, true)\r\n  }\r\n  return offset + 4\r\n}\r\n\r\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\r\n  value = +value\r\n  offset = offset | 0\r\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\r\n  if (value < 0) value = 0xffffffff + value + 1\r\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n    this[offset] = (value >>> 24)\r\n    this[offset + 1] = (value >>> 16)\r\n    this[offset + 2] = (value >>> 8)\r\n    this[offset + 3] = value\r\n  } else {\r\n    objectWriteUInt32(this, value, offset, false)\r\n  }\r\n  return offset + 4\r\n}\r\n\r\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\r\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\r\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\r\n  if (offset < 0) throw new RangeError('index out of range')\r\n}\r\n\r\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\r\n  if (!noAssert) {\r\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\r\n  }\r\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\r\n  return offset + 4\r\n}\r\n\r\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\r\n  return writeFloat(this, value, offset, true, noAssert)\r\n}\r\n\r\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\r\n  return writeFloat(this, value, offset, false, noAssert)\r\n}\r\n\r\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\r\n  if (!noAssert) {\r\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\r\n  }\r\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\r\n  return offset + 8\r\n}\r\n\r\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\r\n  return writeDouble(this, value, offset, true, noAssert)\r\n}\r\n\r\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\r\n  return writeDouble(this, value, offset, false, noAssert)\r\n}\r\n\r\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\r\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\r\n  if (!start) start = 0\r\n  if (!end && end !== 0) end = this.length\r\n  if (targetStart >= target.length) targetStart = target.length\r\n  if (!targetStart) targetStart = 0\r\n  if (end > 0 && end < start) end = start\r\n\r\n  // Copy 0 bytes; we're done\r\n  if (end === start) return 0\r\n  if (target.length === 0 || this.length === 0) return 0\r\n\r\n  // Fatal error conditions\r\n  if (targetStart < 0) {\r\n    throw new RangeError('targetStart out of bounds')\r\n  }\r\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\r\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\r\n\r\n  // Are we oob?\r\n  if (end > this.length) end = this.length\r\n  if (target.length - targetStart < end - start) {\r\n    end = target.length - targetStart + start\r\n  }\r\n\r\n  var len = end - start\r\n  var i\r\n\r\n  if (this === target && start < targetStart && targetStart < end) {\r\n    // descending copy from end\r\n    for (i = len - 1; i >= 0; i--) {\r\n      target[i + targetStart] = this[i + start]\r\n    }\r\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\r\n    // ascending copy from start\r\n    for (i = 0; i < len; i++) {\r\n      target[i + targetStart] = this[i + start]\r\n    }\r\n  } else {\r\n    target._set(this.subarray(start, start + len), targetStart)\r\n  }\r\n\r\n  return len\r\n}\r\n\r\n// fill(value, start=0, end=buffer.length)\r\nBuffer.prototype.fill = function fill (value, start, end) {\r\n  if (!value) value = 0\r\n  if (!start) start = 0\r\n  if (!end) end = this.length\r\n\r\n  if (end < start) throw new RangeError('end < start')\r\n\r\n  // Fill 0 bytes; we're done\r\n  if (end === start) return\r\n  if (this.length === 0) return\r\n\r\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\r\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\r\n\r\n  var i\r\n  if (typeof value === 'number') {\r\n    for (i = start; i < end; i++) {\r\n      this[i] = value\r\n    }\r\n  } else {\r\n    var bytes = utf8ToBytes(value.toString())\r\n    var len = bytes.length\r\n    for (i = start; i < end; i++) {\r\n      this[i] = bytes[i % len]\r\n    }\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n/**\r\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\r\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\r\n */\r\nBuffer.prototype.toArrayBuffer = function toArrayBuffer () {\r\n  if (typeof Uint8Array !== 'undefined') {\r\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\r\n      return (new Buffer(this)).buffer\r\n    } else {\r\n      var buf = new Uint8Array(this.length)\r\n      for (var i = 0, len = buf.length; i < len; i += 1) {\r\n        buf[i] = this[i]\r\n      }\r\n      return buf.buffer\r\n    }\r\n  } else {\r\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\r\n  }\r\n}\r\n\r\n// HELPER FUNCTIONS\r\n// ================\r\n\r\nvar BP = Buffer.prototype\r\n\r\n/**\r\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\r\n */\r\nBuffer._augment = function _augment (arr) {\r\n  arr.constructor = Buffer\r\n  arr._isBuffer = true\r\n\r\n  // save reference to original Uint8Array set method before overwriting\r\n  arr._set = arr.set\r\n\r\n  // deprecated\r\n  arr.get = BP.get\r\n  arr.set = BP.set\r\n\r\n  arr.write = BP.write\r\n  arr.toString = BP.toString\r\n  arr.toLocaleString = BP.toString\r\n  arr.toJSON = BP.toJSON\r\n  arr.equals = BP.equals\r\n  arr.compare = BP.compare\r\n  arr.indexOf = BP.indexOf\r\n  arr.copy = BP.copy\r\n  arr.slice = BP.slice\r\n  arr.readUIntLE = BP.readUIntLE\r\n  arr.readUIntBE = BP.readUIntBE\r\n  arr.readUInt8 = BP.readUInt8\r\n  arr.readUInt16LE = BP.readUInt16LE\r\n  arr.readUInt16BE = BP.readUInt16BE\r\n  arr.readUInt32LE = BP.readUInt32LE\r\n  arr.readUInt32BE = BP.readUInt32BE\r\n  arr.readIntLE = BP.readIntLE\r\n  arr.readIntBE = BP.readIntBE\r\n  arr.readInt8 = BP.readInt8\r\n  arr.readInt16LE = BP.readInt16LE\r\n  arr.readInt16BE = BP.readInt16BE\r\n  arr.readInt32LE = BP.readInt32LE\r\n  arr.readInt32BE = BP.readInt32BE\r\n  arr.readFloatLE = BP.readFloatLE\r\n  arr.readFloatBE = BP.readFloatBE\r\n  arr.readDoubleLE = BP.readDoubleLE\r\n  arr.readDoubleBE = BP.readDoubleBE\r\n  arr.writeUInt8 = BP.writeUInt8\r\n  arr.writeUIntLE = BP.writeUIntLE\r\n  arr.writeUIntBE = BP.writeUIntBE\r\n  arr.writeUInt16LE = BP.writeUInt16LE\r\n  arr.writeUInt16BE = BP.writeUInt16BE\r\n  arr.writeUInt32LE = BP.writeUInt32LE\r\n  arr.writeUInt32BE = BP.writeUInt32BE\r\n  arr.writeIntLE = BP.writeIntLE\r\n  arr.writeIntBE = BP.writeIntBE\r\n  arr.writeInt8 = BP.writeInt8\r\n  arr.writeInt16LE = BP.writeInt16LE\r\n  arr.writeInt16BE = BP.writeInt16BE\r\n  arr.writeInt32LE = BP.writeInt32LE\r\n  arr.writeInt32BE = BP.writeInt32BE\r\n  arr.writeFloatLE = BP.writeFloatLE\r\n  arr.writeFloatBE = BP.writeFloatBE\r\n  arr.writeDoubleLE = BP.writeDoubleLE\r\n  arr.writeDoubleBE = BP.writeDoubleBE\r\n  arr.fill = BP.fill\r\n  arr.inspect = BP.inspect\r\n  arr.toArrayBuffer = BP.toArrayBuffer\r\n\r\n  return arr\r\n}\r\n\r\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\r\n\r\nfunction base64clean (str) {\r\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\r\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\r\n  // Node converts strings with length < 2 to ''\r\n  if (str.length < 2) return ''\r\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\r\n  while (str.length % 4 !== 0) {\r\n    str = str + '='\r\n  }\r\n  return str\r\n}\r\n\r\nfunction stringtrim (str) {\r\n  if (str.trim) return str.trim()\r\n  return str.replace(/^\\s+|\\s+$/g, '')\r\n}\r\n\r\nfunction toHex (n) {\r\n  if (n < 16) return '0' + n.toString(16)\r\n  return n.toString(16)\r\n}\r\n\r\nfunction utf8ToBytes (string, units) {\r\n  units = units || Infinity\r\n  var codePoint\r\n  var length = string.length\r\n  var leadSurrogate = null\r\n  var bytes = []\r\n\r\n  for (var i = 0; i < length; i++) {\r\n    codePoint = string.charCodeAt(i)\r\n\r\n    // is surrogate component\r\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\r\n      // last char was a lead\r\n      if (!leadSurrogate) {\r\n        // no lead yet\r\n        if (codePoint > 0xDBFF) {\r\n          // unexpected trail\r\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\r\n          continue\r\n        } else if (i + 1 === length) {\r\n          // unpaired lead\r\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\r\n          continue\r\n        }\r\n\r\n        // valid lead\r\n        leadSurrogate = codePoint\r\n\r\n        continue\r\n      }\r\n\r\n      // 2 leads in a row\r\n      if (codePoint < 0xDC00) {\r\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\r\n        leadSurrogate = codePoint\r\n        continue\r\n      }\r\n\r\n      // valid surrogate pair\r\n      codePoint = leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00 | 0x10000\r\n    } else if (leadSurrogate) {\r\n      // valid bmp char, but last char was a lead\r\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\r\n    }\r\n\r\n    leadSurrogate = null\r\n\r\n    // encode utf8\r\n    if (codePoint < 0x80) {\r\n      if ((units -= 1) < 0) break\r\n      bytes.push(codePoint)\r\n    } else if (codePoint < 0x800) {\r\n      if ((units -= 2) < 0) break\r\n      bytes.push(\r\n        codePoint >> 0x6 | 0xC0,\r\n        codePoint & 0x3F | 0x80\r\n      )\r\n    } else if (codePoint < 0x10000) {\r\n      if ((units -= 3) < 0) break\r\n      bytes.push(\r\n        codePoint >> 0xC | 0xE0,\r\n        codePoint >> 0x6 & 0x3F | 0x80,\r\n        codePoint & 0x3F | 0x80\r\n      )\r\n    } else if (codePoint < 0x110000) {\r\n      if ((units -= 4) < 0) break\r\n      bytes.push(\r\n        codePoint >> 0x12 | 0xF0,\r\n        codePoint >> 0xC & 0x3F | 0x80,\r\n        codePoint >> 0x6 & 0x3F | 0x80,\r\n        codePoint & 0x3F | 0x80\r\n      )\r\n    } else {\r\n      throw new Error('Invalid code point')\r\n    }\r\n  }\r\n\r\n  return bytes\r\n}\r\n\r\nfunction asciiToBytes (str) {\r\n  var byteArray = []\r\n  for (var i = 0; i < str.length; i++) {\r\n    // Node's code seems to be doing this and not & 0x7F..\r\n    byteArray.push(str.charCodeAt(i) & 0xFF)\r\n  }\r\n  return byteArray\r\n}\r\n\r\nfunction utf16leToBytes (str, units) {\r\n  var c, hi, lo\r\n  var byteArray = []\r\n  for (var i = 0; i < str.length; i++) {\r\n    if ((units -= 2) < 0) break\r\n\r\n    c = str.charCodeAt(i)\r\n    hi = c >> 8\r\n    lo = c % 256\r\n    byteArray.push(lo)\r\n    byteArray.push(hi)\r\n  }\r\n\r\n  return byteArray\r\n}\r\n\r\nfunction base64ToBytes (str) {\r\n  return base64.toByteArray(base64clean(str))\r\n}\r\n\r\nfunction blitBuffer (src, dst, offset, length) {\r\n  for (var i = 0; i < length; i++) {\r\n    if ((i + offset >= dst.length) || (i >= src.length)) break\r\n    dst[i + offset] = src[i]\r\n  }\r\n  return i\r\n}\r\n\r\n},{\"base64-js\":44,\"ieee754\":45,\"is-array\":46}],44:[function(require,module,exports){\r\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n\r\n;(function (exports) {\r\n\t'use strict';\r\n\r\n  var Arr = (typeof Uint8Array !== 'undefined')\r\n    ? Uint8Array\r\n    : Array\r\n\r\n\tvar PLUS   = '+'.charCodeAt(0)\r\n\tvar SLASH  = '/'.charCodeAt(0)\r\n\tvar NUMBER = '0'.charCodeAt(0)\r\n\tvar LOWER  = 'a'.charCodeAt(0)\r\n\tvar UPPER  = 'A'.charCodeAt(0)\r\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\r\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\r\n\r\n\tfunction decode (elt) {\r\n\t\tvar code = elt.charCodeAt(0)\r\n\t\tif (code === PLUS ||\r\n\t\t    code === PLUS_URL_SAFE)\r\n\t\t\treturn 62 // '+'\r\n\t\tif (code === SLASH ||\r\n\t\t    code === SLASH_URL_SAFE)\r\n\t\t\treturn 63 // '/'\r\n\t\tif (code < NUMBER)\r\n\t\t\treturn -1 //no match\r\n\t\tif (code < NUMBER + 10)\r\n\t\t\treturn code - NUMBER + 26 + 26\r\n\t\tif (code < UPPER + 26)\r\n\t\t\treturn code - UPPER\r\n\t\tif (code < LOWER + 26)\r\n\t\t\treturn code - LOWER + 26\r\n\t}\r\n\r\n\tfunction b64ToByteArray (b64) {\r\n\t\tvar i, j, l, tmp, placeHolders, arr\r\n\r\n\t\tif (b64.length % 4 > 0) {\r\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\r\n\t\t}\r\n\r\n\t\t// the number of equal signs (place holders)\r\n\t\t// if there are two placeholders, than the two characters before it\r\n\t\t// represent one byte\r\n\t\t// if there is only one, then the three characters before it represent 2 bytes\r\n\t\t// this is just a cheap hack to not do indexOf twice\r\n\t\tvar len = b64.length\r\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\r\n\r\n\t\t// base64 is 4/3 + up to two characters of the original data\r\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\r\n\r\n\t\t// if there are placeholders, only get up to the last complete 4 chars\r\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\r\n\r\n\t\tvar L = 0\r\n\r\n\t\tfunction push (v) {\r\n\t\t\tarr[L++] = v\r\n\t\t}\r\n\r\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\r\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\r\n\t\t\tpush((tmp & 0xFF0000) >> 16)\r\n\t\t\tpush((tmp & 0xFF00) >> 8)\r\n\t\t\tpush(tmp & 0xFF)\r\n\t\t}\r\n\r\n\t\tif (placeHolders === 2) {\r\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\r\n\t\t\tpush(tmp & 0xFF)\r\n\t\t} else if (placeHolders === 1) {\r\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\r\n\t\t\tpush((tmp >> 8) & 0xFF)\r\n\t\t\tpush(tmp & 0xFF)\r\n\t\t}\r\n\r\n\t\treturn arr\r\n\t}\r\n\r\n\tfunction uint8ToBase64 (uint8) {\r\n\t\tvar i,\r\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\r\n\t\t\toutput = \"\",\r\n\t\t\ttemp, length\r\n\r\n\t\tfunction encode (num) {\r\n\t\t\treturn lookup.charAt(num)\r\n\t\t}\r\n\r\n\t\tfunction tripletToBase64 (num) {\r\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\r\n\t\t}\r\n\r\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\r\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\r\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\r\n\t\t\toutput += tripletToBase64(temp)\r\n\t\t}\r\n\r\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\r\n\t\tswitch (extraBytes) {\r\n\t\t\tcase 1:\r\n\t\t\t\ttemp = uint8[uint8.length - 1]\r\n\t\t\t\toutput += encode(temp >> 2)\r\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\r\n\t\t\t\toutput += '=='\r\n\t\t\t\tbreak\r\n\t\t\tcase 2:\r\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\r\n\t\t\t\toutput += encode(temp >> 10)\r\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\r\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\r\n\t\t\t\toutput += '='\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\treturn output\r\n\t}\r\n\r\n\texports.toByteArray = b64ToByteArray\r\n\texports.fromByteArray = uint8ToBase64\r\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\r\n\r\n},{}],45:[function(require,module,exports){\r\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\r\n  var e, m\r\n  var eLen = nBytes * 8 - mLen - 1\r\n  var eMax = (1 << eLen) - 1\r\n  var eBias = eMax >> 1\r\n  var nBits = -7\r\n  var i = isLE ? (nBytes - 1) : 0\r\n  var d = isLE ? -1 : 1\r\n  var s = buffer[offset + i]\r\n\r\n  i += d\r\n\r\n  e = s & ((1 << (-nBits)) - 1)\r\n  s >>= (-nBits)\r\n  nBits += eLen\r\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\r\n\r\n  m = e & ((1 << (-nBits)) - 1)\r\n  e >>= (-nBits)\r\n  nBits += mLen\r\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\r\n\r\n  if (e === 0) {\r\n    e = 1 - eBias\r\n  } else if (e === eMax) {\r\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\r\n  } else {\r\n    m = m + Math.pow(2, mLen)\r\n    e = e - eBias\r\n  }\r\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\r\n}\r\n\r\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\r\n  var e, m, c\r\n  var eLen = nBytes * 8 - mLen - 1\r\n  var eMax = (1 << eLen) - 1\r\n  var eBias = eMax >> 1\r\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\r\n  var i = isLE ? 0 : (nBytes - 1)\r\n  var d = isLE ? 1 : -1\r\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\r\n\r\n  value = Math.abs(value)\r\n\r\n  if (isNaN(value) || value === Infinity) {\r\n    m = isNaN(value) ? 1 : 0\r\n    e = eMax\r\n  } else {\r\n    e = Math.floor(Math.log(value) / Math.LN2)\r\n    if (value * (c = Math.pow(2, -e)) < 1) {\r\n      e--\r\n      c *= 2\r\n    }\r\n    if (e + eBias >= 1) {\r\n      value += rt / c\r\n    } else {\r\n      value += rt * Math.pow(2, 1 - eBias)\r\n    }\r\n    if (value * c >= 2) {\r\n      e++\r\n      c /= 2\r\n    }\r\n\r\n    if (e + eBias >= eMax) {\r\n      m = 0\r\n      e = eMax\r\n    } else if (e + eBias >= 1) {\r\n      m = (value * c - 1) * Math.pow(2, mLen)\r\n      e = e + eBias\r\n    } else {\r\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\r\n      e = 0\r\n    }\r\n  }\r\n\r\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\r\n\r\n  e = (e << mLen) | m\r\n  eLen += mLen\r\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\r\n\r\n  buffer[offset + i - d] |= s * 128\r\n}\r\n\r\n},{}],46:[function(require,module,exports){\r\n\r\n/**\r\n * isArray\r\n */\r\n\r\nvar isArray = Array.isArray;\r\n\r\n/**\r\n * toString\r\n */\r\n\r\nvar str = Object.prototype.toString;\r\n\r\n/**\r\n * Whether or not the given `val`\r\n * is an array.\r\n *\r\n * example:\r\n *\r\n *        isArray([]);\r\n *        // > true\r\n *        isArray(arguments);\r\n *        // > false\r\n *        isArray('');\r\n *        // > false\r\n *\r\n * @param {mixed} val\r\n * @return {bool}\r\n */\r\n\r\nmodule.exports = isArray || function (val) {\r\n  return !! val && '[object Array]' == str.call(val);\r\n};\r\n\r\n},{}],47:[function(require,module,exports){\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\nfunction EventEmitter() {\r\n  this._events = this._events || {};\r\n  this._maxListeners = this._maxListeners || undefined;\r\n}\r\nmodule.exports = EventEmitter;\r\n\r\n// Backwards-compat with node 0.10.x\r\nEventEmitter.EventEmitter = EventEmitter;\r\n\r\nEventEmitter.prototype._events = undefined;\r\nEventEmitter.prototype._maxListeners = undefined;\r\n\r\n// By default EventEmitters will print a warning if more than 10 listeners are\r\n// added to it. This is a useful default which helps finding memory leaks.\r\nEventEmitter.defaultMaxListeners = 10;\r\n\r\n// Obviously not all Emitters should be limited to 10. This function allows\r\n// that to be increased. Set to zero for unlimited.\r\nEventEmitter.prototype.setMaxListeners = function(n) {\r\n  if (!isNumber(n) || n < 0 || isNaN(n))\r\n    throw TypeError('n must be a positive number');\r\n  this._maxListeners = n;\r\n  return this;\r\n};\r\n\r\nEventEmitter.prototype.emit = function(type) {\r\n  var er, handler, len, args, i, listeners;\r\n\r\n  if (!this._events)\r\n    this._events = {};\r\n\r\n  // If there is no 'error' event listener then throw.\r\n  if (type === 'error') {\r\n    if (!this._events.error ||\r\n        (isObject(this._events.error) && !this._events.error.length)) {\r\n      er = arguments[1];\r\n      if (er instanceof Error) {\r\n        throw er; // Unhandled 'error' event\r\n      }\r\n      throw TypeError('Uncaught, unspecified \"error\" event.');\r\n    }\r\n  }\r\n\r\n  handler = this._events[type];\r\n\r\n  if (isUndefined(handler))\r\n    return false;\r\n\r\n  if (isFunction(handler)) {\r\n    switch (arguments.length) {\r\n      // fast cases\r\n      case 1:\r\n        handler.call(this);\r\n        break;\r\n      case 2:\r\n        handler.call(this, arguments[1]);\r\n        break;\r\n      case 3:\r\n        handler.call(this, arguments[1], arguments[2]);\r\n        break;\r\n      // slower\r\n      default:\r\n        len = arguments.length;\r\n        args = new Array(len - 1);\r\n        for (i = 1; i < len; i++)\r\n          args[i - 1] = arguments[i];\r\n        handler.apply(this, args);\r\n    }\r\n  } else if (isObject(handler)) {\r\n    len = arguments.length;\r\n    args = new Array(len - 1);\r\n    for (i = 1; i < len; i++)\r\n      args[i - 1] = arguments[i];\r\n\r\n    listeners = handler.slice();\r\n    len = listeners.length;\r\n    for (i = 0; i < len; i++)\r\n      listeners[i].apply(this, args);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nEventEmitter.prototype.addListener = function(type, listener) {\r\n  var m;\r\n\r\n  if (!isFunction(listener))\r\n    throw TypeError('listener must be a function');\r\n\r\n  if (!this._events)\r\n    this._events = {};\r\n\r\n  // To avoid recursion in the case that type === \"newListener\"! Before\r\n  // adding it to the listeners, first emit \"newListener\".\r\n  if (this._events.newListener)\r\n    this.emit('newListener', type,\r\n              isFunction(listener.listener) ?\r\n              listener.listener : listener);\r\n\r\n  if (!this._events[type])\r\n    // Optimize the case of one listener. Don't need the extra array object.\r\n    this._events[type] = listener;\r\n  else if (isObject(this._events[type]))\r\n    // If we've already got an array, just append.\r\n    this._events[type].push(listener);\r\n  else\r\n    // Adding the second element, need to change to array.\r\n    this._events[type] = [this._events[type], listener];\r\n\r\n  // Check for listener leak\r\n  if (isObject(this._events[type]) && !this._events[type].warned) {\r\n    var m;\r\n    if (!isUndefined(this._maxListeners)) {\r\n      m = this._maxListeners;\r\n    } else {\r\n      m = EventEmitter.defaultMaxListeners;\r\n    }\r\n\r\n    if (m && m > 0 && this._events[type].length > m) {\r\n      this._events[type].warned = true;\r\n      console.error('(node) warning: possible EventEmitter memory ' +\r\n                    'leak detected. %d listeners added. ' +\r\n                    'Use emitter.setMaxListeners() to increase limit.',\r\n                    this._events[type].length);\r\n      if (typeof console.trace === 'function') {\r\n        // not supported in IE 10\r\n        console.trace();\r\n      }\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\r\n\r\nEventEmitter.prototype.once = function(type, listener) {\r\n  if (!isFunction(listener))\r\n    throw TypeError('listener must be a function');\r\n\r\n  var fired = false;\r\n\r\n  function g() {\r\n    this.removeListener(type, g);\r\n\r\n    if (!fired) {\r\n      fired = true;\r\n      listener.apply(this, arguments);\r\n    }\r\n  }\r\n\r\n  g.listener = listener;\r\n  this.on(type, g);\r\n\r\n  return this;\r\n};\r\n\r\n// emits a 'removeListener' event iff the listener was removed\r\nEventEmitter.prototype.removeListener = function(type, listener) {\r\n  var list, position, length, i;\r\n\r\n  if (!isFunction(listener))\r\n    throw TypeError('listener must be a function');\r\n\r\n  if (!this._events || !this._events[type])\r\n    return this;\r\n\r\n  list = this._events[type];\r\n  length = list.length;\r\n  position = -1;\r\n\r\n  if (list === listener ||\r\n      (isFunction(list.listener) && list.listener === listener)) {\r\n    delete this._events[type];\r\n    if (this._events.removeListener)\r\n      this.emit('removeListener', type, listener);\r\n\r\n  } else if (isObject(list)) {\r\n    for (i = length; i-- > 0;) {\r\n      if (list[i] === listener ||\r\n          (list[i].listener && list[i].listener === listener)) {\r\n        position = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (position < 0)\r\n      return this;\r\n\r\n    if (list.length === 1) {\r\n      list.length = 0;\r\n      delete this._events[type];\r\n    } else {\r\n      list.splice(position, 1);\r\n    }\r\n\r\n    if (this._events.removeListener)\r\n      this.emit('removeListener', type, listener);\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nEventEmitter.prototype.removeAllListeners = function(type) {\r\n  var key, listeners;\r\n\r\n  if (!this._events)\r\n    return this;\r\n\r\n  // not listening for removeListener, no need to emit\r\n  if (!this._events.removeListener) {\r\n    if (arguments.length === 0)\r\n      this._events = {};\r\n    else if (this._events[type])\r\n      delete this._events[type];\r\n    return this;\r\n  }\r\n\r\n  // emit removeListener for all listeners on all events\r\n  if (arguments.length === 0) {\r\n    for (key in this._events) {\r\n      if (key === 'removeListener') continue;\r\n      this.removeAllListeners(key);\r\n    }\r\n    this.removeAllListeners('removeListener');\r\n    this._events = {};\r\n    return this;\r\n  }\r\n\r\n  listeners = this._events[type];\r\n\r\n  if (isFunction(listeners)) {\r\n    this.removeListener(type, listeners);\r\n  } else {\r\n    // LIFO order\r\n    while (listeners.length)\r\n      this.removeListener(type, listeners[listeners.length - 1]);\r\n  }\r\n  delete this._events[type];\r\n\r\n  return this;\r\n};\r\n\r\nEventEmitter.prototype.listeners = function(type) {\r\n  var ret;\r\n  if (!this._events || !this._events[type])\r\n    ret = [];\r\n  else if (isFunction(this._events[type]))\r\n    ret = [this._events[type]];\r\n  else\r\n    ret = this._events[type].slice();\r\n  return ret;\r\n};\r\n\r\nEventEmitter.listenerCount = function(emitter, type) {\r\n  var ret;\r\n  if (!emitter._events || !emitter._events[type])\r\n    ret = 0;\r\n  else if (isFunction(emitter._events[type]))\r\n    ret = 1;\r\n  else\r\n    ret = emitter._events[type].length;\r\n  return ret;\r\n};\r\n\r\nfunction isFunction(arg) {\r\n  return typeof arg === 'function';\r\n}\r\n\r\nfunction isNumber(arg) {\r\n  return typeof arg === 'number';\r\n}\r\n\r\nfunction isObject(arg) {\r\n  return typeof arg === 'object' && arg !== null;\r\n}\r\n\r\nfunction isUndefined(arg) {\r\n  return arg === void 0;\r\n}\r\n\r\n},{}],48:[function(require,module,exports){\r\nif (typeof Object.create === 'function') {\r\n  // implementation from standard node.js 'util' module\r\n  module.exports = function inherits(ctor, superCtor) {\r\n    ctor.super_ = superCtor\r\n    ctor.prototype = Object.create(superCtor.prototype, {\r\n      constructor: {\r\n        value: ctor,\r\n        enumerable: false,\r\n        writable: true,\r\n        configurable: true\r\n      }\r\n    });\r\n  };\r\n} else {\r\n  // old school shim for old browsers\r\n  module.exports = function inherits(ctor, superCtor) {\r\n    ctor.super_ = superCtor\r\n    var TempCtor = function () {}\r\n    TempCtor.prototype = superCtor.prototype\r\n    ctor.prototype = new TempCtor()\r\n    ctor.prototype.constructor = ctor\r\n  }\r\n}\r\n\r\n},{}],49:[function(require,module,exports){\r\nmodule.exports = Array.isArray || function (arr) {\r\n  return Object.prototype.toString.call(arr) == '[object Array]';\r\n};\r\n\r\n},{}],50:[function(require,module,exports){\r\nexports.endianness = function () { return 'LE' };\r\n\r\nexports.hostname = function () {\r\n    if (typeof location !== 'undefined') {\r\n        return location.hostname\r\n    }\r\n    else return '';\r\n};\r\n\r\nexports.loadavg = function () { return [] };\r\n\r\nexports.uptime = function () { return 0 };\r\n\r\nexports.freemem = function () {\r\n    return Number.MAX_VALUE;\r\n};\r\n\r\nexports.totalmem = function () {\r\n    return Number.MAX_VALUE;\r\n};\r\n\r\nexports.cpus = function () { return [] };\r\n\r\nexports.type = function () { return 'Browser' };\r\n\r\nexports.release = function () {\r\n    if (typeof navigator !== 'undefined') {\r\n        return navigator.appVersion;\r\n    }\r\n    return '';\r\n};\r\n\r\nexports.networkInterfaces\r\n= exports.getNetworkInterfaces\r\n= function () { return {} };\r\n\r\nexports.arch = function () { return 'javascript' };\r\n\r\nexports.platform = function () { return 'browser' };\r\n\r\nexports.tmpdir = exports.tmpDir = function () {\r\n    return '/tmp';\r\n};\r\n\r\nexports.EOL = '\\n';\r\n\r\n},{}],51:[function(require,module,exports){\r\n// shim for using process in browser\r\n\r\nvar process = module.exports = {};\r\nvar queue = [];\r\nvar draining = false;\r\nvar currentQueue;\r\nvar queueIndex = -1;\r\n\r\nfunction cleanUpNextTick() {\r\n    draining = false;\r\n    if (currentQueue.length) {\r\n        queue = currentQueue.concat(queue);\r\n    } else {\r\n        queueIndex = -1;\r\n    }\r\n    if (queue.length) {\r\n        drainQueue();\r\n    }\r\n}\r\n\r\nfunction drainQueue() {\r\n    if (draining) {\r\n        return;\r\n    }\r\n    var timeout = setTimeout(cleanUpNextTick);\r\n    draining = true;\r\n\r\n    var len = queue.length;\r\n    while(len) {\r\n        currentQueue = queue;\r\n        queue = [];\r\n        while (++queueIndex < len) {\r\n            if (currentQueue) {\r\n                currentQueue[queueIndex].run();\r\n            }\r\n        }\r\n        queueIndex = -1;\r\n        len = queue.length;\r\n    }\r\n    currentQueue = null;\r\n    draining = false;\r\n    clearTimeout(timeout);\r\n}\r\n\r\nprocess.nextTick = function (fun) {\r\n    var args = new Array(arguments.length - 1);\r\n    if (arguments.length > 1) {\r\n        for (var i = 1; i < arguments.length; i++) {\r\n            args[i - 1] = arguments[i];\r\n        }\r\n    }\r\n    queue.push(new Item(fun, args));\r\n    if (queue.length === 1 && !draining) {\r\n        setTimeout(drainQueue, 0);\r\n    }\r\n};\r\n\r\n// v8 likes predictible objects\r\nfunction Item(fun, array) {\r\n    this.fun = fun;\r\n    this.array = array;\r\n}\r\nItem.prototype.run = function () {\r\n    this.fun.apply(null, this.array);\r\n};\r\nprocess.title = 'browser';\r\nprocess.browser = true;\r\nprocess.env = {};\r\nprocess.argv = [];\r\nprocess.version = ''; // empty string to avoid regexp issues\r\nprocess.versions = {};\r\n\r\nfunction noop() {}\r\n\r\nprocess.on = noop;\r\nprocess.addListener = noop;\r\nprocess.once = noop;\r\nprocess.off = noop;\r\nprocess.removeListener = noop;\r\nprocess.removeAllListeners = noop;\r\nprocess.emit = noop;\r\n\r\nprocess.binding = function (name) {\r\n    throw new Error('process.binding is not supported');\r\n};\r\n\r\nprocess.cwd = function () { return '/' };\r\nprocess.chdir = function (dir) {\r\n    throw new Error('process.chdir is not supported');\r\n};\r\nprocess.umask = function() { return 0; };\r\n\r\n},{}],52:[function(require,module,exports){\r\nmodule.exports = require(\"./lib/_stream_duplex.js\")\r\n\r\n},{\"./lib/_stream_duplex.js\":53}],53:[function(require,module,exports){\r\n(function (process){\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n// a duplex stream is just a stream that is both readable and writable.\r\n// Since JS doesn't have multiple prototypal inheritance, this class\r\n// prototypally inherits from Readable, and then parasitically from\r\n// Writable.\r\n\r\nmodule.exports = Duplex;\r\n\r\n/*<replacement>*/\r\nvar objectKeys = Object.keys || function (obj) {\r\n  var keys = [];\r\n  for (var key in obj) keys.push(key);\r\n  return keys;\r\n}\r\n/*</replacement>*/\r\n\r\n\r\n/*<replacement>*/\r\nvar util = require('core-util-is');\r\nutil.inherits = require('inherits');\r\n/*</replacement>*/\r\n\r\nvar Readable = require('./_stream_readable');\r\nvar Writable = require('./_stream_writable');\r\n\r\nutil.inherits(Duplex, Readable);\r\n\r\nforEach(objectKeys(Writable.prototype), function(method) {\r\n  if (!Duplex.prototype[method])\r\n    Duplex.prototype[method] = Writable.prototype[method];\r\n});\r\n\r\nfunction Duplex(options) {\r\n  if (!(this instanceof Duplex))\r\n    return new Duplex(options);\r\n\r\n  Readable.call(this, options);\r\n  Writable.call(this, options);\r\n\r\n  if (options && options.readable === false)\r\n    this.readable = false;\r\n\r\n  if (options && options.writable === false)\r\n    this.writable = false;\r\n\r\n  this.allowHalfOpen = true;\r\n  if (options && options.allowHalfOpen === false)\r\n    this.allowHalfOpen = false;\r\n\r\n  this.once('end', onend);\r\n}\r\n\r\n// the no-half-open enforcer\r\nfunction onend() {\r\n  // if we allow half-open state, or if the writable side ended,\r\n  // then we're ok.\r\n  if (this.allowHalfOpen || this._writableState.ended)\r\n    return;\r\n\r\n  // no more data can be written.\r\n  // But allow more writes to happen in this tick.\r\n  process.nextTick(this.end.bind(this));\r\n}\r\n\r\nfunction forEach (xs, f) {\r\n  for (var i = 0, l = xs.length; i < l; i++) {\r\n    f(xs[i], i);\r\n  }\r\n}\r\n\r\n}).call(this,require('_process'))\r\n},{\"./_stream_readable\":55,\"./_stream_writable\":57,\"_process\":51,\"core-util-is\":58,\"inherits\":48}],54:[function(require,module,exports){\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n// a passthrough stream.\r\n// basically just the most minimal sort of Transform stream.\r\n// Every written chunk gets output as-is.\r\n\r\nmodule.exports = PassThrough;\r\n\r\nvar Transform = require('./_stream_transform');\r\n\r\n/*<replacement>*/\r\nvar util = require('core-util-is');\r\nutil.inherits = require('inherits');\r\n/*</replacement>*/\r\n\r\nutil.inherits(PassThrough, Transform);\r\n\r\nfunction PassThrough(options) {\r\n  if (!(this instanceof PassThrough))\r\n    return new PassThrough(options);\r\n\r\n  Transform.call(this, options);\r\n}\r\n\r\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\r\n  cb(null, chunk);\r\n};\r\n\r\n},{\"./_stream_transform\":56,\"core-util-is\":58,\"inherits\":48}],55:[function(require,module,exports){\r\n(function (process){\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\nmodule.exports = Readable;\r\n\r\n/*<replacement>*/\r\nvar isArray = require('isarray');\r\n/*</replacement>*/\r\n\r\n\r\n/*<replacement>*/\r\nvar Buffer = require('buffer').Buffer;\r\n/*</replacement>*/\r\n\r\nReadable.ReadableState = ReadableState;\r\n\r\nvar EE = require('events').EventEmitter;\r\n\r\n/*<replacement>*/\r\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\r\n  return emitter.listeners(type).length;\r\n};\r\n/*</replacement>*/\r\n\r\nvar Stream = require('stream');\r\n\r\n/*<replacement>*/\r\nvar util = require('core-util-is');\r\nutil.inherits = require('inherits');\r\n/*</replacement>*/\r\n\r\nvar StringDecoder;\r\n\r\n\r\n/*<replacement>*/\r\nvar debug = require('util');\r\nif (debug && debug.debuglog) {\r\n  debug = debug.debuglog('stream');\r\n} else {\r\n  debug = function () {};\r\n}\r\n/*</replacement>*/\r\n\r\n\r\nutil.inherits(Readable, Stream);\r\n\r\nfunction ReadableState(options, stream) {\r\n  var Duplex = require('./_stream_duplex');\r\n\r\n  options = options || {};\r\n\r\n  // the point at which it stops calling _read() to fill the buffer\r\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\r\n  var hwm = options.highWaterMark;\r\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\r\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\r\n\r\n  // cast to ints.\r\n  this.highWaterMark = ~~this.highWaterMark;\r\n\r\n  this.buffer = [];\r\n  this.length = 0;\r\n  this.pipes = null;\r\n  this.pipesCount = 0;\r\n  this.flowing = null;\r\n  this.ended = false;\r\n  this.endEmitted = false;\r\n  this.reading = false;\r\n\r\n  // a flag to be able to tell if the onwrite cb is called immediately,\r\n  // or on a later tick.  We set this to true at first, because any\r\n  // actions that shouldn't happen until \"later\" should generally also\r\n  // not happen before the first write call.\r\n  this.sync = true;\r\n\r\n  // whenever we return null, then we set a flag to say\r\n  // that we're awaiting a 'readable' event emission.\r\n  this.needReadable = false;\r\n  this.emittedReadable = false;\r\n  this.readableListening = false;\r\n\r\n\r\n  // object stream flag. Used to make read(n) ignore n and to\r\n  // make all the buffer merging and length checks go away\r\n  this.objectMode = !!options.objectMode;\r\n\r\n  if (stream instanceof Duplex)\r\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\r\n\r\n  // Crypto is kind of old and crusty.  Historically, its default string\r\n  // encoding is 'binary' so we have to make this configurable.\r\n  // Everything else in the universe uses 'utf8', though.\r\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\r\n\r\n  // when piping, we only care about 'readable' events that happen\r\n  // after read()ing all the bytes and not getting any pushback.\r\n  this.ranOut = false;\r\n\r\n  // the number of writers that are awaiting a drain event in .pipe()s\r\n  this.awaitDrain = 0;\r\n\r\n  // if true, a maybeReadMore has been scheduled\r\n  this.readingMore = false;\r\n\r\n  this.decoder = null;\r\n  this.encoding = null;\r\n  if (options.encoding) {\r\n    if (!StringDecoder)\r\n      StringDecoder = require('string_decoder/').StringDecoder;\r\n    this.decoder = new StringDecoder(options.encoding);\r\n    this.encoding = options.encoding;\r\n  }\r\n}\r\n\r\nfunction Readable(options) {\r\n  var Duplex = require('./_stream_duplex');\r\n\r\n  if (!(this instanceof Readable))\r\n    return new Readable(options);\r\n\r\n  this._readableState = new ReadableState(options, this);\r\n\r\n  // legacy\r\n  this.readable = true;\r\n\r\n  Stream.call(this);\r\n}\r\n\r\n// Manually shove something into the read() buffer.\r\n// This returns true if the highWaterMark has not been hit yet,\r\n// similar to how Writable.write() returns true if you should\r\n// write() some more.\r\nReadable.prototype.push = function(chunk, encoding) {\r\n  var state = this._readableState;\r\n\r\n  if (util.isString(chunk) && !state.objectMode) {\r\n    encoding = encoding || state.defaultEncoding;\r\n    if (encoding !== state.encoding) {\r\n      chunk = new Buffer(chunk, encoding);\r\n      encoding = '';\r\n    }\r\n  }\r\n\r\n  return readableAddChunk(this, state, chunk, encoding, false);\r\n};\r\n\r\n// Unshift should *always* be something directly out of read()\r\nReadable.prototype.unshift = function(chunk) {\r\n  var state = this._readableState;\r\n  return readableAddChunk(this, state, chunk, '', true);\r\n};\r\n\r\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\r\n  var er = chunkInvalid(state, chunk);\r\n  if (er) {\r\n    stream.emit('error', er);\r\n  } else if (util.isNullOrUndefined(chunk)) {\r\n    state.reading = false;\r\n    if (!state.ended)\r\n      onEofChunk(stream, state);\r\n  } else if (state.objectMode || chunk && chunk.length > 0) {\r\n    if (state.ended && !addToFront) {\r\n      var e = new Error('stream.push() after EOF');\r\n      stream.emit('error', e);\r\n    } else if (state.endEmitted && addToFront) {\r\n      var e = new Error('stream.unshift() after end event');\r\n      stream.emit('error', e);\r\n    } else {\r\n      if (state.decoder && !addToFront && !encoding)\r\n        chunk = state.decoder.write(chunk);\r\n\r\n      if (!addToFront)\r\n        state.reading = false;\r\n\r\n      // if we want the data now, just emit it.\r\n      if (state.flowing && state.length === 0 && !state.sync) {\r\n        stream.emit('data', chunk);\r\n        stream.read(0);\r\n      } else {\r\n        // update the buffer info.\r\n        state.length += state.objectMode ? 1 : chunk.length;\r\n        if (addToFront)\r\n          state.buffer.unshift(chunk);\r\n        else\r\n          state.buffer.push(chunk);\r\n\r\n        if (state.needReadable)\r\n          emitReadable(stream);\r\n      }\r\n\r\n      maybeReadMore(stream, state);\r\n    }\r\n  } else if (!addToFront) {\r\n    state.reading = false;\r\n  }\r\n\r\n  return needMoreData(state);\r\n}\r\n\r\n\r\n\r\n// if it's past the high water mark, we can push in some more.\r\n// Also, if we have no data yet, we can stand some\r\n// more bytes.  This is to work around cases where hwm=0,\r\n// such as the repl.  Also, if the push() triggered a\r\n// readable event, and the user called read(largeNumber) such that\r\n// needReadable was set, then we ought to push more, so that another\r\n// 'readable' event will be triggered.\r\nfunction needMoreData(state) {\r\n  return !state.ended &&\r\n         (state.needReadable ||\r\n          state.length < state.highWaterMark ||\r\n          state.length === 0);\r\n}\r\n\r\n// backwards compatibility.\r\nReadable.prototype.setEncoding = function(enc) {\r\n  if (!StringDecoder)\r\n    StringDecoder = require('string_decoder/').StringDecoder;\r\n  this._readableState.decoder = new StringDecoder(enc);\r\n  this._readableState.encoding = enc;\r\n  return this;\r\n};\r\n\r\n// Don't raise the hwm > 128MB\r\nvar MAX_HWM = 0x800000;\r\nfunction roundUpToNextPowerOf2(n) {\r\n  if (n >= MAX_HWM) {\r\n    n = MAX_HWM;\r\n  } else {\r\n    // Get the next highest power of 2\r\n    n--;\r\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\r\n    n++;\r\n  }\r\n  return n;\r\n}\r\n\r\nfunction howMuchToRead(n, state) {\r\n  if (state.length === 0 && state.ended)\r\n    return 0;\r\n\r\n  if (state.objectMode)\r\n    return n === 0 ? 0 : 1;\r\n\r\n  if (isNaN(n) || util.isNull(n)) {\r\n    // only flow one buffer at a time\r\n    if (state.flowing && state.buffer.length)\r\n      return state.buffer[0].length;\r\n    else\r\n      return state.length;\r\n  }\r\n\r\n  if (n <= 0)\r\n    return 0;\r\n\r\n  // If we're asking for more than the target buffer level,\r\n  // then raise the water mark.  Bump up to the next highest\r\n  // power of 2, to prevent increasing it excessively in tiny\r\n  // amounts.\r\n  if (n > state.highWaterMark)\r\n    state.highWaterMark = roundUpToNextPowerOf2(n);\r\n\r\n  // don't have that much.  return null, unless we've ended.\r\n  if (n > state.length) {\r\n    if (!state.ended) {\r\n      state.needReadable = true;\r\n      return 0;\r\n    } else\r\n      return state.length;\r\n  }\r\n\r\n  return n;\r\n}\r\n\r\n// you can override either this method, or the async _read(n) below.\r\nReadable.prototype.read = function(n) {\r\n  debug('read', n);\r\n  var state = this._readableState;\r\n  var nOrig = n;\r\n\r\n  if (!util.isNumber(n) || n > 0)\r\n    state.emittedReadable = false;\r\n\r\n  // if we're doing read(0) to trigger a readable event, but we\r\n  // already have a bunch of data in the buffer, then just trigger\r\n  // the 'readable' event and move on.\r\n  if (n === 0 &&\r\n      state.needReadable &&\r\n      (state.length >= state.highWaterMark || state.ended)) {\r\n    debug('read: emitReadable', state.length, state.ended);\r\n    if (state.length === 0 && state.ended)\r\n      endReadable(this);\r\n    else\r\n      emitReadable(this);\r\n    return null;\r\n  }\r\n\r\n  n = howMuchToRead(n, state);\r\n\r\n  // if we've ended, and we're now clear, then finish it up.\r\n  if (n === 0 && state.ended) {\r\n    if (state.length === 0)\r\n      endReadable(this);\r\n    return null;\r\n  }\r\n\r\n  // All the actual chunk generation logic needs to be\r\n  // *below* the call to _read.  The reason is that in certain\r\n  // synthetic stream cases, such as passthrough streams, _read\r\n  // may be a completely synchronous operation which may change\r\n  // the state of the read buffer, providing enough data when\r\n  // before there was *not* enough.\r\n  //\r\n  // So, the steps are:\r\n  // 1. Figure out what the state of things will be after we do\r\n  // a read from the buffer.\r\n  //\r\n  // 2. If that resulting state will trigger a _read, then call _read.\r\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\r\n  // deeply ugly to write APIs this way, but that still doesn't mean\r\n  // that the Readable class should behave improperly, as streams are\r\n  // designed to be sync/async agnostic.\r\n  // Take note if the _read call is sync or async (ie, if the read call\r\n  // has returned yet), so that we know whether or not it's safe to emit\r\n  // 'readable' etc.\r\n  //\r\n  // 3. Actually pull the requested chunks out of the buffer and return.\r\n\r\n  // if we need a readable event, then we need to do some reading.\r\n  var doRead = state.needReadable;\r\n  debug('need readable', doRead);\r\n\r\n  // if we currently have less than the highWaterMark, then also read some\r\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\r\n    doRead = true;\r\n    debug('length less than watermark', doRead);\r\n  }\r\n\r\n  // however, if we've ended, then there's no point, and if we're already\r\n  // reading, then it's unnecessary.\r\n  if (state.ended || state.reading) {\r\n    doRead = false;\r\n    debug('reading or ended', doRead);\r\n  }\r\n\r\n  if (doRead) {\r\n    debug('do read');\r\n    state.reading = true;\r\n    state.sync = true;\r\n    // if the length is currently zero, then we *need* a readable event.\r\n    if (state.length === 0)\r\n      state.needReadable = true;\r\n    // call internal read method\r\n    this._read(state.highWaterMark);\r\n    state.sync = false;\r\n  }\r\n\r\n  // If _read pushed data synchronously, then `reading` will be false,\r\n  // and we need to re-evaluate how much data we can return to the user.\r\n  if (doRead && !state.reading)\r\n    n = howMuchToRead(nOrig, state);\r\n\r\n  var ret;\r\n  if (n > 0)\r\n    ret = fromList(n, state);\r\n  else\r\n    ret = null;\r\n\r\n  if (util.isNull(ret)) {\r\n    state.needReadable = true;\r\n    n = 0;\r\n  }\r\n\r\n  state.length -= n;\r\n\r\n  // If we have nothing in the buffer, then we want to know\r\n  // as soon as we *do* get something into the buffer.\r\n  if (state.length === 0 && !state.ended)\r\n    state.needReadable = true;\r\n\r\n  // If we tried to read() past the EOF, then emit end on the next tick.\r\n  if (nOrig !== n && state.ended && state.length === 0)\r\n    endReadable(this);\r\n\r\n  if (!util.isNull(ret))\r\n    this.emit('data', ret);\r\n\r\n  return ret;\r\n};\r\n\r\nfunction chunkInvalid(state, chunk) {\r\n  var er = null;\r\n  if (!util.isBuffer(chunk) &&\r\n      !util.isString(chunk) &&\r\n      !util.isNullOrUndefined(chunk) &&\r\n      !state.objectMode) {\r\n    er = new TypeError('Invalid non-string/buffer chunk');\r\n  }\r\n  return er;\r\n}\r\n\r\n\r\nfunction onEofChunk(stream, state) {\r\n  if (state.decoder && !state.ended) {\r\n    var chunk = state.decoder.end();\r\n    if (chunk && chunk.length) {\r\n      state.buffer.push(chunk);\r\n      state.length += state.objectMode ? 1 : chunk.length;\r\n    }\r\n  }\r\n  state.ended = true;\r\n\r\n  // emit 'readable' now to make sure it gets picked up.\r\n  emitReadable(stream);\r\n}\r\n\r\n// Don't emit readable right away in sync mode, because this can trigger\r\n// another read() call => stack overflow.  This way, it might trigger\r\n// a nextTick recursion warning, but that's not so bad.\r\nfunction emitReadable(stream) {\r\n  var state = stream._readableState;\r\n  state.needReadable = false;\r\n  if (!state.emittedReadable) {\r\n    debug('emitReadable', state.flowing);\r\n    state.emittedReadable = true;\r\n    if (state.sync)\r\n      process.nextTick(function() {\r\n        emitReadable_(stream);\r\n      });\r\n    else\r\n      emitReadable_(stream);\r\n  }\r\n}\r\n\r\nfunction emitReadable_(stream) {\r\n  debug('emit readable');\r\n  stream.emit('readable');\r\n  flow(stream);\r\n}\r\n\r\n\r\n// at this point, the user has presumably seen the 'readable' event,\r\n// and called read() to consume some data.  that may have triggered\r\n// in turn another _read(n) call, in which case reading = true if\r\n// it's in progress.\r\n// However, if we're not ended, or reading, and the length < hwm,\r\n// then go ahead and try to read some more preemptively.\r\nfunction maybeReadMore(stream, state) {\r\n  if (!state.readingMore) {\r\n    state.readingMore = true;\r\n    process.nextTick(function() {\r\n      maybeReadMore_(stream, state);\r\n    });\r\n  }\r\n}\r\n\r\nfunction maybeReadMore_(stream, state) {\r\n  var len = state.length;\r\n  while (!state.reading && !state.flowing && !state.ended &&\r\n         state.length < state.highWaterMark) {\r\n    debug('maybeReadMore read 0');\r\n    stream.read(0);\r\n    if (len === state.length)\r\n      // didn't get any data, stop spinning.\r\n      break;\r\n    else\r\n      len = state.length;\r\n  }\r\n  state.readingMore = false;\r\n}\r\n\r\n// abstract method.  to be overridden in specific implementation classes.\r\n// call cb(er, data) where data is <= n in length.\r\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\r\n// arbitrary, and perhaps not very meaningful.\r\nReadable.prototype._read = function(n) {\r\n  this.emit('error', new Error('not implemented'));\r\n};\r\n\r\nReadable.prototype.pipe = function(dest, pipeOpts) {\r\n  var src = this;\r\n  var state = this._readableState;\r\n\r\n  switch (state.pipesCount) {\r\n    case 0:\r\n      state.pipes = dest;\r\n      break;\r\n    case 1:\r\n      state.pipes = [state.pipes, dest];\r\n      break;\r\n    default:\r\n      state.pipes.push(dest);\r\n      break;\r\n  }\r\n  state.pipesCount += 1;\r\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\r\n\r\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\r\n              dest !== process.stdout &&\r\n              dest !== process.stderr;\r\n\r\n  var endFn = doEnd ? onend : cleanup;\r\n  if (state.endEmitted)\r\n    process.nextTick(endFn);\r\n  else\r\n    src.once('end', endFn);\r\n\r\n  dest.on('unpipe', onunpipe);\r\n  function onunpipe(readable) {\r\n    debug('onunpipe');\r\n    if (readable === src) {\r\n      cleanup();\r\n    }\r\n  }\r\n\r\n  function onend() {\r\n    debug('onend');\r\n    dest.end();\r\n  }\r\n\r\n  // when the dest drains, it reduces the awaitDrain counter\r\n  // on the source.  This would be more elegant with a .once()\r\n  // handler in flow(), but adding and removing repeatedly is\r\n  // too slow.\r\n  var ondrain = pipeOnDrain(src);\r\n  dest.on('drain', ondrain);\r\n\r\n  function cleanup() {\r\n    debug('cleanup');\r\n    // cleanup event handlers once the pipe is broken\r\n    dest.removeListener('close', onclose);\r\n    dest.removeListener('finish', onfinish);\r\n    dest.removeListener('drain', ondrain);\r\n    dest.removeListener('error', onerror);\r\n    dest.removeListener('unpipe', onunpipe);\r\n    src.removeListener('end', onend);\r\n    src.removeListener('end', cleanup);\r\n    src.removeListener('data', ondata);\r\n\r\n    // if the reader is waiting for a drain event from this\r\n    // specific writer, then it would cause it to never start\r\n    // flowing again.\r\n    // So, if this is awaiting a drain, then we just call it now.\r\n    // If we don't know, then assume that we are waiting for one.\r\n    if (state.awaitDrain &&\r\n        (!dest._writableState || dest._writableState.needDrain))\r\n      ondrain();\r\n  }\r\n\r\n  src.on('data', ondata);\r\n  function ondata(chunk) {\r\n    debug('ondata');\r\n    var ret = dest.write(chunk);\r\n    if (false === ret) {\r\n      debug('false write response, pause',\r\n            src._readableState.awaitDrain);\r\n      src._readableState.awaitDrain++;\r\n      src.pause();\r\n    }\r\n  }\r\n\r\n  // if the dest has an error, then stop piping into it.\r\n  // however, don't suppress the throwing behavior for this.\r\n  function onerror(er) {\r\n    debug('onerror', er);\r\n    unpipe();\r\n    dest.removeListener('error', onerror);\r\n    if (EE.listenerCount(dest, 'error') === 0)\r\n      dest.emit('error', er);\r\n  }\r\n  // This is a brutally ugly hack to make sure that our error handler\r\n  // is attached before any userland ones.  NEVER DO THIS.\r\n  if (!dest._events || !dest._events.error)\r\n    dest.on('error', onerror);\r\n  else if (isArray(dest._events.error))\r\n    dest._events.error.unshift(onerror);\r\n  else\r\n    dest._events.error = [onerror, dest._events.error];\r\n\r\n\r\n\r\n  // Both close and finish should trigger unpipe, but only once.\r\n  function onclose() {\r\n    dest.removeListener('finish', onfinish);\r\n    unpipe();\r\n  }\r\n  dest.once('close', onclose);\r\n  function onfinish() {\r\n    debug('onfinish');\r\n    dest.removeListener('close', onclose);\r\n    unpipe();\r\n  }\r\n  dest.once('finish', onfinish);\r\n\r\n  function unpipe() {\r\n    debug('unpipe');\r\n    src.unpipe(dest);\r\n  }\r\n\r\n  // tell the dest that it's being piped to\r\n  dest.emit('pipe', src);\r\n\r\n  // start the flow if it hasn't been started already.\r\n  if (!state.flowing) {\r\n    debug('pipe resume');\r\n    src.resume();\r\n  }\r\n\r\n  return dest;\r\n};\r\n\r\nfunction pipeOnDrain(src) {\r\n  return function() {\r\n    var state = src._readableState;\r\n    debug('pipeOnDrain', state.awaitDrain);\r\n    if (state.awaitDrain)\r\n      state.awaitDrain--;\r\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\r\n      state.flowing = true;\r\n      flow(src);\r\n    }\r\n  };\r\n}\r\n\r\n\r\nReadable.prototype.unpipe = function(dest) {\r\n  var state = this._readableState;\r\n\r\n  // if we're not piping anywhere, then do nothing.\r\n  if (state.pipesCount === 0)\r\n    return this;\r\n\r\n  // just one destination.  most common case.\r\n  if (state.pipesCount === 1) {\r\n    // passed in one, but it's not the right one.\r\n    if (dest && dest !== state.pipes)\r\n      return this;\r\n\r\n    if (!dest)\r\n      dest = state.pipes;\r\n\r\n    // got a match.\r\n    state.pipes = null;\r\n    state.pipesCount = 0;\r\n    state.flowing = false;\r\n    if (dest)\r\n      dest.emit('unpipe', this);\r\n    return this;\r\n  }\r\n\r\n  // slow case. multiple pipe destinations.\r\n\r\n  if (!dest) {\r\n    // remove all.\r\n    var dests = state.pipes;\r\n    var len = state.pipesCount;\r\n    state.pipes = null;\r\n    state.pipesCount = 0;\r\n    state.flowing = false;\r\n\r\n    for (var i = 0; i < len; i++)\r\n      dests[i].emit('unpipe', this);\r\n    return this;\r\n  }\r\n\r\n  // try to find the right one.\r\n  var i = indexOf(state.pipes, dest);\r\n  if (i === -1)\r\n    return this;\r\n\r\n  state.pipes.splice(i, 1);\r\n  state.pipesCount -= 1;\r\n  if (state.pipesCount === 1)\r\n    state.pipes = state.pipes[0];\r\n\r\n  dest.emit('unpipe', this);\r\n\r\n  return this;\r\n};\r\n\r\n// set up data events if they are asked for\r\n// Ensure readable listeners eventually get something\r\nReadable.prototype.on = function(ev, fn) {\r\n  var res = Stream.prototype.on.call(this, ev, fn);\r\n\r\n  // If listening to data, and it has not explicitly been paused,\r\n  // then call resume to start the flow of data on the next tick.\r\n  if (ev === 'data' && false !== this._readableState.flowing) {\r\n    this.resume();\r\n  }\r\n\r\n  if (ev === 'readable' && this.readable) {\r\n    var state = this._readableState;\r\n    if (!state.readableListening) {\r\n      state.readableListening = true;\r\n      state.emittedReadable = false;\r\n      state.needReadable = true;\r\n      if (!state.reading) {\r\n        var self = this;\r\n        process.nextTick(function() {\r\n          debug('readable nexttick read 0');\r\n          self.read(0);\r\n        });\r\n      } else if (state.length) {\r\n        emitReadable(this, state);\r\n      }\r\n    }\r\n  }\r\n\r\n  return res;\r\n};\r\nReadable.prototype.addListener = Readable.prototype.on;\r\n\r\n// pause() and resume() are remnants of the legacy readable stream API\r\n// If the user uses them, then switch into old mode.\r\nReadable.prototype.resume = function() {\r\n  var state = this._readableState;\r\n  if (!state.flowing) {\r\n    debug('resume');\r\n    state.flowing = true;\r\n    if (!state.reading) {\r\n      debug('resume read 0');\r\n      this.read(0);\r\n    }\r\n    resume(this, state);\r\n  }\r\n  return this;\r\n};\r\n\r\nfunction resume(stream, state) {\r\n  if (!state.resumeScheduled) {\r\n    state.resumeScheduled = true;\r\n    process.nextTick(function() {\r\n      resume_(stream, state);\r\n    });\r\n  }\r\n}\r\n\r\nfunction resume_(stream, state) {\r\n  state.resumeScheduled = false;\r\n  stream.emit('resume');\r\n  flow(stream);\r\n  if (state.flowing && !state.reading)\r\n    stream.read(0);\r\n}\r\n\r\nReadable.prototype.pause = function() {\r\n  debug('call pause flowing=%j', this._readableState.flowing);\r\n  if (false !== this._readableState.flowing) {\r\n    debug('pause');\r\n    this._readableState.flowing = false;\r\n    this.emit('pause');\r\n  }\r\n  return this;\r\n};\r\n\r\nfunction flow(stream) {\r\n  var state = stream._readableState;\r\n  debug('flow', state.flowing);\r\n  if (state.flowing) {\r\n    do {\r\n      var chunk = stream.read();\r\n    } while (null !== chunk && state.flowing);\r\n  }\r\n}\r\n\r\n// wrap an old-style stream as the async data source.\r\n// This is *not* part of the readable stream interface.\r\n// It is an ugly unfortunate mess of history.\r\nReadable.prototype.wrap = function(stream) {\r\n  var state = this._readableState;\r\n  var paused = false;\r\n\r\n  var self = this;\r\n  stream.on('end', function() {\r\n    debug('wrapped end');\r\n    if (state.decoder && !state.ended) {\r\n      var chunk = state.decoder.end();\r\n      if (chunk && chunk.length)\r\n        self.push(chunk);\r\n    }\r\n\r\n    self.push(null);\r\n  });\r\n\r\n  stream.on('data', function(chunk) {\r\n    debug('wrapped data');\r\n    if (state.decoder)\r\n      chunk = state.decoder.write(chunk);\r\n    if (!chunk || !state.objectMode && !chunk.length)\r\n      return;\r\n\r\n    var ret = self.push(chunk);\r\n    if (!ret) {\r\n      paused = true;\r\n      stream.pause();\r\n    }\r\n  });\r\n\r\n  // proxy all the other methods.\r\n  // important when wrapping filters and duplexes.\r\n  for (var i in stream) {\r\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\r\n      this[i] = function(method) { return function() {\r\n        return stream[method].apply(stream, arguments);\r\n      }}(i);\r\n    }\r\n  }\r\n\r\n  // proxy certain important events.\r\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\r\n  forEach(events, function(ev) {\r\n    stream.on(ev, self.emit.bind(self, ev));\r\n  });\r\n\r\n  // when we try to consume some more bytes, simply unpause the\r\n  // underlying stream.\r\n  self._read = function(n) {\r\n    debug('wrapped _read', n);\r\n    if (paused) {\r\n      paused = false;\r\n      stream.resume();\r\n    }\r\n  };\r\n\r\n  return self;\r\n};\r\n\r\n\r\n\r\n// exposed for testing purposes only.\r\nReadable._fromList = fromList;\r\n\r\n// Pluck off n bytes from an array of buffers.\r\n// Length is the combined lengths of all the buffers in the list.\r\nfunction fromList(n, state) {\r\n  var list = state.buffer;\r\n  var length = state.length;\r\n  var stringMode = !!state.decoder;\r\n  var objectMode = !!state.objectMode;\r\n  var ret;\r\n\r\n  // nothing in the list, definitely empty.\r\n  if (list.length === 0)\r\n    return null;\r\n\r\n  if (length === 0)\r\n    ret = null;\r\n  else if (objectMode)\r\n    ret = list.shift();\r\n  else if (!n || n >= length) {\r\n    // read it all, truncate the array.\r\n    if (stringMode)\r\n      ret = list.join('');\r\n    else\r\n      ret = Buffer.concat(list, length);\r\n    list.length = 0;\r\n  } else {\r\n    // read just some of it.\r\n    if (n < list[0].length) {\r\n      // just take a part of the first list item.\r\n      // slice is the same for buffers and strings.\r\n      var buf = list[0];\r\n      ret = buf.slice(0, n);\r\n      list[0] = buf.slice(n);\r\n    } else if (n === list[0].length) {\r\n      // first list is a perfect match\r\n      ret = list.shift();\r\n    } else {\r\n      // complex case.\r\n      // we have enough to cover it, but it spans past the first buffer.\r\n      if (stringMode)\r\n        ret = '';\r\n      else\r\n        ret = new Buffer(n);\r\n\r\n      var c = 0;\r\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\r\n        var buf = list[0];\r\n        var cpy = Math.min(n - c, buf.length);\r\n\r\n        if (stringMode)\r\n          ret += buf.slice(0, cpy);\r\n        else\r\n          buf.copy(ret, c, 0, cpy);\r\n\r\n        if (cpy < buf.length)\r\n          list[0] = buf.slice(cpy);\r\n        else\r\n          list.shift();\r\n\r\n        c += cpy;\r\n      }\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction endReadable(stream) {\r\n  var state = stream._readableState;\r\n\r\n  // If we get here before consuming all the bytes, then that is a\r\n  // bug in node.  Should never happen.\r\n  if (state.length > 0)\r\n    throw new Error('endReadable called on non-empty stream');\r\n\r\n  if (!state.endEmitted) {\r\n    state.ended = true;\r\n    process.nextTick(function() {\r\n      // Check that we didn't get one last unshift.\r\n      if (!state.endEmitted && state.length === 0) {\r\n        state.endEmitted = true;\r\n        stream.readable = false;\r\n        stream.emit('end');\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction forEach (xs, f) {\r\n  for (var i = 0, l = xs.length; i < l; i++) {\r\n    f(xs[i], i);\r\n  }\r\n}\r\n\r\nfunction indexOf (xs, x) {\r\n  for (var i = 0, l = xs.length; i < l; i++) {\r\n    if (xs[i] === x) return i;\r\n  }\r\n  return -1;\r\n}\r\n\r\n}).call(this,require('_process'))\r\n},{\"./_stream_duplex\":53,\"_process\":51,\"buffer\":43,\"core-util-is\":58,\"events\":47,\"inherits\":48,\"isarray\":49,\"stream\":63,\"string_decoder/\":64,\"util\":42}],56:[function(require,module,exports){\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n\r\n// a transform stream is a readable/writable stream where you do\r\n// something with the data.  Sometimes it's called a \"filter\",\r\n// but that's not a great name for it, since that implies a thing where\r\n// some bits pass through, and others are simply ignored.  (That would\r\n// be a valid example of a transform, of course.)\r\n//\r\n// While the output is causally related to the input, it's not a\r\n// necessarily symmetric or synchronous transformation.  For example,\r\n// a zlib stream might take multiple plain-text writes(), and then\r\n// emit a single compressed chunk some time in the future.\r\n//\r\n// Here's how this works:\r\n//\r\n// The Transform stream has all the aspects of the readable and writable\r\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\r\n// internally, and returns false if there's a lot of pending writes\r\n// buffered up.  When you call read(), that calls _read(n) until\r\n// there's enough pending readable data buffered up.\r\n//\r\n// In a transform stream, the written data is placed in a buffer.  When\r\n// _read(n) is called, it transforms the queued up data, calling the\r\n// buffered _write cb's as it consumes chunks.  If consuming a single\r\n// written chunk would result in multiple output chunks, then the first\r\n// outputted bit calls the readcb, and subsequent chunks just go into\r\n// the read buffer, and will cause it to emit 'readable' if necessary.\r\n//\r\n// This way, back-pressure is actually determined by the reading side,\r\n// since _read has to be called to start processing a new chunk.  However,\r\n// a pathological inflate type of transform can cause excessive buffering\r\n// here.  For example, imagine a stream where every byte of input is\r\n// interpreted as an integer from 0-255, and then results in that many\r\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\r\n// 1kb of data being output.  In this case, you could write a very small\r\n// amount of input, and end up with a very large amount of output.  In\r\n// such a pathological inflating mechanism, there'd be no way to tell\r\n// the system to stop doing the transform.  A single 4MB write could\r\n// cause the system to run out of memory.\r\n//\r\n// However, even in such a pathological case, only a single written chunk\r\n// would be consumed, and then the rest would wait (un-transformed) until\r\n// the results of the previous transformed chunk were consumed.\r\n\r\nmodule.exports = Transform;\r\n\r\nvar Duplex = require('./_stream_duplex');\r\n\r\n/*<replacement>*/\r\nvar util = require('core-util-is');\r\nutil.inherits = require('inherits');\r\n/*</replacement>*/\r\n\r\nutil.inherits(Transform, Duplex);\r\n\r\n\r\nfunction TransformState(options, stream) {\r\n  this.afterTransform = function(er, data) {\r\n    return afterTransform(stream, er, data);\r\n  };\r\n\r\n  this.needTransform = false;\r\n  this.transforming = false;\r\n  this.writecb = null;\r\n  this.writechunk = null;\r\n}\r\n\r\nfunction afterTransform(stream, er, data) {\r\n  var ts = stream._transformState;\r\n  ts.transforming = false;\r\n\r\n  var cb = ts.writecb;\r\n\r\n  if (!cb)\r\n    return stream.emit('error', new Error('no writecb in Transform class'));\r\n\r\n  ts.writechunk = null;\r\n  ts.writecb = null;\r\n\r\n  if (!util.isNullOrUndefined(data))\r\n    stream.push(data);\r\n\r\n  if (cb)\r\n    cb(er);\r\n\r\n  var rs = stream._readableState;\r\n  rs.reading = false;\r\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\r\n    stream._read(rs.highWaterMark);\r\n  }\r\n}\r\n\r\n\r\nfunction Transform(options) {\r\n  if (!(this instanceof Transform))\r\n    return new Transform(options);\r\n\r\n  Duplex.call(this, options);\r\n\r\n  this._transformState = new TransformState(options, this);\r\n\r\n  // when the writable side finishes, then flush out anything remaining.\r\n  var stream = this;\r\n\r\n  // start out asking for a readable event once data is transformed.\r\n  this._readableState.needReadable = true;\r\n\r\n  // we have implemented the _read method, and done the other things\r\n  // that Readable wants before the first _read call, so unset the\r\n  // sync guard flag.\r\n  this._readableState.sync = false;\r\n\r\n  this.once('prefinish', function() {\r\n    if (util.isFunction(this._flush))\r\n      this._flush(function(er) {\r\n        done(stream, er);\r\n      });\r\n    else\r\n      done(stream);\r\n  });\r\n}\r\n\r\nTransform.prototype.push = function(chunk, encoding) {\r\n  this._transformState.needTransform = false;\r\n  return Duplex.prototype.push.call(this, chunk, encoding);\r\n};\r\n\r\n// This is the part where you do stuff!\r\n// override this function in implementation classes.\r\n// 'chunk' is an input chunk.\r\n//\r\n// Call `push(newChunk)` to pass along transformed output\r\n// to the readable side.  You may call 'push' zero or more times.\r\n//\r\n// Call `cb(err)` when you are done with this chunk.  If you pass\r\n// an error, then that'll put the hurt on the whole operation.  If you\r\n// never call cb(), then you'll never get another chunk.\r\nTransform.prototype._transform = function(chunk, encoding, cb) {\r\n  throw new Error('not implemented');\r\n};\r\n\r\nTransform.prototype._write = function(chunk, encoding, cb) {\r\n  var ts = this._transformState;\r\n  ts.writecb = cb;\r\n  ts.writechunk = chunk;\r\n  ts.writeencoding = encoding;\r\n  if (!ts.transforming) {\r\n    var rs = this._readableState;\r\n    if (ts.needTransform ||\r\n        rs.needReadable ||\r\n        rs.length < rs.highWaterMark)\r\n      this._read(rs.highWaterMark);\r\n  }\r\n};\r\n\r\n// Doesn't matter what the args are here.\r\n// _transform does all the work.\r\n// That we got here means that the readable side wants more data.\r\nTransform.prototype._read = function(n) {\r\n  var ts = this._transformState;\r\n\r\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\r\n    ts.transforming = true;\r\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\r\n  } else {\r\n    // mark that we need a transform, so that any data that comes in\r\n    // will get processed, now that we've asked for it.\r\n    ts.needTransform = true;\r\n  }\r\n};\r\n\r\n\r\nfunction done(stream, er) {\r\n  if (er)\r\n    return stream.emit('error', er);\r\n\r\n  // if there's nothing in the write buffer, then that means\r\n  // that nothing more will ever be provided\r\n  var ws = stream._writableState;\r\n  var ts = stream._transformState;\r\n\r\n  if (ws.length)\r\n    throw new Error('calling transform done when ws.length != 0');\r\n\r\n  if (ts.transforming)\r\n    throw new Error('calling transform done when still transforming');\r\n\r\n  return stream.push(null);\r\n}\r\n\r\n},{\"./_stream_duplex\":53,\"core-util-is\":58,\"inherits\":48}],57:[function(require,module,exports){\r\n(function (process){\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n// A bit simpler than readable streams.\r\n// Implement an async ._write(chunk, cb), and it'll handle all\r\n// the drain event emission and buffering.\r\n\r\nmodule.exports = Writable;\r\n\r\n/*<replacement>*/\r\nvar Buffer = require('buffer').Buffer;\r\n/*</replacement>*/\r\n\r\nWritable.WritableState = WritableState;\r\n\r\n\r\n/*<replacement>*/\r\nvar util = require('core-util-is');\r\nutil.inherits = require('inherits');\r\n/*</replacement>*/\r\n\r\nvar Stream = require('stream');\r\n\r\nutil.inherits(Writable, Stream);\r\n\r\nfunction WriteReq(chunk, encoding, cb) {\r\n  this.chunk = chunk;\r\n  this.encoding = encoding;\r\n  this.callback = cb;\r\n}\r\n\r\nfunction WritableState(options, stream) {\r\n  var Duplex = require('./_stream_duplex');\r\n\r\n  options = options || {};\r\n\r\n  // the point at which write() starts returning false\r\n  // Note: 0 is a valid value, means that we always return false if\r\n  // the entire buffer is not flushed immediately on write()\r\n  var hwm = options.highWaterMark;\r\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\r\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\r\n\r\n  // object stream flag to indicate whether or not this stream\r\n  // contains buffers or objects.\r\n  this.objectMode = !!options.objectMode;\r\n\r\n  if (stream instanceof Duplex)\r\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\r\n\r\n  // cast to ints.\r\n  this.highWaterMark = ~~this.highWaterMark;\r\n\r\n  this.needDrain = false;\r\n  // at the start of calling end()\r\n  this.ending = false;\r\n  // when end() has been called, and returned\r\n  this.ended = false;\r\n  // when 'finish' is emitted\r\n  this.finished = false;\r\n\r\n  // should we decode strings into buffers before passing to _write?\r\n  // this is here so that some node-core streams can optimize string\r\n  // handling at a lower level.\r\n  var noDecode = options.decodeStrings === false;\r\n  this.decodeStrings = !noDecode;\r\n\r\n  // Crypto is kind of old and crusty.  Historically, its default string\r\n  // encoding is 'binary' so we have to make this configurable.\r\n  // Everything else in the universe uses 'utf8', though.\r\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\r\n\r\n  // not an actual buffer we keep track of, but a measurement\r\n  // of how much we're waiting to get pushed to some underlying\r\n  // socket or file.\r\n  this.length = 0;\r\n\r\n  // a flag to see when we're in the middle of a write.\r\n  this.writing = false;\r\n\r\n  // when true all writes will be buffered until .uncork() call\r\n  this.corked = 0;\r\n\r\n  // a flag to be able to tell if the onwrite cb is called immediately,\r\n  // or on a later tick.  We set this to true at first, because any\r\n  // actions that shouldn't happen until \"later\" should generally also\r\n  // not happen before the first write call.\r\n  this.sync = true;\r\n\r\n  // a flag to know if we're processing previously buffered items, which\r\n  // may call the _write() callback in the same tick, so that we don't\r\n  // end up in an overlapped onwrite situation.\r\n  this.bufferProcessing = false;\r\n\r\n  // the callback that's passed to _write(chunk,cb)\r\n  this.onwrite = function(er) {\r\n    onwrite(stream, er);\r\n  };\r\n\r\n  // the callback that the user supplies to write(chunk,encoding,cb)\r\n  this.writecb = null;\r\n\r\n  // the amount that is being written when _write is called.\r\n  this.writelen = 0;\r\n\r\n  this.buffer = [];\r\n\r\n  // number of pending user-supplied write callbacks\r\n  // this must be 0 before 'finish' can be emitted\r\n  this.pendingcb = 0;\r\n\r\n  // emit prefinish if the only thing we're waiting for is _write cbs\r\n  // This is relevant for synchronous Transform streams\r\n  this.prefinished = false;\r\n\r\n  // True if the error was already emitted and should not be thrown again\r\n  this.errorEmitted = false;\r\n}\r\n\r\nfunction Writable(options) {\r\n  var Duplex = require('./_stream_duplex');\r\n\r\n  // Writable ctor is applied to Duplexes, though they're not\r\n  // instanceof Writable, they're instanceof Readable.\r\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\r\n    return new Writable(options);\r\n\r\n  this._writableState = new WritableState(options, this);\r\n\r\n  // legacy.\r\n  this.writable = true;\r\n\r\n  Stream.call(this);\r\n}\r\n\r\n// Otherwise people can pipe Writable streams, which is just wrong.\r\nWritable.prototype.pipe = function() {\r\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\r\n};\r\n\r\n\r\nfunction writeAfterEnd(stream, state, cb) {\r\n  var er = new Error('write after end');\r\n  // TODO: defer error events consistently everywhere, not just the cb\r\n  stream.emit('error', er);\r\n  process.nextTick(function() {\r\n    cb(er);\r\n  });\r\n}\r\n\r\n// If we get something that is not a buffer, string, null, or undefined,\r\n// and we're not in objectMode, then that's an error.\r\n// Otherwise stream chunks are all considered to be of length=1, and the\r\n// watermarks determine how many objects to keep in the buffer, rather than\r\n// how many bytes or characters.\r\nfunction validChunk(stream, state, chunk, cb) {\r\n  var valid = true;\r\n  if (!util.isBuffer(chunk) &&\r\n      !util.isString(chunk) &&\r\n      !util.isNullOrUndefined(chunk) &&\r\n      !state.objectMode) {\r\n    var er = new TypeError('Invalid non-string/buffer chunk');\r\n    stream.emit('error', er);\r\n    process.nextTick(function() {\r\n      cb(er);\r\n    });\r\n    valid = false;\r\n  }\r\n  return valid;\r\n}\r\n\r\nWritable.prototype.write = function(chunk, encoding, cb) {\r\n  var state = this._writableState;\r\n  var ret = false;\r\n\r\n  if (util.isFunction(encoding)) {\r\n    cb = encoding;\r\n    encoding = null;\r\n  }\r\n\r\n  if (util.isBuffer(chunk))\r\n    encoding = 'buffer';\r\n  else if (!encoding)\r\n    encoding = state.defaultEncoding;\r\n\r\n  if (!util.isFunction(cb))\r\n    cb = function() {};\r\n\r\n  if (state.ended)\r\n    writeAfterEnd(this, state, cb);\r\n  else if (validChunk(this, state, chunk, cb)) {\r\n    state.pendingcb++;\r\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\r\n  }\r\n\r\n  return ret;\r\n};\r\n\r\nWritable.prototype.cork = function() {\r\n  var state = this._writableState;\r\n\r\n  state.corked++;\r\n};\r\n\r\nWritable.prototype.uncork = function() {\r\n  var state = this._writableState;\r\n\r\n  if (state.corked) {\r\n    state.corked--;\r\n\r\n    if (!state.writing &&\r\n        !state.corked &&\r\n        !state.finished &&\r\n        !state.bufferProcessing &&\r\n        state.buffer.length)\r\n      clearBuffer(this, state);\r\n  }\r\n};\r\n\r\nfunction decodeChunk(state, chunk, encoding) {\r\n  if (!state.objectMode &&\r\n      state.decodeStrings !== false &&\r\n      util.isString(chunk)) {\r\n    chunk = new Buffer(chunk, encoding);\r\n  }\r\n  return chunk;\r\n}\r\n\r\n// if we're already writing something, then just put this\r\n// in the queue, and wait our turn.  Otherwise, call _write\r\n// If we return false, then we need a drain event, so set that flag.\r\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\r\n  chunk = decodeChunk(state, chunk, encoding);\r\n  if (util.isBuffer(chunk))\r\n    encoding = 'buffer';\r\n  var len = state.objectMode ? 1 : chunk.length;\r\n\r\n  state.length += len;\r\n\r\n  var ret = state.length < state.highWaterMark;\r\n  // we must ensure that previous needDrain will not be reset to false.\r\n  if (!ret)\r\n    state.needDrain = true;\r\n\r\n  if (state.writing || state.corked)\r\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\r\n  else\r\n    doWrite(stream, state, false, len, chunk, encoding, cb);\r\n\r\n  return ret;\r\n}\r\n\r\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\r\n  state.writelen = len;\r\n  state.writecb = cb;\r\n  state.writing = true;\r\n  state.sync = true;\r\n  if (writev)\r\n    stream._writev(chunk, state.onwrite);\r\n  else\r\n    stream._write(chunk, encoding, state.onwrite);\r\n  state.sync = false;\r\n}\r\n\r\nfunction onwriteError(stream, state, sync, er, cb) {\r\n  if (sync)\r\n    process.nextTick(function() {\r\n      state.pendingcb--;\r\n      cb(er);\r\n    });\r\n  else {\r\n    state.pendingcb--;\r\n    cb(er);\r\n  }\r\n\r\n  stream._writableState.errorEmitted = true;\r\n  stream.emit('error', er);\r\n}\r\n\r\nfunction onwriteStateUpdate(state) {\r\n  state.writing = false;\r\n  state.writecb = null;\r\n  state.length -= state.writelen;\r\n  state.writelen = 0;\r\n}\r\n\r\nfunction onwrite(stream, er) {\r\n  var state = stream._writableState;\r\n  var sync = state.sync;\r\n  var cb = state.writecb;\r\n\r\n  onwriteStateUpdate(state);\r\n\r\n  if (er)\r\n    onwriteError(stream, state, sync, er, cb);\r\n  else {\r\n    // Check if we're actually ready to finish, but don't emit yet\r\n    var finished = needFinish(stream, state);\r\n\r\n    if (!finished &&\r\n        !state.corked &&\r\n        !state.bufferProcessing &&\r\n        state.buffer.length) {\r\n      clearBuffer(stream, state);\r\n    }\r\n\r\n    if (sync) {\r\n      process.nextTick(function() {\r\n        afterWrite(stream, state, finished, cb);\r\n      });\r\n    } else {\r\n      afterWrite(stream, state, finished, cb);\r\n    }\r\n  }\r\n}\r\n\r\nfunction afterWrite(stream, state, finished, cb) {\r\n  if (!finished)\r\n    onwriteDrain(stream, state);\r\n  state.pendingcb--;\r\n  cb();\r\n  finishMaybe(stream, state);\r\n}\r\n\r\n// Must force callback to be called on nextTick, so that we don't\r\n// emit 'drain' before the write() consumer gets the 'false' return\r\n// value, and has a chance to attach a 'drain' listener.\r\nfunction onwriteDrain(stream, state) {\r\n  if (state.length === 0 && state.needDrain) {\r\n    state.needDrain = false;\r\n    stream.emit('drain');\r\n  }\r\n}\r\n\r\n\r\n// if there's something in the buffer waiting, then process it\r\nfunction clearBuffer(stream, state) {\r\n  state.bufferProcessing = true;\r\n\r\n  if (stream._writev && state.buffer.length > 1) {\r\n    // Fast case, write everything using _writev()\r\n    var cbs = [];\r\n    for (var c = 0; c < state.buffer.length; c++)\r\n      cbs.push(state.buffer[c].callback);\r\n\r\n    // count the one we are adding, as well.\r\n    // TODO(isaacs) clean this up\r\n    state.pendingcb++;\r\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\r\n      for (var i = 0; i < cbs.length; i++) {\r\n        state.pendingcb--;\r\n        cbs[i](err);\r\n      }\r\n    });\r\n\r\n    // Clear buffer\r\n    state.buffer = [];\r\n  } else {\r\n    // Slow case, write chunks one-by-one\r\n    for (var c = 0; c < state.buffer.length; c++) {\r\n      var entry = state.buffer[c];\r\n      var chunk = entry.chunk;\r\n      var encoding = entry.encoding;\r\n      var cb = entry.callback;\r\n      var len = state.objectMode ? 1 : chunk.length;\r\n\r\n      doWrite(stream, state, false, len, chunk, encoding, cb);\r\n\r\n      // if we didn't call the onwrite immediately, then\r\n      // it means that we need to wait until it does.\r\n      // also, that means that the chunk and cb are currently\r\n      // being processed, so move the buffer counter past them.\r\n      if (state.writing) {\r\n        c++;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (c < state.buffer.length)\r\n      state.buffer = state.buffer.slice(c);\r\n    else\r\n      state.buffer.length = 0;\r\n  }\r\n\r\n  state.bufferProcessing = false;\r\n}\r\n\r\nWritable.prototype._write = function(chunk, encoding, cb) {\r\n  cb(new Error('not implemented'));\r\n\r\n};\r\n\r\nWritable.prototype._writev = null;\r\n\r\nWritable.prototype.end = function(chunk, encoding, cb) {\r\n  var state = this._writableState;\r\n\r\n  if (util.isFunction(chunk)) {\r\n    cb = chunk;\r\n    chunk = null;\r\n    encoding = null;\r\n  } else if (util.isFunction(encoding)) {\r\n    cb = encoding;\r\n    encoding = null;\r\n  }\r\n\r\n  if (!util.isNullOrUndefined(chunk))\r\n    this.write(chunk, encoding);\r\n\r\n  // .end() fully uncorks\r\n  if (state.corked) {\r\n    state.corked = 1;\r\n    this.uncork();\r\n  }\r\n\r\n  // ignore unnecessary end() calls.\r\n  if (!state.ending && !state.finished)\r\n    endWritable(this, state, cb);\r\n};\r\n\r\n\r\nfunction needFinish(stream, state) {\r\n  return (state.ending &&\r\n          state.length === 0 &&\r\n          !state.finished &&\r\n          !state.writing);\r\n}\r\n\r\nfunction prefinish(stream, state) {\r\n  if (!state.prefinished) {\r\n    state.prefinished = true;\r\n    stream.emit('prefinish');\r\n  }\r\n}\r\n\r\nfunction finishMaybe(stream, state) {\r\n  var need = needFinish(stream, state);\r\n  if (need) {\r\n    if (state.pendingcb === 0) {\r\n      prefinish(stream, state);\r\n      state.finished = true;\r\n      stream.emit('finish');\r\n    } else\r\n      prefinish(stream, state);\r\n  }\r\n  return need;\r\n}\r\n\r\nfunction endWritable(stream, state, cb) {\r\n  state.ending = true;\r\n  finishMaybe(stream, state);\r\n  if (cb) {\r\n    if (state.finished)\r\n      process.nextTick(cb);\r\n    else\r\n      stream.once('finish', cb);\r\n  }\r\n  state.ended = true;\r\n}\r\n\r\n}).call(this,require('_process'))\r\n},{\"./_stream_duplex\":53,\"_process\":51,\"buffer\":43,\"core-util-is\":58,\"inherits\":48,\"stream\":63}],58:[function(require,module,exports){\r\n(function (Buffer){\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n// NOTE: These type checking functions intentionally don't use `instanceof`\r\n// because it is fragile and can be easily faked with `Object.create()`.\r\nfunction isArray(ar) {\r\n  return Array.isArray(ar);\r\n}\r\nexports.isArray = isArray;\r\n\r\nfunction isBoolean(arg) {\r\n  return typeof arg === 'boolean';\r\n}\r\nexports.isBoolean = isBoolean;\r\n\r\nfunction isNull(arg) {\r\n  return arg === null;\r\n}\r\nexports.isNull = isNull;\r\n\r\nfunction isNullOrUndefined(arg) {\r\n  return arg == null;\r\n}\r\nexports.isNullOrUndefined = isNullOrUndefined;\r\n\r\nfunction isNumber(arg) {\r\n  return typeof arg === 'number';\r\n}\r\nexports.isNumber = isNumber;\r\n\r\nfunction isString(arg) {\r\n  return typeof arg === 'string';\r\n}\r\nexports.isString = isString;\r\n\r\nfunction isSymbol(arg) {\r\n  return typeof arg === 'symbol';\r\n}\r\nexports.isSymbol = isSymbol;\r\n\r\nfunction isUndefined(arg) {\r\n  return arg === void 0;\r\n}\r\nexports.isUndefined = isUndefined;\r\n\r\nfunction isRegExp(re) {\r\n  return isObject(re) && objectToString(re) === '[object RegExp]';\r\n}\r\nexports.isRegExp = isRegExp;\r\n\r\nfunction isObject(arg) {\r\n  return typeof arg === 'object' && arg !== null;\r\n}\r\nexports.isObject = isObject;\r\n\r\nfunction isDate(d) {\r\n  return isObject(d) && objectToString(d) === '[object Date]';\r\n}\r\nexports.isDate = isDate;\r\n\r\nfunction isError(e) {\r\n  return isObject(e) &&\r\n      (objectToString(e) === '[object Error]' || e instanceof Error);\r\n}\r\nexports.isError = isError;\r\n\r\nfunction isFunction(arg) {\r\n  return typeof arg === 'function';\r\n}\r\nexports.isFunction = isFunction;\r\n\r\nfunction isPrimitive(arg) {\r\n  return arg === null ||\r\n         typeof arg === 'boolean' ||\r\n         typeof arg === 'number' ||\r\n         typeof arg === 'string' ||\r\n         typeof arg === 'symbol' ||  // ES6 symbol\r\n         typeof arg === 'undefined';\r\n}\r\nexports.isPrimitive = isPrimitive;\r\n\r\nfunction isBuffer(arg) {\r\n  return Buffer.isBuffer(arg);\r\n}\r\nexports.isBuffer = isBuffer;\r\n\r\nfunction objectToString(o) {\r\n  return Object.prototype.toString.call(o);\r\n}\r\n}).call(this,require(\"buffer\").Buffer)\r\n},{\"buffer\":43}],59:[function(require,module,exports){\r\nmodule.exports = require(\"./lib/_stream_passthrough.js\")\r\n\r\n},{\"./lib/_stream_passthrough.js\":54}],60:[function(require,module,exports){\r\nexports = module.exports = require('./lib/_stream_readable.js');\r\nexports.Stream = require('stream');\r\nexports.Readable = exports;\r\nexports.Writable = require('./lib/_stream_writable.js');\r\nexports.Duplex = require('./lib/_stream_duplex.js');\r\nexports.Transform = require('./lib/_stream_transform.js');\r\nexports.PassThrough = require('./lib/_stream_passthrough.js');\r\n\r\n},{\"./lib/_stream_duplex.js\":53,\"./lib/_stream_passthrough.js\":54,\"./lib/_stream_readable.js\":55,\"./lib/_stream_transform.js\":56,\"./lib/_stream_writable.js\":57,\"stream\":63}],61:[function(require,module,exports){\r\nmodule.exports = require(\"./lib/_stream_transform.js\")\r\n\r\n},{\"./lib/_stream_transform.js\":56}],62:[function(require,module,exports){\r\nmodule.exports = require(\"./lib/_stream_writable.js\")\r\n\r\n},{\"./lib/_stream_writable.js\":57}],63:[function(require,module,exports){\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\nmodule.exports = Stream;\r\n\r\nvar EE = require('events').EventEmitter;\r\nvar inherits = require('inherits');\r\n\r\ninherits(Stream, EE);\r\nStream.Readable = require('readable-stream/readable.js');\r\nStream.Writable = require('readable-stream/writable.js');\r\nStream.Duplex = require('readable-stream/duplex.js');\r\nStream.Transform = require('readable-stream/transform.js');\r\nStream.PassThrough = require('readable-stream/passthrough.js');\r\n\r\n// Backwards-compat with node 0.4.x\r\nStream.Stream = Stream;\r\n\r\n\r\n\r\n// old-style streams.  Note that the pipe method (the only relevant\r\n// part of this class) is overridden in the Readable class.\r\n\r\nfunction Stream() {\r\n  EE.call(this);\r\n}\r\n\r\nStream.prototype.pipe = function(dest, options) {\r\n  var source = this;\r\n\r\n  function ondata(chunk) {\r\n    if (dest.writable) {\r\n      if (false === dest.write(chunk) && source.pause) {\r\n        source.pause();\r\n      }\r\n    }\r\n  }\r\n\r\n  source.on('data', ondata);\r\n\r\n  function ondrain() {\r\n    if (source.readable && source.resume) {\r\n      source.resume();\r\n    }\r\n  }\r\n\r\n  dest.on('drain', ondrain);\r\n\r\n  // If the 'end' option is not supplied, dest.end() will be called when\r\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\r\n  if (!dest._isStdio && (!options || options.end !== false)) {\r\n    source.on('end', onend);\r\n    source.on('close', onclose);\r\n  }\r\n\r\n  var didOnEnd = false;\r\n  function onend() {\r\n    if (didOnEnd) return;\r\n    didOnEnd = true;\r\n\r\n    dest.end();\r\n  }\r\n\r\n\r\n  function onclose() {\r\n    if (didOnEnd) return;\r\n    didOnEnd = true;\r\n\r\n    if (typeof dest.destroy === 'function') dest.destroy();\r\n  }\r\n\r\n  // don't leave dangling pipes when there are errors.\r\n  function onerror(er) {\r\n    cleanup();\r\n    if (EE.listenerCount(this, 'error') === 0) {\r\n      throw er; // Unhandled stream error in pipe.\r\n    }\r\n  }\r\n\r\n  source.on('error', onerror);\r\n  dest.on('error', onerror);\r\n\r\n  // remove all the event listeners that were added.\r\n  function cleanup() {\r\n    source.removeListener('data', ondata);\r\n    dest.removeListener('drain', ondrain);\r\n\r\n    source.removeListener('end', onend);\r\n    source.removeListener('close', onclose);\r\n\r\n    source.removeListener('error', onerror);\r\n    dest.removeListener('error', onerror);\r\n\r\n    source.removeListener('end', cleanup);\r\n    source.removeListener('close', cleanup);\r\n\r\n    dest.removeListener('close', cleanup);\r\n  }\r\n\r\n  source.on('end', cleanup);\r\n  source.on('close', cleanup);\r\n\r\n  dest.on('close', cleanup);\r\n\r\n  dest.emit('pipe', source);\r\n\r\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\r\n  return dest;\r\n};\r\n\r\n},{\"events\":47,\"inherits\":48,\"readable-stream/duplex.js\":52,\"readable-stream/passthrough.js\":59,\"readable-stream/readable.js\":60,\"readable-stream/transform.js\":61,\"readable-stream/writable.js\":62}],64:[function(require,module,exports){\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\nvar Buffer = require('buffer').Buffer;\r\n\r\nvar isBufferEncoding = Buffer.isEncoding\r\n  || function(encoding) {\r\n       switch (encoding && encoding.toLowerCase()) {\r\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\r\n         default: return false;\r\n       }\r\n     }\r\n\r\n\r\nfunction assertEncoding(encoding) {\r\n  if (encoding && !isBufferEncoding(encoding)) {\r\n    throw new Error('Unknown encoding: ' + encoding);\r\n  }\r\n}\r\n\r\n// StringDecoder provides an interface for efficiently splitting a series of\r\n// buffers into a series of JS strings without breaking apart multi-byte\r\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\r\n//\r\n// @TODO Handling all encodings inside a single object makes it very difficult\r\n// to reason about this code, so it should be split up in the future.\r\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\r\n// points as used by CESU-8.\r\nvar StringDecoder = exports.StringDecoder = function(encoding) {\r\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\r\n  assertEncoding(encoding);\r\n  switch (this.encoding) {\r\n    case 'utf8':\r\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\r\n      this.surrogateSize = 3;\r\n      break;\r\n    case 'ucs2':\r\n    case 'utf16le':\r\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\r\n      this.surrogateSize = 2;\r\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\r\n      break;\r\n    case 'base64':\r\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\r\n      this.surrogateSize = 3;\r\n      this.detectIncompleteChar = base64DetectIncompleteChar;\r\n      break;\r\n    default:\r\n      this.write = passThroughWrite;\r\n      return;\r\n  }\r\n\r\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\r\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\r\n  this.charBuffer = new Buffer(6);\r\n  // Number of bytes received for the current incomplete multi-byte character.\r\n  this.charReceived = 0;\r\n  // Number of bytes expected for the current incomplete multi-byte character.\r\n  this.charLength = 0;\r\n};\r\n\r\n\r\n// write decodes the given buffer and returns it as JS string that is\r\n// guaranteed to not contain any partial multi-byte characters. Any partial\r\n// character found at the end of the buffer is buffered up, and will be\r\n// returned when calling write again with the remaining bytes.\r\n//\r\n// Note: Converting a Buffer containing an orphan surrogate to a String\r\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\r\n// Buffer#write) will replace incomplete surrogates with the unicode\r\n// replacement character. See https://codereview.chromium.org/121173009/ .\r\nStringDecoder.prototype.write = function(buffer) {\r\n  var charStr = '';\r\n  // if our last write ended with an incomplete multibyte character\r\n  while (this.charLength) {\r\n    // determine how many remaining bytes this buffer has to offer for this char\r\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\r\n        this.charLength - this.charReceived :\r\n        buffer.length;\r\n\r\n    // add the new bytes to the char buffer\r\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\r\n    this.charReceived += available;\r\n\r\n    if (this.charReceived < this.charLength) {\r\n      // still not enough chars in this buffer? wait for more ...\r\n      return '';\r\n    }\r\n\r\n    // remove bytes belonging to the current character from the buffer\r\n    buffer = buffer.slice(available, buffer.length);\r\n\r\n    // get the character that was split\r\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\r\n\r\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\r\n    var charCode = charStr.charCodeAt(charStr.length - 1);\r\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n      this.charLength += this.surrogateSize;\r\n      charStr = '';\r\n      continue;\r\n    }\r\n    this.charReceived = this.charLength = 0;\r\n\r\n    // if there are no more bytes in this buffer, just emit our char\r\n    if (buffer.length === 0) {\r\n      return charStr;\r\n    }\r\n    break;\r\n  }\r\n\r\n  // determine and set charLength / charReceived\r\n  this.detectIncompleteChar(buffer);\r\n\r\n  var end = buffer.length;\r\n  if (this.charLength) {\r\n    // buffer the incomplete character bytes we got\r\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\r\n    end -= this.charReceived;\r\n  }\r\n\r\n  charStr += buffer.toString(this.encoding, 0, end);\r\n\r\n  var end = charStr.length - 1;\r\n  var charCode = charStr.charCodeAt(end);\r\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\r\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n    var size = this.surrogateSize;\r\n    this.charLength += size;\r\n    this.charReceived += size;\r\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\r\n    buffer.copy(this.charBuffer, 0, 0, size);\r\n    return charStr.substring(0, end);\r\n  }\r\n\r\n  // or just emit the charStr\r\n  return charStr;\r\n};\r\n\r\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\r\n// the end of the given buffer. If so, it sets this.charLength to the byte\r\n// length that character, and sets this.charReceived to the number of bytes\r\n// that are available for this character.\r\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\r\n  // determine how many bytes we have to check at the end of this buffer\r\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\r\n\r\n  // Figure out if one of the last i bytes of our buffer announces an\r\n  // incomplete char.\r\n  for (; i > 0; i--) {\r\n    var c = buffer[buffer.length - i];\r\n\r\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\r\n\r\n    // 110XXXXX\r\n    if (i == 1 && c >> 5 == 0x06) {\r\n      this.charLength = 2;\r\n      break;\r\n    }\r\n\r\n    // 1110XXXX\r\n    if (i <= 2 && c >> 4 == 0x0E) {\r\n      this.charLength = 3;\r\n      break;\r\n    }\r\n\r\n    // 11110XXX\r\n    if (i <= 3 && c >> 3 == 0x1E) {\r\n      this.charLength = 4;\r\n      break;\r\n    }\r\n  }\r\n  this.charReceived = i;\r\n};\r\n\r\nStringDecoder.prototype.end = function(buffer) {\r\n  var res = '';\r\n  if (buffer && buffer.length)\r\n    res = this.write(buffer);\r\n\r\n  if (this.charReceived) {\r\n    var cr = this.charReceived;\r\n    var buf = this.charBuffer;\r\n    var enc = this.encoding;\r\n    res += buf.slice(0, cr).toString(enc);\r\n  }\r\n\r\n  return res;\r\n};\r\n\r\nfunction passThroughWrite(buffer) {\r\n  return buffer.toString(this.encoding);\r\n}\r\n\r\nfunction utf16DetectIncompleteChar(buffer) {\r\n  this.charReceived = buffer.length % 2;\r\n  this.charLength = this.charReceived ? 2 : 0;\r\n}\r\n\r\nfunction base64DetectIncompleteChar(buffer) {\r\n  this.charReceived = buffer.length % 3;\r\n  this.charLength = this.charReceived ? 3 : 0;\r\n}\r\n\r\n},{\"buffer\":43}],65:[function(require,module,exports){\r\nmodule.exports = function isBuffer(arg) {\r\n  return arg && typeof arg === 'object'\r\n    && typeof arg.copy === 'function'\r\n    && typeof arg.fill === 'function'\r\n    && typeof arg.readUInt8 === 'function';\r\n}\r\n},{}],66:[function(require,module,exports){\r\n(function (process,global){\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\nvar formatRegExp = /%[sdj%]/g;\r\nexports.format = function(f) {\r\n  if (!isString(f)) {\r\n    var objects = [];\r\n    for (var i = 0; i < arguments.length; i++) {\r\n      objects.push(inspect(arguments[i]));\r\n    }\r\n    return objects.join(' ');\r\n  }\r\n\r\n  var i = 1;\r\n  var args = arguments;\r\n  var len = args.length;\r\n  var str = String(f).replace(formatRegExp, function(x) {\r\n    if (x === '%%') return '%';\r\n    if (i >= len) return x;\r\n    switch (x) {\r\n      case '%s': return String(args[i++]);\r\n      case '%d': return Number(args[i++]);\r\n      case '%j':\r\n        try {\r\n          return JSON.stringify(args[i++]);\r\n        } catch (_) {\r\n          return '[Circular]';\r\n        }\r\n      default:\r\n        return x;\r\n    }\r\n  });\r\n  for (var x = args[i]; i < len; x = args[++i]) {\r\n    if (isNull(x) || !isObject(x)) {\r\n      str += ' ' + x;\r\n    } else {\r\n      str += ' ' + inspect(x);\r\n    }\r\n  }\r\n  return str;\r\n};\r\n\r\n\r\n// Mark that a method should not be used.\r\n// Returns a modified function which warns once by default.\r\n// If --no-deprecation is set, then it is a no-op.\r\nexports.deprecate = function(fn, msg) {\r\n  // Allow for deprecating things in the process of starting up.\r\n  if (isUndefined(global.process)) {\r\n    return function() {\r\n      return exports.deprecate(fn, msg).apply(this, arguments);\r\n    };\r\n  }\r\n\r\n  if (process.noDeprecation === true) {\r\n    return fn;\r\n  }\r\n\r\n  var warned = false;\r\n  function deprecated() {\r\n    if (!warned) {\r\n      if (process.throwDeprecation) {\r\n        throw new Error(msg);\r\n      } else if (process.traceDeprecation) {\r\n        console.trace(msg);\r\n      } else {\r\n        console.error(msg);\r\n      }\r\n      warned = true;\r\n    }\r\n    return fn.apply(this, arguments);\r\n  }\r\n\r\n  return deprecated;\r\n};\r\n\r\n\r\nvar debugs = {};\r\nvar debugEnviron;\r\nexports.debuglog = function(set) {\r\n  if (isUndefined(debugEnviron))\r\n    debugEnviron = process.env.NODE_DEBUG || '';\r\n  set = set.toUpperCase();\r\n  if (!debugs[set]) {\r\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\r\n      var pid = process.pid;\r\n      debugs[set] = function() {\r\n        var msg = exports.format.apply(exports, arguments);\r\n        console.error('%s %d: %s', set, pid, msg);\r\n      };\r\n    } else {\r\n      debugs[set] = function() {};\r\n    }\r\n  }\r\n  return debugs[set];\r\n};\r\n\r\n\r\n/**\r\n * Echos the value of a value. Trys to print the value out\r\n * in the best way possible given the different types.\r\n *\r\n * @param {Object} obj The object to print out.\r\n * @param {Object} opts Optional options object that alters the output.\r\n */\r\n/* legacy: obj, showHidden, depth, colors*/\r\nfunction inspect(obj, opts) {\r\n  // default options\r\n  var ctx = {\r\n    seen: [],\r\n    stylize: stylizeNoColor\r\n  };\r\n  // legacy...\r\n  if (arguments.length >= 3) ctx.depth = arguments[2];\r\n  if (arguments.length >= 4) ctx.colors = arguments[3];\r\n  if (isBoolean(opts)) {\r\n    // legacy...\r\n    ctx.showHidden = opts;\r\n  } else if (opts) {\r\n    // got an \"options\" object\r\n    exports._extend(ctx, opts);\r\n  }\r\n  // set default options\r\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\r\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\r\n  if (isUndefined(ctx.colors)) ctx.colors = false;\r\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\r\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\r\n  return formatValue(ctx, obj, ctx.depth);\r\n}\r\nexports.inspect = inspect;\r\n\r\n\r\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\r\ninspect.colors = {\r\n  'bold' : [1, 22],\r\n  'italic' : [3, 23],\r\n  'underline' : [4, 24],\r\n  'inverse' : [7, 27],\r\n  'white' : [37, 39],\r\n  'grey' : [90, 39],\r\n  'black' : [30, 39],\r\n  'blue' : [34, 39],\r\n  'cyan' : [36, 39],\r\n  'green' : [32, 39],\r\n  'magenta' : [35, 39],\r\n  'red' : [31, 39],\r\n  'yellow' : [33, 39]\r\n};\r\n\r\n// Don't use 'blue' not visible on cmd.exe\r\ninspect.styles = {\r\n  'special': 'cyan',\r\n  'number': 'yellow',\r\n  'boolean': 'yellow',\r\n  'undefined': 'grey',\r\n  'null': 'bold',\r\n  'string': 'green',\r\n  'date': 'magenta',\r\n  // \"name\": intentionally not styling\r\n  'regexp': 'red'\r\n};\r\n\r\n\r\nfunction stylizeWithColor(str, styleType) {\r\n  var style = inspect.styles[styleType];\r\n\r\n  if (style) {\r\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\r\n           '\\u001b[' + inspect.colors[style][1] + 'm';\r\n  } else {\r\n    return str;\r\n  }\r\n}\r\n\r\n\r\nfunction stylizeNoColor(str, styleType) {\r\n  return str;\r\n}\r\n\r\n\r\nfunction arrayToHash(array) {\r\n  var hash = {};\r\n\r\n  array.forEach(function(val, idx) {\r\n    hash[val] = true;\r\n  });\r\n\r\n  return hash;\r\n}\r\n\r\n\r\nfunction formatValue(ctx, value, recurseTimes) {\r\n  // Provide a hook for user-specified inspect functions.\r\n  // Check that value is an object with an inspect function on it\r\n  if (ctx.customInspect &&\r\n      value &&\r\n      isFunction(value.inspect) &&\r\n      // Filter out the util module, it's inspect function is special\r\n      value.inspect !== exports.inspect &&\r\n      // Also filter out any prototype objects using the circular check.\r\n      !(value.constructor && value.constructor.prototype === value)) {\r\n    var ret = value.inspect(recurseTimes, ctx);\r\n    if (!isString(ret)) {\r\n      ret = formatValue(ctx, ret, recurseTimes);\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  // Primitive types cannot have properties\r\n  var primitive = formatPrimitive(ctx, value);\r\n  if (primitive) {\r\n    return primitive;\r\n  }\r\n\r\n  // Look up the keys of the object.\r\n  var keys = Object.keys(value);\r\n  var visibleKeys = arrayToHash(keys);\r\n\r\n  if (ctx.showHidden) {\r\n    keys = Object.getOwnPropertyNames(value);\r\n  }\r\n\r\n  // IE doesn't make error fields non-enumerable\r\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\r\n  if (isError(value)\r\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\r\n    return formatError(value);\r\n  }\r\n\r\n  // Some type of object without properties can be shortcutted.\r\n  if (keys.length === 0) {\r\n    if (isFunction(value)) {\r\n      var name = value.name ? ': ' + value.name : '';\r\n      return ctx.stylize('[Function' + name + ']', 'special');\r\n    }\r\n    if (isRegExp(value)) {\r\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\r\n    }\r\n    if (isDate(value)) {\r\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\r\n    }\r\n    if (isError(value)) {\r\n      return formatError(value);\r\n    }\r\n  }\r\n\r\n  var base = '', array = false, braces = ['{', '}'];\r\n\r\n  // Make Array say that they are Array\r\n  if (isArray(value)) {\r\n    array = true;\r\n    braces = ['[', ']'];\r\n  }\r\n\r\n  // Make functions say that they are functions\r\n  if (isFunction(value)) {\r\n    var n = value.name ? ': ' + value.name : '';\r\n    base = ' [Function' + n + ']';\r\n  }\r\n\r\n  // Make RegExps say that they are RegExps\r\n  if (isRegExp(value)) {\r\n    base = ' ' + RegExp.prototype.toString.call(value);\r\n  }\r\n\r\n  // Make dates with properties first say the date\r\n  if (isDate(value)) {\r\n    base = ' ' + Date.prototype.toUTCString.call(value);\r\n  }\r\n\r\n  // Make error with message first say the error\r\n  if (isError(value)) {\r\n    base = ' ' + formatError(value);\r\n  }\r\n\r\n  if (keys.length === 0 && (!array || value.length == 0)) {\r\n    return braces[0] + base + braces[1];\r\n  }\r\n\r\n  if (recurseTimes < 0) {\r\n    if (isRegExp(value)) {\r\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\r\n    } else {\r\n      return ctx.stylize('[Object]', 'special');\r\n    }\r\n  }\r\n\r\n  ctx.seen.push(value);\r\n\r\n  var output;\r\n  if (array) {\r\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\r\n  } else {\r\n    output = keys.map(function(key) {\r\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\r\n    });\r\n  }\r\n\r\n  ctx.seen.pop();\r\n\r\n  return reduceToSingleString(output, base, braces);\r\n}\r\n\r\n\r\nfunction formatPrimitive(ctx, value) {\r\n  if (isUndefined(value))\r\n    return ctx.stylize('undefined', 'undefined');\r\n  if (isString(value)) {\r\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\r\n                                             .replace(/'/g, \"\\\\'\")\r\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\r\n    return ctx.stylize(simple, 'string');\r\n  }\r\n  if (isNumber(value))\r\n    return ctx.stylize('' + value, 'number');\r\n  if (isBoolean(value))\r\n    return ctx.stylize('' + value, 'boolean');\r\n  // For some reason typeof null is \"object\", so special case here.\r\n  if (isNull(value))\r\n    return ctx.stylize('null', 'null');\r\n}\r\n\r\n\r\nfunction formatError(value) {\r\n  return '[' + Error.prototype.toString.call(value) + ']';\r\n}\r\n\r\n\r\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\r\n  var output = [];\r\n  for (var i = 0, l = value.length; i < l; ++i) {\r\n    if (hasOwnProperty(value, String(i))) {\r\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\r\n          String(i), true));\r\n    } else {\r\n      output.push('');\r\n    }\r\n  }\r\n  keys.forEach(function(key) {\r\n    if (!key.match(/^\\d+$/)) {\r\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\r\n          key, true));\r\n    }\r\n  });\r\n  return output;\r\n}\r\n\r\n\r\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\r\n  var name, str, desc;\r\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\r\n  if (desc.get) {\r\n    if (desc.set) {\r\n      str = ctx.stylize('[Getter/Setter]', 'special');\r\n    } else {\r\n      str = ctx.stylize('[Getter]', 'special');\r\n    }\r\n  } else {\r\n    if (desc.set) {\r\n      str = ctx.stylize('[Setter]', 'special');\r\n    }\r\n  }\r\n  if (!hasOwnProperty(visibleKeys, key)) {\r\n    name = '[' + key + ']';\r\n  }\r\n  if (!str) {\r\n    if (ctx.seen.indexOf(desc.value) < 0) {\r\n      if (isNull(recurseTimes)) {\r\n        str = formatValue(ctx, desc.value, null);\r\n      } else {\r\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\r\n      }\r\n      if (str.indexOf('\\n') > -1) {\r\n        if (array) {\r\n          str = str.split('\\n').map(function(line) {\r\n            return '  ' + line;\r\n          }).join('\\n').substr(2);\r\n        } else {\r\n          str = '\\n' + str.split('\\n').map(function(line) {\r\n            return '   ' + line;\r\n          }).join('\\n');\r\n        }\r\n      }\r\n    } else {\r\n      str = ctx.stylize('[Circular]', 'special');\r\n    }\r\n  }\r\n  if (isUndefined(name)) {\r\n    if (array && key.match(/^\\d+$/)) {\r\n      return str;\r\n    }\r\n    name = JSON.stringify('' + key);\r\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\r\n      name = name.substr(1, name.length - 2);\r\n      name = ctx.stylize(name, 'name');\r\n    } else {\r\n      name = name.replace(/'/g, \"\\\\'\")\r\n                 .replace(/\\\\\"/g, '\"')\r\n                 .replace(/(^\"|\"$)/g, \"'\");\r\n      name = ctx.stylize(name, 'string');\r\n    }\r\n  }\r\n\r\n  return name + ': ' + str;\r\n}\r\n\r\n\r\nfunction reduceToSingleString(output, base, braces) {\r\n  var numLinesEst = 0;\r\n  var length = output.reduce(function(prev, cur) {\r\n    numLinesEst++;\r\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\r\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\r\n  }, 0);\r\n\r\n  if (length > 60) {\r\n    return braces[0] +\r\n           (base === '' ? '' : base + '\\n ') +\r\n           ' ' +\r\n           output.join(',\\n  ') +\r\n           ' ' +\r\n           braces[1];\r\n  }\r\n\r\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\r\n}\r\n\r\n\r\n// NOTE: These type checking functions intentionally don't use `instanceof`\r\n// because it is fragile and can be easily faked with `Object.create()`.\r\nfunction isArray(ar) {\r\n  return Array.isArray(ar);\r\n}\r\nexports.isArray = isArray;\r\n\r\nfunction isBoolean(arg) {\r\n  return typeof arg === 'boolean';\r\n}\r\nexports.isBoolean = isBoolean;\r\n\r\nfunction isNull(arg) {\r\n  return arg === null;\r\n}\r\nexports.isNull = isNull;\r\n\r\nfunction isNullOrUndefined(arg) {\r\n  return arg == null;\r\n}\r\nexports.isNullOrUndefined = isNullOrUndefined;\r\n\r\nfunction isNumber(arg) {\r\n  return typeof arg === 'number';\r\n}\r\nexports.isNumber = isNumber;\r\n\r\nfunction isString(arg) {\r\n  return typeof arg === 'string';\r\n}\r\nexports.isString = isString;\r\n\r\nfunction isSymbol(arg) {\r\n  return typeof arg === 'symbol';\r\n}\r\nexports.isSymbol = isSymbol;\r\n\r\nfunction isUndefined(arg) {\r\n  return arg === void 0;\r\n}\r\nexports.isUndefined = isUndefined;\r\n\r\nfunction isRegExp(re) {\r\n  return isObject(re) && objectToString(re) === '[object RegExp]';\r\n}\r\nexports.isRegExp = isRegExp;\r\n\r\nfunction isObject(arg) {\r\n  return typeof arg === 'object' && arg !== null;\r\n}\r\nexports.isObject = isObject;\r\n\r\nfunction isDate(d) {\r\n  return isObject(d) && objectToString(d) === '[object Date]';\r\n}\r\nexports.isDate = isDate;\r\n\r\nfunction isError(e) {\r\n  return isObject(e) &&\r\n      (objectToString(e) === '[object Error]' || e instanceof Error);\r\n}\r\nexports.isError = isError;\r\n\r\nfunction isFunction(arg) {\r\n  return typeof arg === 'function';\r\n}\r\nexports.isFunction = isFunction;\r\n\r\nfunction isPrimitive(arg) {\r\n  return arg === null ||\r\n         typeof arg === 'boolean' ||\r\n         typeof arg === 'number' ||\r\n         typeof arg === 'string' ||\r\n         typeof arg === 'symbol' ||  // ES6 symbol\r\n         typeof arg === 'undefined';\r\n}\r\nexports.isPrimitive = isPrimitive;\r\n\r\nexports.isBuffer = require('./support/isBuffer');\r\n\r\nfunction objectToString(o) {\r\n  return Object.prototype.toString.call(o);\r\n}\r\n\r\n\r\nfunction pad(n) {\r\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\r\n}\r\n\r\n\r\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\r\n              'Oct', 'Nov', 'Dec'];\r\n\r\n// 26 Feb 16:19:34\r\nfunction timestamp() {\r\n  var d = new Date();\r\n  var time = [pad(d.getHours()),\r\n              pad(d.getMinutes()),\r\n              pad(d.getSeconds())].join(':');\r\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\r\n}\r\n\r\n\r\n// log is just a thin wrapper to console.log that prepends a timestamp\r\nexports.log = function() {\r\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\r\n};\r\n\r\n\r\n/**\r\n * Inherit the prototype methods from one constructor into another.\r\n *\r\n * The Function.prototype.inherits from lang.js rewritten as a standalone\r\n * function (not on Function.prototype). NOTE: If this file is to be loaded\r\n * during bootstrapping this function needs to be rewritten using some native\r\n * functions as prototype setup using normal JavaScript does not work as\r\n * expected during bootstrapping (see mirror.js in r114903).\r\n *\r\n * @param {function} ctor Constructor function which needs to inherit the\r\n *     prototype.\r\n * @param {function} superCtor Constructor function to inherit prototype from.\r\n */\r\nexports.inherits = require('inherits');\r\n\r\nexports._extend = function(origin, add) {\r\n  // Don't do anything if add isn't an object\r\n  if (!add || !isObject(add)) return origin;\r\n\r\n  var keys = Object.keys(add);\r\n  var i = keys.length;\r\n  while (i--) {\r\n    origin[keys[i]] = add[keys[i]];\r\n  }\r\n  return origin;\r\n};\r\n\r\nfunction hasOwnProperty(obj, prop) {\r\n  return Object.prototype.hasOwnProperty.call(obj, prop);\r\n}\r\n\r\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./support/isBuffer\":65,\"_process\":51,\"inherits\":48}],67:[function(require,module,exports){\r\n/* See LICENSE file for terms of use */\r\n\r\n/*\r\n * Text diff implementation.\r\n *\r\n * This library supports the following APIS:\r\n * JsDiff.diffChars: Character by character diff\r\n * JsDiff.diffWords: Word (as defined by \\b regex) diff which ignores whitespace\r\n * JsDiff.diffLines: Line based diff\r\n *\r\n * JsDiff.diffCss: Diff targeted at CSS content\r\n *\r\n * These methods are based on the implementation proposed in\r\n * \"An O(ND) Difference Algorithm and its Variations\" (Myers, 1986).\r\n * http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.4.6927\r\n */\r\n(function(global, undefined) {\r\n  var objectPrototypeToString = Object.prototype.toString;\r\n\r\n  /*istanbul ignore next*/\r\n  function map(arr, mapper, that) {\r\n    if (Array.prototype.map) {\r\n      return Array.prototype.map.call(arr, mapper, that);\r\n    }\r\n\r\n    var other = new Array(arr.length);\r\n\r\n    for (var i = 0, n = arr.length; i < n; i++) {\r\n      other[i] = mapper.call(that, arr[i], i, arr);\r\n    }\r\n    return other;\r\n  }\r\n  function clonePath(path) {\r\n    return { newPos: path.newPos, components: path.components.slice(0) };\r\n  }\r\n  function removeEmpty(array) {\r\n    var ret = [];\r\n    for (var i = 0; i < array.length; i++) {\r\n      if (array[i]) {\r\n        ret.push(array[i]);\r\n      }\r\n    }\r\n    return ret;\r\n  }\r\n  function escapeHTML(s) {\r\n    var n = s;\r\n    n = n.replace(/&/g, '&amp;');\r\n    n = n.replace(/</g, '&lt;');\r\n    n = n.replace(/>/g, '&gt;');\r\n    n = n.replace(/\"/g, '&quot;');\r\n\r\n    return n;\r\n  }\r\n\r\n  // This function handles the presence of circular references by bailing out when encountering an\r\n  // object that is already on the \"stack\" of items being processed.\r\n  function canonicalize(obj, stack, replacementStack) {\r\n    stack = stack || [];\r\n    replacementStack = replacementStack || [];\r\n\r\n    var i;\r\n\r\n    for (i = 0; i < stack.length; i += 1) {\r\n      if (stack[i] === obj) {\r\n        return replacementStack[i];\r\n      }\r\n    }\r\n\r\n    var canonicalizedObj;\r\n\r\n    if ('[object Array]' === objectPrototypeToString.call(obj)) {\r\n      stack.push(obj);\r\n      canonicalizedObj = new Array(obj.length);\r\n      replacementStack.push(canonicalizedObj);\r\n      for (i = 0; i < obj.length; i += 1) {\r\n        canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack);\r\n      }\r\n      stack.pop();\r\n      replacementStack.pop();\r\n    } else if (typeof obj === 'object' && obj !== null) {\r\n      stack.push(obj);\r\n      canonicalizedObj = {};\r\n      replacementStack.push(canonicalizedObj);\r\n      var sortedKeys = [],\r\n          key;\r\n      for (key in obj) {\r\n        sortedKeys.push(key);\r\n      }\r\n      sortedKeys.sort();\r\n      for (i = 0; i < sortedKeys.length; i += 1) {\r\n        key = sortedKeys[i];\r\n        canonicalizedObj[key] = canonicalize(obj[key], stack, replacementStack);\r\n      }\r\n      stack.pop();\r\n      replacementStack.pop();\r\n    } else {\r\n      canonicalizedObj = obj;\r\n    }\r\n    return canonicalizedObj;\r\n  }\r\n\r\n  function buildValues(components, newString, oldString, useLongestToken) {\r\n    var componentPos = 0,\r\n        componentLen = components.length,\r\n        newPos = 0,\r\n        oldPos = 0;\r\n\r\n    for (; componentPos < componentLen; componentPos++) {\r\n      var component = components[componentPos];\r\n      if (!component.removed) {\r\n        if (!component.added && useLongestToken) {\r\n          var value = newString.slice(newPos, newPos + component.count);\r\n          value = map(value, function(value, i) {\r\n            var oldValue = oldString[oldPos + i];\r\n            return oldValue.length > value.length ? oldValue : value;\r\n          });\r\n\r\n          component.value = value.join('');\r\n        } else {\r\n          component.value = newString.slice(newPos, newPos + component.count).join('');\r\n        }\r\n        newPos += component.count;\r\n\r\n        // Common case\r\n        if (!component.added) {\r\n          oldPos += component.count;\r\n        }\r\n      } else {\r\n        component.value = oldString.slice(oldPos, oldPos + component.count).join('');\r\n        oldPos += component.count;\r\n\r\n        // Reverse add and remove so removes are output first to match common convention\r\n        // The diffing algorithm is tied to add then remove output and this is the simplest\r\n        // route to get the desired output with minimal overhead.\r\n        if (componentPos && components[componentPos - 1].added) {\r\n          var tmp = components[componentPos - 1];\r\n          components[componentPos - 1] = components[componentPos];\r\n          components[componentPos] = tmp;\r\n        }\r\n      }\r\n    }\r\n\r\n    return components;\r\n  }\r\n\r\n  function Diff(ignoreWhitespace) {\r\n    this.ignoreWhitespace = ignoreWhitespace;\r\n  }\r\n  Diff.prototype = {\r\n    diff: function(oldString, newString, callback) {\r\n      var self = this;\r\n\r\n      function done(value) {\r\n        if (callback) {\r\n          setTimeout(function() { callback(undefined, value); }, 0);\r\n          return true;\r\n        } else {\r\n          return value;\r\n        }\r\n      }\r\n\r\n      // Handle the identity case (this is due to unrolling editLength == 0\r\n      if (newString === oldString) {\r\n        return done([{ value: newString }]);\r\n      }\r\n      if (!newString) {\r\n        return done([{ value: oldString, removed: true }]);\r\n      }\r\n      if (!oldString) {\r\n        return done([{ value: newString, added: true }]);\r\n      }\r\n\r\n      newString = this.tokenize(newString);\r\n      oldString = this.tokenize(oldString);\r\n\r\n      var newLen = newString.length, oldLen = oldString.length;\r\n      var editLength = 1;\r\n      var maxEditLength = newLen + oldLen;\r\n      var bestPath = [{ newPos: -1, components: [] }];\r\n\r\n      // Seed editLength = 0, i.e. the content starts with the same values\r\n      var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\r\n      if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\r\n        // Identity per the equality and tokenizer\r\n        return done([{value: newString.join('')}]);\r\n      }\r\n\r\n      // Main worker method. checks all permutations of a given edit length for acceptance.\r\n      function execEditLength() {\r\n        for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\r\n          var basePath;\r\n          var addPath = bestPath[diagonalPath - 1],\r\n              removePath = bestPath[diagonalPath + 1],\r\n              oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\r\n          if (addPath) {\r\n            // No one else is going to attempt to use this value, clear it\r\n            bestPath[diagonalPath - 1] = undefined;\r\n          }\r\n\r\n          var canAdd = addPath && addPath.newPos + 1 < newLen,\r\n              canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\r\n          if (!canAdd && !canRemove) {\r\n            // If this path is a terminal then prune\r\n            bestPath[diagonalPath] = undefined;\r\n            continue;\r\n          }\r\n\r\n          // Select the diagonal that we want to branch from. We select the prior\r\n          // path whose position in the new string is the farthest from the origin\r\n          // and does not pass the bounds of the diff graph\r\n          if (!canAdd || (canRemove && addPath.newPos < removePath.newPos)) {\r\n            basePath = clonePath(removePath);\r\n            self.pushComponent(basePath.components, undefined, true);\r\n          } else {\r\n            basePath = addPath;   // No need to clone, we've pulled it from the list\r\n            basePath.newPos++;\r\n            self.pushComponent(basePath.components, true, undefined);\r\n          }\r\n\r\n          oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath);\r\n\r\n          // If we have hit the end of both strings, then we are done\r\n          if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\r\n            return done(buildValues(basePath.components, newString, oldString, self.useLongestToken));\r\n          } else {\r\n            // Otherwise track this path as a potential candidate and continue.\r\n            bestPath[diagonalPath] = basePath;\r\n          }\r\n        }\r\n\r\n        editLength++;\r\n      }\r\n\r\n      // Performs the length of edit iteration. Is a bit fugly as this has to support the\r\n      // sync and async mode which is never fun. Loops over execEditLength until a value\r\n      // is produced.\r\n      if (callback) {\r\n        (function exec() {\r\n          setTimeout(function() {\r\n            // This should not happen, but we want to be safe.\r\n            /*istanbul ignore next */\r\n            if (editLength > maxEditLength) {\r\n              return callback();\r\n            }\r\n\r\n            if (!execEditLength()) {\r\n              exec();\r\n            }\r\n          }, 0);\r\n        }());\r\n      } else {\r\n        while (editLength <= maxEditLength) {\r\n          var ret = execEditLength();\r\n          if (ret) {\r\n            return ret;\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    pushComponent: function(components, added, removed) {\r\n      var last = components[components.length - 1];\r\n      if (last && last.added === added && last.removed === removed) {\r\n        // We need to clone here as the component clone operation is just\r\n        // as shallow array clone\r\n        components[components.length - 1] = {count: last.count + 1, added: added, removed: removed };\r\n      } else {\r\n        components.push({count: 1, added: added, removed: removed });\r\n      }\r\n    },\r\n    extractCommon: function(basePath, newString, oldString, diagonalPath) {\r\n      var newLen = newString.length,\r\n          oldLen = oldString.length,\r\n          newPos = basePath.newPos,\r\n          oldPos = newPos - diagonalPath,\r\n\r\n          commonCount = 0;\r\n      while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\r\n        newPos++;\r\n        oldPos++;\r\n        commonCount++;\r\n      }\r\n\r\n      if (commonCount) {\r\n        basePath.components.push({count: commonCount});\r\n      }\r\n\r\n      basePath.newPos = newPos;\r\n      return oldPos;\r\n    },\r\n\r\n    equals: function(left, right) {\r\n      var reWhitespace = /\\S/;\r\n      return left === right || (this.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right));\r\n    },\r\n    tokenize: function(value) {\r\n      return value.split('');\r\n    }\r\n  };\r\n\r\n  var CharDiff = new Diff();\r\n\r\n  var WordDiff = new Diff(true);\r\n  var WordWithSpaceDiff = new Diff();\r\n  WordDiff.tokenize = WordWithSpaceDiff.tokenize = function(value) {\r\n    return removeEmpty(value.split(/(\\s+|\\b)/));\r\n  };\r\n\r\n  var CssDiff = new Diff(true);\r\n  CssDiff.tokenize = function(value) {\r\n    return removeEmpty(value.split(/([{}:;,]|\\s+)/));\r\n  };\r\n\r\n  var LineDiff = new Diff();\r\n\r\n  var TrimmedLineDiff = new Diff();\r\n  TrimmedLineDiff.ignoreTrim = true;\r\n\r\n  LineDiff.tokenize = TrimmedLineDiff.tokenize = function(value) {\r\n    var retLines = [],\r\n        lines = value.split(/^/m);\r\n    for (var i = 0; i < lines.length; i++) {\r\n      var line = lines[i],\r\n          lastLine = lines[i - 1],\r\n          lastLineLastChar = lastLine && lastLine[lastLine.length - 1];\r\n\r\n      // Merge lines that may contain windows new lines\r\n      if (line === '\\n' && lastLineLastChar === '\\r') {\r\n          retLines[retLines.length - 1] = retLines[retLines.length - 1].slice(0, -1) + '\\r\\n';\r\n      } else {\r\n        if (this.ignoreTrim) {\r\n          line = line.trim();\r\n          // add a newline unless this is the last line.\r\n          if (i < lines.length - 1) {\r\n            line += '\\n';\r\n          }\r\n        }\r\n        retLines.push(line);\r\n      }\r\n    }\r\n\r\n    return retLines;\r\n  };\r\n\r\n  var PatchDiff = new Diff();\r\n  PatchDiff.tokenize = function(value) {\r\n    var ret = [],\r\n        linesAndNewlines = value.split(/(\\n|\\r\\n)/);\r\n\r\n    // Ignore the final empty token that occurs if the string ends with a new line\r\n    if (!linesAndNewlines[linesAndNewlines.length - 1]) {\r\n      linesAndNewlines.pop();\r\n    }\r\n\r\n    // Merge the content and line separators into single tokens\r\n    for (var i = 0; i < linesAndNewlines.length; i++) {\r\n      var line = linesAndNewlines[i];\r\n\r\n      if (i % 2) {\r\n        ret[ret.length - 1] += line;\r\n      } else {\r\n        ret.push(line);\r\n      }\r\n    }\r\n    return ret;\r\n  };\r\n\r\n  var SentenceDiff = new Diff();\r\n  SentenceDiff.tokenize = function(value) {\r\n    return removeEmpty(value.split(/(\\S.+?[.!?])(?=\\s+|$)/));\r\n  };\r\n\r\n  var JsonDiff = new Diff();\r\n  // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\r\n  // dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\r\n  JsonDiff.useLongestToken = true;\r\n  JsonDiff.tokenize = LineDiff.tokenize;\r\n  JsonDiff.equals = function(left, right) {\r\n    return LineDiff.equals(left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\r\n  };\r\n\r\n  var JsDiff = {\r\n    Diff: Diff,\r\n\r\n    diffChars: function(oldStr, newStr, callback) { return CharDiff.diff(oldStr, newStr, callback); },\r\n    diffWords: function(oldStr, newStr, callback) { return WordDiff.diff(oldStr, newStr, callback); },\r\n    diffWordsWithSpace: function(oldStr, newStr, callback) { return WordWithSpaceDiff.diff(oldStr, newStr, callback); },\r\n    diffLines: function(oldStr, newStr, callback) { return LineDiff.diff(oldStr, newStr, callback); },\r\n    diffTrimmedLines: function(oldStr, newStr, callback) { return TrimmedLineDiff.diff(oldStr, newStr, callback); },\r\n\r\n    diffSentences: function(oldStr, newStr, callback) { return SentenceDiff.diff(oldStr, newStr, callback); },\r\n\r\n    diffCss: function(oldStr, newStr, callback) { return CssDiff.diff(oldStr, newStr, callback); },\r\n    diffJson: function(oldObj, newObj, callback) {\r\n      return JsonDiff.diff(\r\n        typeof oldObj === 'string' ? oldObj : JSON.stringify(canonicalize(oldObj), undefined, '  '),\r\n        typeof newObj === 'string' ? newObj : JSON.stringify(canonicalize(newObj), undefined, '  '),\r\n        callback\r\n      );\r\n    },\r\n\r\n    createTwoFilesPatch: function(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader) {\r\n      var ret = [];\r\n\r\n      if (oldFileName == newFileName) {\r\n        ret.push('Index: ' + oldFileName);\r\n      }\r\n      ret.push('===================================================================');\r\n      ret.push('--- ' + oldFileName + (typeof oldHeader === 'undefined' ? '' : '\\t' + oldHeader));\r\n      ret.push('+++ ' + newFileName + (typeof newHeader === 'undefined' ? '' : '\\t' + newHeader));\r\n\r\n      var diff = PatchDiff.diff(oldStr, newStr);\r\n      diff.push({value: '', lines: []});   // Append an empty value to make cleanup easier\r\n\r\n      // Formats a given set of lines for printing as context lines in a patch\r\n      function contextLines(lines) {\r\n        return map(lines, function(entry) { return ' ' + entry; });\r\n      }\r\n\r\n      // Outputs the no newline at end of file warning if needed\r\n      function eofNL(curRange, i, current) {\r\n        var last = diff[diff.length - 2],\r\n            isLast = i === diff.length - 2,\r\n            isLastOfType = i === diff.length - 3 && current.added !== last.added;\r\n\r\n        // Figure out if this is the last line for the given file and missing NL\r\n        if (!(/\\n$/.test(current.value)) && (isLast || isLastOfType)) {\r\n          curRange.push('\\\\ No newline at end of file');\r\n        }\r\n      }\r\n\r\n      var oldRangeStart = 0, newRangeStart = 0, curRange = [],\r\n          oldLine = 1, newLine = 1;\r\n      for (var i = 0; i < diff.length; i++) {\r\n        var current = diff[i],\r\n            lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\r\n        current.lines = lines;\r\n\r\n        if (current.added || current.removed) {\r\n          // If we have previous context, start with that\r\n          if (!oldRangeStart) {\r\n            var prev = diff[i - 1];\r\n            oldRangeStart = oldLine;\r\n            newRangeStart = newLine;\r\n\r\n            if (prev) {\r\n              curRange = contextLines(prev.lines.slice(-4));\r\n              oldRangeStart -= curRange.length;\r\n              newRangeStart -= curRange.length;\r\n            }\r\n          }\r\n\r\n          // Output our changes\r\n          curRange.push.apply(curRange, map(lines, function(entry) {\r\n            return (current.added ? '+' : '-') + entry;\r\n          }));\r\n          eofNL(curRange, i, current);\r\n\r\n          // Track the updated file position\r\n          if (current.added) {\r\n            newLine += lines.length;\r\n          } else {\r\n            oldLine += lines.length;\r\n          }\r\n        } else {\r\n          // Identical context lines. Track line changes\r\n          if (oldRangeStart) {\r\n            // Close out any changes that have been output (or join overlapping)\r\n            if (lines.length <= 8 && i < diff.length - 2) {\r\n              // Overlapping\r\n              curRange.push.apply(curRange, contextLines(lines));\r\n            } else {\r\n              // end the range and output\r\n              var contextSize = Math.min(lines.length, 4);\r\n              ret.push(\r\n                  '@@ -' + oldRangeStart + ',' + (oldLine - oldRangeStart + contextSize)\r\n                  + ' +' + newRangeStart + ',' + (newLine - newRangeStart + contextSize)\r\n                  + ' @@');\r\n              ret.push.apply(ret, curRange);\r\n              ret.push.apply(ret, contextLines(lines.slice(0, contextSize)));\r\n              if (lines.length <= 4) {\r\n                eofNL(ret, i, current);\r\n              }\r\n\r\n              oldRangeStart = 0;\r\n              newRangeStart = 0;\r\n              curRange = [];\r\n            }\r\n          }\r\n          oldLine += lines.length;\r\n          newLine += lines.length;\r\n        }\r\n      }\r\n\r\n      return ret.join('\\n') + '\\n';\r\n    },\r\n\r\n    createPatch: function(fileName, oldStr, newStr, oldHeader, newHeader) {\r\n      return JsDiff.createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader);\r\n    },\r\n\r\n    applyPatch: function(oldStr, uniDiff) {\r\n      var diffstr = uniDiff.split('\\n'),\r\n          hunks = [],\r\n          i = 0,\r\n          remEOFNL = false,\r\n          addEOFNL = false;\r\n\r\n      // Skip to the first change hunk\r\n      while (i < diffstr.length && !(/^@@/.test(diffstr[i]))) {\r\n        i++;\r\n      }\r\n\r\n      // Parse the unified diff\r\n      for (; i < diffstr.length; i++) {\r\n        if (diffstr[i][0] === '@') {\r\n          var chnukHeader = diffstr[i].split(/@@ -(\\d+),(\\d+) \\+(\\d+),(\\d+) @@/);\r\n          hunks.unshift({\r\n            start: chnukHeader[3],\r\n            oldlength: +chnukHeader[2],\r\n            removed: [],\r\n            newlength: chnukHeader[4],\r\n            added: []\r\n          });\r\n        } else if (diffstr[i][0] === '+') {\r\n          hunks[0].added.push(diffstr[i].substr(1));\r\n        } else if (diffstr[i][0] === '-') {\r\n          hunks[0].removed.push(diffstr[i].substr(1));\r\n        } else if (diffstr[i][0] === ' ') {\r\n          hunks[0].added.push(diffstr[i].substr(1));\r\n          hunks[0].removed.push(diffstr[i].substr(1));\r\n        } else if (diffstr[i][0] === '\\\\') {\r\n          if (diffstr[i - 1][0] === '+') {\r\n            remEOFNL = true;\r\n          } else if (diffstr[i - 1][0] === '-') {\r\n            addEOFNL = true;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Apply the diff to the input\r\n      var lines = oldStr.split('\\n');\r\n      for (i = hunks.length - 1; i >= 0; i--) {\r\n        var hunk = hunks[i];\r\n        // Sanity check the input string. Bail if we don't match.\r\n        for (var j = 0; j < hunk.oldlength; j++) {\r\n          if (lines[hunk.start - 1 + j] !== hunk.removed[j]) {\r\n            return false;\r\n          }\r\n        }\r\n        Array.prototype.splice.apply(lines, [hunk.start - 1, hunk.oldlength].concat(hunk.added));\r\n      }\r\n\r\n      // Handle EOFNL insertion/removal\r\n      if (remEOFNL) {\r\n        while (!lines[lines.length - 1]) {\r\n          lines.pop();\r\n        }\r\n      } else if (addEOFNL) {\r\n        lines.push('');\r\n      }\r\n      return lines.join('\\n');\r\n    },\r\n\r\n    convertChangesToXML: function(changes) {\r\n      var ret = [];\r\n      for (var i = 0; i < changes.length; i++) {\r\n        var change = changes[i];\r\n        if (change.added) {\r\n          ret.push('<ins>');\r\n        } else if (change.removed) {\r\n          ret.push('<del>');\r\n        }\r\n\r\n        ret.push(escapeHTML(change.value));\r\n\r\n        if (change.added) {\r\n          ret.push('</ins>');\r\n        } else if (change.removed) {\r\n          ret.push('</del>');\r\n        }\r\n      }\r\n      return ret.join('');\r\n    },\r\n\r\n    // See: http://code.google.com/p/google-diff-match-patch/wiki/API\r\n    convertChangesToDMP: function(changes) {\r\n      var ret = [],\r\n          change,\r\n          operation;\r\n      for (var i = 0; i < changes.length; i++) {\r\n        change = changes[i];\r\n        if (change.added) {\r\n          operation = 1;\r\n        } else if (change.removed) {\r\n          operation = -1;\r\n        } else {\r\n          operation = 0;\r\n        }\r\n\r\n        ret.push([operation, change.value]);\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    canonicalize: canonicalize\r\n  };\r\n\r\n  /*istanbul ignore next */\r\n  /*global module */\r\n  if (typeof module !== 'undefined' && module.exports) {\r\n    module.exports = JsDiff;\r\n  } else if (typeof define === 'function' && define.amd) {\r\n    /*global define */\r\n    define([], function() { return JsDiff; });\r\n  } else if (typeof global.JsDiff === 'undefined') {\r\n    global.JsDiff = JsDiff;\r\n  }\r\n}(this));\r\n\r\n},{}],68:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\r\n\r\nmodule.exports = function (str) {\r\n\tif (typeof str !== 'string') {\r\n\t\tthrow new TypeError('Expected a string');\r\n\t}\r\n\r\n\treturn str.replace(matchOperatorsRe,  '\\\\$&');\r\n};\r\n\r\n},{}],69:[function(require,module,exports){\r\n(function (process){\r\n// Growl - Copyright TJ Holowaychuk <tj@vision-media.ca> (MIT Licensed)\r\n\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar exec = require('child_process').exec\r\n  , fs = require('fs')\r\n  , path = require('path')\r\n  , exists = fs.existsSync || path.existsSync\r\n  , os = require('os')\r\n  , quote = JSON.stringify\r\n  , cmd;\r\n\r\nfunction which(name) {\r\n  var paths = process.env.PATH.split(':');\r\n  var loc;\r\n  \r\n  for (var i = 0, len = paths.length; i < len; ++i) {\r\n    loc = path.join(paths[i], name);\r\n    if (exists(loc)) return loc;\r\n  }\r\n}\r\n\r\nswitch(os.type()) {\r\n  case 'Darwin':\r\n    if (which('terminal-notifier')) {\r\n      cmd = {\r\n          type: \"Darwin-NotificationCenter\"\r\n        , pkg: \"terminal-notifier\"\r\n        , msg: '-message'\r\n        , title: '-title'\r\n        , subtitle: '-subtitle'\r\n        , priority: {\r\n              cmd: '-execute'\r\n            , range: []\r\n          }\r\n      };\r\n    } else {\r\n      cmd = {\r\n          type: \"Darwin-Growl\"\r\n        , pkg: \"growlnotify\"\r\n        , msg: '-m'\r\n        , sticky: '--sticky'\r\n        , priority: {\r\n              cmd: '--priority'\r\n            , range: [\r\n                -2\r\n              , -1\r\n              , 0\r\n              , 1\r\n              , 2\r\n              , \"Very Low\"\r\n              , \"Moderate\"\r\n              , \"Normal\"\r\n              , \"High\"\r\n              , \"Emergency\"\r\n            ]\r\n          }\r\n      };\r\n    }\r\n    break;\r\n  case 'Linux':\r\n    cmd = {\r\n        type: \"Linux\"\r\n      , pkg: \"notify-send\"\r\n      , msg: ''\r\n      , sticky: '-t 0'\r\n      , icon: '-i'\r\n      , priority: {\r\n          cmd: '-u'\r\n        , range: [\r\n            \"low\"\r\n          , \"normal\"\r\n          , \"critical\"\r\n        ]\r\n      }\r\n    };\r\n    break;\r\n  case 'Windows_NT':\r\n    cmd = {\r\n        type: \"Windows\"\r\n      , pkg: \"growlnotify\"\r\n      , msg: ''\r\n      , sticky: '/s:true'\r\n      , title: '/t:'\r\n      , icon: '/i:'\r\n      , priority: {\r\n            cmd: '/p:'\r\n          , range: [\r\n              -2\r\n            , -1\r\n            , 0\r\n            , 1\r\n            , 2\r\n          ]\r\n        }\r\n    };\r\n    break;\r\n}\r\n\r\n/**\r\n * Expose `growl`.\r\n */\r\n\r\nexports = module.exports = growl;\r\n\r\n/**\r\n * Node-growl version.\r\n */\r\n\r\nexports.version = '1.4.1'\r\n\r\n/**\r\n * Send growl notification _msg_ with _options_.\r\n *\r\n * Options:\r\n *\r\n *  - title   Notification title\r\n *  - sticky  Make the notification stick (defaults to false)\r\n *  - priority  Specify an int or named key (default is 0)\r\n *  - name    Application name (defaults to growlnotify)\r\n *  - image\r\n *    - path to an icon sets --iconpath\r\n *    - path to an image sets --image\r\n *    - capitalized word sets --appIcon\r\n *    - filename uses extname as --icon\r\n *    - otherwise treated as --icon\r\n *\r\n * Examples:\r\n *\r\n *   growl('New email')\r\n *   growl('5 new emails', { title: 'Thunderbird' })\r\n *   growl('Email sent', function(){\r\n *     // ... notification sent\r\n *   })\r\n *\r\n * @param {string} msg\r\n * @param {object} options\r\n * @param {function} fn\r\n * @api public\r\n */\r\n\r\nfunction growl(msg, options, fn) {\r\n  var image\r\n    , args\r\n    , options = options || {}\r\n    , fn = fn || function(){};\r\n\r\n  // noop\r\n  if (!cmd) return fn(new Error('growl not supported on this platform'));\r\n  args = [cmd.pkg];\r\n\r\n  // image\r\n  if (image = options.image) {\r\n    switch(cmd.type) {\r\n      case 'Darwin-Growl':\r\n        var flag, ext = path.extname(image).substr(1)\r\n        flag = flag || ext == 'icns' && 'iconpath'\r\n        flag = flag || /^[A-Z]/.test(image) && 'appIcon'\r\n        flag = flag || /^png|gif|jpe?g$/.test(ext) && 'image'\r\n        flag = flag || ext && (image = ext) && 'icon'\r\n        flag = flag || 'icon'\r\n        args.push('--' + flag, quote(image))\r\n        break;\r\n      case 'Linux':\r\n        args.push(cmd.icon, quote(image));\r\n        // libnotify defaults to sticky, set a hint for transient notifications\r\n        if (!options.sticky) args.push('--hint=int:transient:1');\r\n        break;\r\n      case 'Windows':\r\n        args.push(cmd.icon + quote(image));\r\n        break;\r\n    }\r\n  }\r\n\r\n  // sticky\r\n  if (options.sticky) args.push(cmd.sticky);\r\n\r\n  // priority\r\n  if (options.priority) {\r\n    var priority = options.priority + '';\r\n    var checkindexOf = cmd.priority.range.indexOf(priority);\r\n    if (~cmd.priority.range.indexOf(priority)) {\r\n      args.push(cmd.priority, options.priority);\r\n    }\r\n  }\r\n\r\n  // name\r\n  if (options.name && cmd.type === \"Darwin-Growl\") {\r\n    args.push('--name', options.name);\r\n  }\r\n\r\n  switch(cmd.type) {\r\n    case 'Darwin-Growl':\r\n      args.push(cmd.msg);\r\n      args.push(quote(msg));\r\n      if (options.title) args.push(quote(options.title));\r\n      break;\r\n    case 'Darwin-NotificationCenter':\r\n      args.push(cmd.msg);\r\n      args.push(quote(msg));\r\n      if (options.title) {\r\n        args.push(cmd.title);\r\n        args.push(quote(options.title));\r\n      }\r\n      if (options.subtitle) {\r\n        args.push(cmd.subtitle);\r\n        args.push(quote(options.subtitle));\r\n      }\r\n      break;\r\n    case 'Darwin-Growl':\r\n      args.push(cmd.msg);\r\n      args.push(quote(msg));\r\n      if (options.title) args.push(quote(options.title));\r\n      break;\r\n    case 'Linux':\r\n      if (options.title) {\r\n        args.push(quote(options.title));\r\n        args.push(cmd.msg);\r\n        args.push(quote(msg));\r\n      } else {\r\n        args.push(quote(msg));\r\n      }\r\n      break;\r\n    case 'Windows':\r\n      args.push(quote(msg));\r\n      if (options.title) args.push(cmd.title + quote(options.title));\r\n      break;\r\n  }\r\n\r\n  // execute\r\n  exec(args.join(' '), fn);\r\n};\r\n\r\n}).call(this,require('_process'))\r\n},{\"_process\":51,\"child_process\":41,\"fs\":41,\"os\":50,\"path\":41}],70:[function(require,module,exports){\r\n(function (process,global){\r\n/**\r\n * Shim process.stdout.\r\n */\r\n\r\nprocess.stdout = require('browser-stdout')();\r\n\r\nvar Mocha = require('../');\r\n\r\n/**\r\n * Create a Mocha instance.\r\n *\r\n * @return {undefined}\r\n */\r\n\r\nvar mocha = new Mocha({ reporter: 'html' });\r\n\r\n/**\r\n * Save timer references to avoid Sinon interfering (see GH-237).\r\n */\r\n\r\nvar Date = global.Date;\r\nvar setTimeout = global.setTimeout;\r\nvar setInterval = global.setInterval;\r\nvar clearTimeout = global.clearTimeout;\r\nvar clearInterval = global.clearInterval;\r\n\r\nvar uncaughtExceptionHandlers = [];\r\n\r\nvar originalOnerrorHandler = global.onerror;\r\n\r\n/**\r\n * Remove uncaughtException listener.\r\n * Revert to original onerror handler if previously defined.\r\n */\r\n\r\nprocess.removeListener = function(e, fn){\r\n  if ('uncaughtException' == e) {\r\n    if (originalOnerrorHandler) {\r\n      global.onerror = originalOnerrorHandler;\r\n    } else {\r\n      global.onerror = function() {};\r\n    }\r\n    var i = Mocha.utils.indexOf(uncaughtExceptionHandlers, fn);\r\n    if (i != -1) { uncaughtExceptionHandlers.splice(i, 1); }\r\n  }\r\n};\r\n\r\n/**\r\n * Implements uncaughtException listener.\r\n */\r\n\r\nprocess.on = function(e, fn){\r\n  if ('uncaughtException' == e) {\r\n    global.onerror = function(err, url, line){\r\n      fn(new Error(err + ' (' + url + ':' + line + ')'));\r\n      return !mocha.allowUncaught;\r\n    };\r\n    uncaughtExceptionHandlers.push(fn);\r\n  }\r\n};\r\n\r\n// The BDD UI is registered by default, but no UI will be functional in the\r\n// browser without an explicit call to the overridden `mocha.ui` (see below).\r\n// Ensure that this default UI does not expose its methods to the global scope.\r\nmocha.suite.removeAllListeners('pre-require');\r\n\r\nvar immediateQueue = []\r\n  , immediateTimeout;\r\n\r\nfunction timeslice() {\r\n  var immediateStart = new Date().getTime();\r\n  while (immediateQueue.length && (new Date().getTime() - immediateStart) < 100) {\r\n    immediateQueue.shift()();\r\n  }\r\n  if (immediateQueue.length) {\r\n    immediateTimeout = setTimeout(timeslice, 0);\r\n  } else {\r\n    immediateTimeout = null;\r\n  }\r\n}\r\n\r\n/**\r\n * High-performance override of Runner.immediately.\r\n */\r\n\r\nMocha.Runner.immediately = function(callback) {\r\n  immediateQueue.push(callback);\r\n  if (!immediateTimeout) {\r\n    immediateTimeout = setTimeout(timeslice, 0);\r\n  }\r\n};\r\n\r\n/**\r\n * Function to allow assertion libraries to throw errors directly into mocha.\r\n * This is useful when running tests in a browser because window.onerror will\r\n * only receive the 'message' attribute of the Error.\r\n */\r\nmocha.throwError = function(err) {\r\n  Mocha.utils.forEach(uncaughtExceptionHandlers, function (fn) {\r\n    fn(err);\r\n  });\r\n  throw err;\r\n};\r\n\r\n/**\r\n * Override ui to ensure that the ui functions are initialized.\r\n * Normally this would happen in Mocha.prototype.loadFiles.\r\n */\r\n\r\nmocha.ui = function(ui){\r\n  Mocha.prototype.ui.call(this, ui);\r\n  this.suite.emit('pre-require', global, null, this);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Setup mocha with the given setting options.\r\n */\r\n\r\nmocha.setup = function(opts){\r\n  if ('string' == typeof opts) opts = { ui: opts };\r\n  for (var opt in opts) this[opt](opts[opt]);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Run mocha, returning the Runner.\r\n */\r\n\r\nmocha.run = function(fn){\r\n  var options = mocha.options;\r\n  mocha.globals('location');\r\n\r\n  var query = Mocha.utils.parseQuery(global.location.search || '');\r\n  if (query.grep) mocha.grep(new RegExp(query.grep));\r\n  if (query.fgrep) mocha.grep(query.fgrep);\r\n  if (query.invert) mocha.invert();\r\n\r\n  return Mocha.prototype.run.call(mocha, function(err){\r\n    // The DOM Document is not available in Web Workers.\r\n    var document = global.document;\r\n    if (document && document.getElementById('mocha') && options.noHighlighting !== true) {\r\n      Mocha.utils.highlightTags('code');\r\n    }\r\n    if (fn) fn(err);\r\n  });\r\n};\r\n\r\n/**\r\n * Expose the process shim.\r\n * https://github.com/mochajs/mocha/pull/916\r\n */\r\n\r\nMocha.process = process;\r\n\r\n/**\r\n * Expose mocha.\r\n */\r\n\r\nwindow.Mocha = Mocha;\r\nwindow.mocha = mocha;\r\n\r\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../\":1,\"_process\":51,\"browser-stdout\":40}]},{},[70]);\r\n","Frame_Design/lib/bower_components/noty/demo/jquery-1.8.0.js":"/*!\r\n * jQuery JavaScript Library v1.8.0\r\n * http://jquery.com/\r\n *\r\n * Includes Sizzle.js\r\n * http://sizzlejs.com/\r\n *\r\n * Copyright 2012 jQuery Foundation and other contributors\r\n * Released under the MIT license\r\n * http://jquery.org/license\r\n *\r\n * Date: Thu Aug 09 2012 16:24:48 GMT-0400 (Eastern Daylight Time)\r\n */\r\n(function( window, undefined ) {\r\nvar\r\n\t// A central reference to the root jQuery(document)\r\n\trootjQuery,\r\n\r\n\t// The deferred used on DOM ready\r\n\treadyList,\r\n\r\n\t// Use the correct document accordingly with window argument (sandbox)\r\n\tdocument = window.document,\r\n\tlocation = window.location,\r\n\tnavigator = window.navigator,\r\n\r\n\t// Map over jQuery in case of overwrite\r\n\t_jQuery = window.jQuery,\r\n\r\n\t// Map over the $ in case of overwrite\r\n\t_$ = window.$,\r\n\r\n\t// Save a reference to some core methods\r\n\tcore_push = Array.prototype.push,\r\n\tcore_slice = Array.prototype.slice,\r\n\tcore_indexOf = Array.prototype.indexOf,\r\n\tcore_toString = Object.prototype.toString,\r\n\tcore_hasOwn = Object.prototype.hasOwnProperty,\r\n\tcore_trim = String.prototype.trim,\r\n\r\n\t// Define a local copy of jQuery\r\n\tjQuery = function( selector, context ) {\r\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\r\n\t\treturn new jQuery.fn.init( selector, context, rootjQuery );\r\n\t},\r\n\r\n\t// Used for matching numbers\r\n\tcore_pnum = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source,\r\n\r\n\t// Used for detecting and trimming whitespace\r\n\tcore_rnotwhite = /\\S/,\r\n\tcore_rspace = /\\s+/,\r\n\r\n\t// IE doesn't match non-breaking spaces with \\s\r\n\trtrim = core_rnotwhite.test(\"\\xA0\") ? (/^[\\s\\xA0]+|[\\s\\xA0]+$/g) : /^\\s+|\\s+$/g,\r\n\r\n\t// A simple way to check for HTML strings\r\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\r\n\trquickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,\r\n\r\n\t// Match a standalone tag\r\n\trsingleTag = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\r\n\r\n\t// JSON RegExp\r\n\trvalidchars = /^[\\],:{}\\s]*$/,\r\n\trvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g,\r\n\trvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g,\r\n\trvalidtokens = /\"[^\"\\\\\\r\\n]*\"|true|false|null|-?(?:\\d\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/g,\r\n\r\n\t// Matches dashed string for camelizing\r\n\trmsPrefix = /^-ms-/,\r\n\trdashAlpha = /-([\\da-z])/gi,\r\n\r\n\t// Used by jQuery.camelCase as callback to replace()\r\n\tfcamelCase = function( all, letter ) {\r\n\t\treturn ( letter + \"\" ).toUpperCase();\r\n\t},\r\n\r\n\t// The ready event handler and self cleanup method\r\n\tDOMContentLoaded = function() {\r\n\t\tif ( document.addEventListener ) {\r\n\t\t\tdocument.removeEventListener( \"DOMContentLoaded\", DOMContentLoaded, false );\r\n\t\t\tjQuery.ready();\r\n\t\t} else if ( document.readyState === \"complete\" ) {\r\n\t\t\t// we're here because readyState === \"complete\" in oldIE\r\n\t\t\t// which is good enough for us to call the dom ready!\r\n\t\t\tdocument.detachEvent( \"onreadystatechange\", DOMContentLoaded );\r\n\t\t\tjQuery.ready();\r\n\t\t}\r\n\t},\r\n\r\n\t// [[Class]] -> type pairs\r\n\tclass2type = {};\r\n\r\njQuery.fn = jQuery.prototype = {\r\n\tconstructor: jQuery,\r\n\tinit: function( selector, context, rootjQuery ) {\r\n\t\tvar match, elem, ret, doc;\r\n\r\n\t\t// Handle $(\"\"), $(null), $(undefined), $(false)\r\n\t\tif ( !selector ) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\t// Handle $(DOMElement)\r\n\t\tif ( selector.nodeType ) {\r\n\t\t\tthis.context = this[0] = selector;\r\n\t\t\tthis.length = 1;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\t// Handle HTML strings\r\n\t\tif ( typeof selector === \"string\" ) {\r\n\t\t\tif ( selector.charAt(0) === \"<\" && selector.charAt( selector.length - 1 ) === \">\" && selector.length >= 3 ) {\r\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\r\n\t\t\t\tmatch = [ null, selector, null ];\r\n\r\n\t\t\t} else {\r\n\t\t\t\tmatch = rquickExpr.exec( selector );\r\n\t\t\t}\r\n\r\n\t\t\t// Match html or make sure no context is specified for #id\r\n\t\t\tif ( match && (match[1] || !context) ) {\r\n\r\n\t\t\t\t// HANDLE: $(html) -> $(array)\r\n\t\t\t\tif ( match[1] ) {\r\n\t\t\t\t\tcontext = context instanceof jQuery ? context[0] : context;\r\n\t\t\t\t\tdoc = ( context && context.nodeType ? context.ownerDocument || context : document );\r\n\r\n\t\t\t\t\t// scripts is true for back-compat\r\n\t\t\t\t\tselector = jQuery.parseHTML( match[1], doc, true );\r\n\t\t\t\t\tif ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {\r\n\t\t\t\t\t\tthis.attr.call( selector, context, true );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn jQuery.merge( this, selector );\r\n\r\n\t\t\t\t// HANDLE: $(#id)\r\n\t\t\t\t} else {\r\n\t\t\t\t\telem = document.getElementById( match[2] );\r\n\r\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t\t// nodes that are no longer in the document #6963\r\n\t\t\t\t\tif ( elem && elem.parentNode ) {\r\n\t\t\t\t\t\t// Handle the case where IE and Opera return items\r\n\t\t\t\t\t\t// by name instead of ID\r\n\t\t\t\t\t\tif ( elem.id !== match[2] ) {\r\n\t\t\t\t\t\t\treturn rootjQuery.find( selector );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Otherwise, we inject the element directly into the jQuery object\r\n\t\t\t\t\t\tthis.length = 1;\r\n\t\t\t\t\t\tthis[0] = elem;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.context = document;\r\n\t\t\t\t\tthis.selector = selector;\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t// HANDLE: $(expr, $(...))\r\n\t\t\t} else if ( !context || context.jquery ) {\r\n\t\t\t\treturn ( context || rootjQuery ).find( selector );\r\n\r\n\t\t\t// HANDLE: $(expr, context)\r\n\t\t\t// (which is just equivalent to: $(context).find(expr)\r\n\t\t\t} else {\r\n\t\t\t\treturn this.constructor( context ).find( selector );\r\n\t\t\t}\r\n\r\n\t\t// HANDLE: $(function)\r\n\t\t// Shortcut for document ready\r\n\t\t} else if ( jQuery.isFunction( selector ) ) {\r\n\t\t\treturn rootjQuery.ready( selector );\r\n\t\t}\r\n\r\n\t\tif ( selector.selector !== undefined ) {\r\n\t\t\tthis.selector = selector.selector;\r\n\t\t\tthis.context = selector.context;\r\n\t\t}\r\n\r\n\t\treturn jQuery.makeArray( selector, this );\r\n\t},\r\n\r\n\t// Start with an empty selector\r\n\tselector: \"\",\r\n\r\n\t// The current version of jQuery being used\r\n\tjquery: \"1.8.0\",\r\n\r\n\t// The default length of a jQuery object is 0\r\n\tlength: 0,\r\n\r\n\t// The number of elements contained in the matched element set\r\n\tsize: function() {\r\n\t\treturn this.length;\r\n\t},\r\n\r\n\ttoArray: function() {\r\n\t\treturn core_slice.call( this );\r\n\t},\r\n\r\n\t// Get the Nth element in the matched element set OR\r\n\t// Get the whole matched element set as a clean array\r\n\tget: function( num ) {\r\n\t\treturn num == null ?\r\n\r\n\t\t\t// Return a 'clean' array\r\n\t\t\tthis.toArray() :\r\n\r\n\t\t\t// Return just the object\r\n\t\t\t( num < 0 ? this[ this.length + num ] : this[ num ] );\r\n\t},\r\n\r\n\t// Take an array of elements and push it onto the stack\r\n\t// (returning the new matched element set)\r\n\tpushStack: function( elems, name, selector ) {\r\n\r\n\t\t// Build a new jQuery matched element set\r\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\r\n\r\n\t\t// Add the old object onto the stack (as a reference)\r\n\t\tret.prevObject = this;\r\n\r\n\t\tret.context = this.context;\r\n\r\n\t\tif ( name === \"find\" ) {\r\n\t\t\tret.selector = this.selector + ( this.selector ? \" \" : \"\" ) + selector;\r\n\t\t} else if ( name ) {\r\n\t\t\tret.selector = this.selector + \".\" + name + \"(\" + selector + \")\";\r\n\t\t}\r\n\r\n\t\t// Return the newly-formed element set\r\n\t\treturn ret;\r\n\t},\r\n\r\n\t// Execute a callback for every element in the matched set.\r\n\t// (You can seed the arguments with an array of args, but this is\r\n\t// only used internally.)\r\n\teach: function( callback, args ) {\r\n\t\treturn jQuery.each( this, callback, args );\r\n\t},\r\n\r\n\tready: function( fn ) {\r\n\t\t// Add the callback\r\n\t\tjQuery.ready.promise().done( fn );\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\teq: function( i ) {\r\n\t\ti = +i;\r\n\t\treturn i === -1 ?\r\n\t\t\tthis.slice( i ) :\r\n\t\t\tthis.slice( i, i + 1 );\r\n\t},\r\n\r\n\tfirst: function() {\r\n\t\treturn this.eq( 0 );\r\n\t},\r\n\r\n\tlast: function() {\r\n\t\treturn this.eq( -1 );\r\n\t},\r\n\r\n\tslice: function() {\r\n\t\treturn this.pushStack( core_slice.apply( this, arguments ),\r\n\t\t\t\"slice\", core_slice.call(arguments).join(\",\") );\r\n\t},\r\n\r\n\tmap: function( callback ) {\r\n\t\treturn this.pushStack( jQuery.map(this, function( elem, i ) {\r\n\t\t\treturn callback.call( elem, i, elem );\r\n\t\t}));\r\n\t},\r\n\r\n\tend: function() {\r\n\t\treturn this.prevObject || this.constructor(null);\r\n\t},\r\n\r\n\t// For internal use only.\r\n\t// Behaves like an Array's method, not like a jQuery method.\r\n\tpush: core_push,\r\n\tsort: [].sort,\r\n\tsplice: [].splice\r\n};\r\n\r\n// Give the init function the jQuery prototype for later instantiation\r\njQuery.fn.init.prototype = jQuery.fn;\r\n\r\njQuery.extend = jQuery.fn.extend = function() {\r\n\tvar options, name, src, copy, copyIsArray, clone,\r\n\t\ttarget = arguments[0] || {},\r\n\t\ti = 1,\r\n\t\tlength = arguments.length,\r\n\t\tdeep = false;\r\n\r\n\t// Handle a deep copy situation\r\n\tif ( typeof target === \"boolean\" ) {\r\n\t\tdeep = target;\r\n\t\ttarget = arguments[1] || {};\r\n\t\t// skip the boolean and the target\r\n\t\ti = 2;\r\n\t}\r\n\r\n\t// Handle case when target is a string or something (possible in deep copy)\r\n\tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\r\n\t\ttarget = {};\r\n\t}\r\n\r\n\t// extend jQuery itself if only one argument is passed\r\n\tif ( length === i ) {\r\n\t\ttarget = this;\r\n\t\t--i;\r\n\t}\r\n\r\n\tfor ( ; i < length; i++ ) {\r\n\t\t// Only deal with non-null/undefined values\r\n\t\tif ( (options = arguments[ i ]) != null ) {\r\n\t\t\t// Extend the base object\r\n\t\t\tfor ( name in options ) {\r\n\t\t\t\tsrc = target[ name ];\r\n\t\t\t\tcopy = options[ name ];\r\n\r\n\t\t\t\t// Prevent never-ending loop\r\n\t\t\t\tif ( target === copy ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Recurse if we're merging plain objects or arrays\r\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\r\n\t\t\t\t\tif ( copyIsArray ) {\r\n\t\t\t\t\t\tcopyIsArray = false;\r\n\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Never move original objects, clone them\r\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\r\n\r\n\t\t\t\t// Don't bring in undefined values\r\n\t\t\t\t} else if ( copy !== undefined ) {\r\n\t\t\t\t\ttarget[ name ] = copy;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the modified object\r\n\treturn target;\r\n};\r\n\r\njQuery.extend({\r\n\tnoConflict: function( deep ) {\r\n\t\tif ( window.$ === jQuery ) {\r\n\t\t\twindow.$ = _$;\r\n\t\t}\r\n\r\n\t\tif ( deep && window.jQuery === jQuery ) {\r\n\t\t\twindow.jQuery = _jQuery;\r\n\t\t}\r\n\r\n\t\treturn jQuery;\r\n\t},\r\n\r\n\t// Is the DOM ready to be used? Set to true once it occurs.\r\n\tisReady: false,\r\n\r\n\t// A counter to track how many items to wait for before\r\n\t// the ready event fires. See #6781\r\n\treadyWait: 1,\r\n\r\n\t// Hold (or release) the ready event\r\n\tholdReady: function( hold ) {\r\n\t\tif ( hold ) {\r\n\t\t\tjQuery.readyWait++;\r\n\t\t} else {\r\n\t\t\tjQuery.ready( true );\r\n\t\t}\r\n\t},\r\n\r\n\t// Handle when the DOM is ready\r\n\tready: function( wait ) {\r\n\r\n\t\t// Abort if there are pending holds or we're already ready\r\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\r\n\t\tif ( !document.body ) {\r\n\t\t\treturn setTimeout( jQuery.ready, 1 );\r\n\t\t}\r\n\r\n\t\t// Remember that the DOM is ready\r\n\t\tjQuery.isReady = true;\r\n\r\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\r\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// If there are functions bound, to execute\r\n\t\treadyList.resolveWith( document, [ jQuery ] );\r\n\r\n\t\t// Trigger any bound ready events\r\n\t\tif ( jQuery.fn.trigger ) {\r\n\t\t\tjQuery( document ).trigger(\"ready\").off(\"ready\");\r\n\t\t}\r\n\t},\r\n\r\n\t// See test/unit/core.js for details concerning isFunction.\r\n\t// Since version 1.3, DOM methods and functions like alert\r\n\t// aren't supported. They return false on IE (#2968).\r\n\tisFunction: function( obj ) {\r\n\t\treturn jQuery.type(obj) === \"function\";\r\n\t},\r\n\r\n\tisArray: Array.isArray || function( obj ) {\r\n\t\treturn jQuery.type(obj) === \"array\";\r\n\t},\r\n\r\n\tisWindow: function( obj ) {\r\n\t\treturn obj != null && obj == obj.window;\r\n\t},\r\n\r\n\tisNumeric: function( obj ) {\r\n\t\treturn !isNaN( parseFloat(obj) ) && isFinite( obj );\r\n\t},\r\n\r\n\ttype: function( obj ) {\r\n\t\treturn obj == null ?\r\n\t\t\tString( obj ) :\r\n\t\t\tclass2type[ core_toString.call(obj) ] || \"object\";\r\n\t},\r\n\r\n\tisPlainObject: function( obj ) {\r\n\t\t// Must be an Object.\r\n\t\t// Because of IE, we also have to check the presence of the constructor property.\r\n\t\t// Make sure that DOM nodes and window objects don't pass through, as well\r\n\t\tif ( !obj || jQuery.type(obj) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\t// Not own constructor property must be Object\r\n\t\t\tif ( obj.constructor &&\r\n\t\t\t\t!core_hasOwn.call(obj, \"constructor\") &&\r\n\t\t\t\t!core_hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\") ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} catch ( e ) {\r\n\t\t\t// IE8,9 Will throw exceptions on certain host objects #9897\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Own properties are enumerated firstly, so to speed up,\r\n\t\t// if last one is own, then all properties are own.\r\n\r\n\t\tvar key;\r\n\t\tfor ( key in obj ) {}\r\n\r\n\t\treturn key === undefined || core_hasOwn.call( obj, key );\r\n\t},\r\n\r\n\tisEmptyObject: function( obj ) {\r\n\t\tvar name;\r\n\t\tfor ( name in obj ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\terror: function( msg ) {\r\n\t\tthrow new Error( msg );\r\n\t},\r\n\r\n\t// data: string of html\r\n\t// context (optional): If specified, the fragment will be created in this context, defaults to document\r\n\t// scripts (optional): If true, will include scripts passed in the html string\r\n\tparseHTML: function( data, context, scripts ) {\r\n\t\tvar parsed;\r\n\t\tif ( !data || typeof data !== \"string\" ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif ( typeof context === \"boolean\" ) {\r\n\t\t\tscripts = context;\r\n\t\t\tcontext = 0;\r\n\t\t}\r\n\t\tcontext = context || document;\r\n\r\n\t\t// Single tag\r\n\t\tif ( (parsed = rsingleTag.exec( data )) ) {\r\n\t\t\treturn [ context.createElement( parsed[1] ) ];\r\n\t\t}\r\n\r\n\t\tparsed = jQuery.buildFragment( [ data ], context, scripts ? null : [] );\r\n\t\treturn jQuery.merge( [],\r\n\t\t\t(parsed.cacheable ? jQuery.clone( parsed.fragment ) : parsed.fragment).childNodes );\r\n\t},\r\n\r\n\tparseJSON: function( data ) {\r\n\t\tif ( !data || typeof data !== \"string\") {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t// Make sure leading/trailing whitespace is removed (IE can't handle it)\r\n\t\tdata = jQuery.trim( data );\r\n\r\n\t\t// Attempt to parse using the native JSON parser first\r\n\t\tif ( window.JSON && window.JSON.parse ) {\r\n\t\t\treturn window.JSON.parse( data );\r\n\t\t}\r\n\r\n\t\t// Make sure the incoming data is actual JSON\r\n\t\t// Logic borrowed from http://json.org/json2.js\r\n\t\tif ( rvalidchars.test( data.replace( rvalidescape, \"@\" )\r\n\t\t\t.replace( rvalidtokens, \"]\" )\r\n\t\t\t.replace( rvalidbraces, \"\")) ) {\r\n\r\n\t\t\treturn ( new Function( \"return \" + data ) )();\r\n\r\n\t\t}\r\n\t\tjQuery.error( \"Invalid JSON: \" + data );\r\n\t},\r\n\r\n\t// Cross-browser xml parsing\r\n\tparseXML: function( data ) {\r\n\t\tvar xml, tmp;\r\n\t\tif ( !data || typeof data !== \"string\" ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tif ( window.DOMParser ) { // Standard\r\n\t\t\t\ttmp = new DOMParser();\r\n\t\t\t\txml = tmp.parseFromString( data , \"text/xml\" );\r\n\t\t\t} else { // IE\r\n\t\t\t\txml = new ActiveXObject( \"Microsoft.XMLDOM\" );\r\n\t\t\t\txml.async = \"false\";\r\n\t\t\t\txml.loadXML( data );\r\n\t\t\t}\r\n\t\t} catch( e ) {\r\n\t\t\txml = undefined;\r\n\t\t}\r\n\t\tif ( !xml || !xml.documentElement || xml.getElementsByTagName( \"parsererror\" ).length ) {\r\n\t\t\tjQuery.error( \"Invalid XML: \" + data );\r\n\t\t}\r\n\t\treturn xml;\r\n\t},\r\n\r\n\tnoop: function() {},\r\n\r\n\t// Evaluates a script in a global context\r\n\t// Workarounds based on findings by Jim Driscoll\r\n\t// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context\r\n\tglobalEval: function( data ) {\r\n\t\tif ( data && core_rnotwhite.test( data ) ) {\r\n\t\t\t// We use execScript on Internet Explorer\r\n\t\t\t// We use an anonymous function so that context is window\r\n\t\t\t// rather than jQuery in Firefox\r\n\t\t\t( window.execScript || function( data ) {\r\n\t\t\t\twindow[ \"eval\" ].call( window, data );\r\n\t\t\t} )( data );\r\n\t\t}\r\n\t},\r\n\r\n\t// Convert dashed to camelCase; used by the css and data modules\r\n\t// Microsoft forgot to hump their vendor prefix (#9572)\r\n\tcamelCase: function( string ) {\r\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\r\n\t},\r\n\r\n\tnodeName: function( elem, name ) {\r\n\t\treturn elem.nodeName && elem.nodeName.toUpperCase() === name.toUpperCase();\r\n\t},\r\n\r\n\t// args is for internal usage only\r\n\teach: function( obj, callback, args ) {\r\n\t\tvar name,\r\n\t\t\ti = 0,\r\n\t\t\tlength = obj.length,\r\n\t\t\tisObj = length === undefined || jQuery.isFunction( obj );\r\n\r\n\t\tif ( args ) {\r\n\t\t\tif ( isObj ) {\r\n\t\t\t\tfor ( name in obj ) {\r\n\t\t\t\t\tif ( callback.apply( obj[ name ], args ) === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( ; i < length; ) {\r\n\t\t\t\t\tif ( callback.apply( obj[ i++ ], args ) === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t// A special, fast, case for the most common use of each\r\n\t\t} else {\r\n\t\t\tif ( isObj ) {\r\n\t\t\t\tfor ( name in obj ) {\r\n\t\t\t\t\tif ( callback.call( obj[ name ], name, obj[ name ] ) === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( ; i < length; ) {\r\n\t\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i++ ] ) === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn obj;\r\n\t},\r\n\r\n\t// Use native String.trim function wherever possible\r\n\ttrim: core_trim ?\r\n\t\tfunction( text ) {\r\n\t\t\treturn text == null ?\r\n\t\t\t\t\"\" :\r\n\t\t\t\tcore_trim.call( text );\r\n\t\t} :\r\n\r\n\t\t// Otherwise use our own trimming functionality\r\n\t\tfunction( text ) {\r\n\t\t\treturn text == null ?\r\n\t\t\t\t\"\" :\r\n\t\t\t\ttext.toString().replace( rtrim, \"\" );\r\n\t\t},\r\n\r\n\t// results is for internal usage only\r\n\tmakeArray: function( arr, results ) {\r\n\t\tvar type,\r\n\t\t\tret = results || [];\r\n\r\n\t\tif ( arr != null ) {\r\n\t\t\t// The window, strings (and functions) also have 'length'\r\n\t\t\t// Tweaked logic slightly to handle Blackberry 4.7 RegExp issues #6930\r\n\t\t\ttype = jQuery.type( arr );\r\n\r\n\t\t\tif ( arr.length == null || type === \"string\" || type === \"function\" || type === \"regexp\" || jQuery.isWindow( arr ) ) {\r\n\t\t\t\tcore_push.call( ret, arr );\r\n\t\t\t} else {\r\n\t\t\t\tjQuery.merge( ret, arr );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\tinArray: function( elem, arr, i ) {\r\n\t\tvar len;\r\n\r\n\t\tif ( arr ) {\r\n\t\t\tif ( core_indexOf ) {\r\n\t\t\t\treturn core_indexOf.call( arr, elem, i );\r\n\t\t\t}\r\n\r\n\t\t\tlen = arr.length;\r\n\t\t\ti = i ? i < 0 ? Math.max( 0, len + i ) : i : 0;\r\n\r\n\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\t// Skip accessing in sparse arrays\r\n\t\t\t\tif ( i in arr && arr[ i ] === elem ) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t},\r\n\r\n\tmerge: function( first, second ) {\r\n\t\tvar l = second.length,\r\n\t\t\ti = first.length,\r\n\t\t\tj = 0;\r\n\r\n\t\tif ( typeof l === \"number\" ) {\r\n\t\t\tfor ( ; j < l; j++ ) {\r\n\t\t\t\tfirst[ i++ ] = second[ j ];\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\twhile ( second[j] !== undefined ) {\r\n\t\t\t\tfirst[ i++ ] = second[ j++ ];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfirst.length = i;\r\n\r\n\t\treturn first;\r\n\t},\r\n\r\n\tgrep: function( elems, callback, inv ) {\r\n\t\tvar retVal,\r\n\t\t\tret = [],\r\n\t\t\ti = 0,\r\n\t\t\tlength = elems.length;\r\n\t\tinv = !!inv;\r\n\r\n\t\t// Go through the array, only saving the items\r\n\t\t// that pass the validator function\r\n\t\tfor ( ; i < length; i++ ) {\r\n\t\t\tretVal = !!callback( elems[ i ], i );\r\n\t\t\tif ( inv !== retVal ) {\r\n\t\t\t\tret.push( elems[ i ] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\t// arg is for internal usage only\r\n\tmap: function( elems, callback, arg ) {\r\n\t\tvar value, key,\r\n\t\t\tret = [],\r\n\t\t\ti = 0,\r\n\t\t\tlength = elems.length,\r\n\t\t\t// jquery objects are treated as arrays\r\n\t\t\tisArray = elems instanceof jQuery || length !== undefined && typeof length === \"number\" && ( ( length > 0 && elems[ 0 ] && elems[ length -1 ] ) || length === 0 || jQuery.isArray( elems ) ) ;\r\n\r\n\t\t// Go through the array, translating each of the items to their\r\n\t\tif ( isArray ) {\r\n\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\r\n\r\n\t\t\t\tif ( value != null ) {\r\n\t\t\t\t\tret[ ret.length ] = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t// Go through every key on the object,\r\n\t\t} else {\r\n\t\t\tfor ( key in elems ) {\r\n\t\t\t\tvalue = callback( elems[ key ], key, arg );\r\n\r\n\t\t\t\tif ( value != null ) {\r\n\t\t\t\t\tret[ ret.length ] = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Flatten any nested arrays\r\n\t\treturn ret.concat.apply( [], ret );\r\n\t},\r\n\r\n\t// A global GUID counter for objects\r\n\tguid: 1,\r\n\r\n\t// Bind a function to a context, optionally partially applying any\r\n\t// arguments.\r\n\tproxy: function( fn, context ) {\r\n\t\tvar tmp, args, proxy;\r\n\r\n\t\tif ( typeof context === \"string\" ) {\r\n\t\t\ttmp = fn[ context ];\r\n\t\t\tcontext = fn;\r\n\t\t\tfn = tmp;\r\n\t\t}\r\n\r\n\t\t// Quick check to determine if target is callable, in the spec\r\n\t\t// this throws a TypeError, but we will just return undefined.\r\n\t\tif ( !jQuery.isFunction( fn ) ) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\r\n\t\t// Simulated bind\r\n\t\targs = core_slice.call( arguments, 2 );\r\n\t\tproxy = function() {\r\n\t\t\treturn fn.apply( context, args.concat( core_slice.call( arguments ) ) );\r\n\t\t};\r\n\r\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\r\n\t\tproxy.guid = fn.guid = fn.guid || proxy.guid || jQuery.guid++;\r\n\r\n\t\treturn proxy;\r\n\t},\r\n\r\n\t// Multifunctional method to get and set values of a collection\r\n\t// The value/s can optionally be executed if it's a function\r\n\taccess: function( elems, fn, key, value, chainable, emptyGet, pass ) {\r\n\t\tvar exec,\r\n\t\t\tbulk = key == null,\r\n\t\t\ti = 0,\r\n\t\t\tlength = elems.length;\r\n\r\n\t\t// Sets many values\r\n\t\tif ( key && typeof key === \"object\" ) {\r\n\t\t\tfor ( i in key ) {\r\n\t\t\t\tjQuery.access( elems, fn, i, key[i], 1, emptyGet, value );\r\n\t\t\t}\r\n\t\t\tchainable = 1;\r\n\r\n\t\t// Sets one value\r\n\t\t} else if ( value !== undefined ) {\r\n\t\t\t// Optionally, function values get executed if exec is true\r\n\t\t\texec = pass === undefined && jQuery.isFunction( value );\r\n\r\n\t\t\tif ( bulk ) {\r\n\t\t\t\t// Bulk operations only iterate when executing function values\r\n\t\t\t\tif ( exec ) {\r\n\t\t\t\t\texec = fn;\r\n\t\t\t\t\tfn = function( elem, key, value ) {\r\n\t\t\t\t\t\treturn exec.call( jQuery( elem ), value );\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t// Otherwise they run against the entire set\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfn.call( elems, value );\r\n\t\t\t\t\tfn = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( fn ) {\r\n\t\t\t\tfor (; i < length; i++ ) {\r\n\t\t\t\t\tfn( elems[i], key, exec ? value.call( elems[i], i, fn( elems[i], key ) ) : value, pass );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchainable = 1;\r\n\t\t}\r\n\r\n\t\treturn chainable ?\r\n\t\t\telems :\r\n\r\n\t\t\t// Gets\r\n\t\t\tbulk ?\r\n\t\t\t\tfn.call( elems ) :\r\n\t\t\t\tlength ? fn( elems[0], key ) : emptyGet;\r\n\t},\r\n\r\n\tnow: function() {\r\n\t\treturn ( new Date() ).getTime();\r\n\t}\r\n});\r\n\r\njQuery.ready.promise = function( obj ) {\r\n\tif ( !readyList ) {\r\n\r\n\t\treadyList = jQuery.Deferred();\r\n\r\n\t\t// Catch cases where $(document).ready() is called after the\r\n\t\t// browser event has already occurred.\r\n\t\tif ( document.readyState === \"complete\" || ( document.readyState !== \"loading\" && document.addEventListener ) ) {\r\n\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\r\n\t\t\tsetTimeout( jQuery.ready, 1 );\r\n\r\n\t\t// Standards-based browsers support DOMContentLoaded\r\n\t\t} else if ( document.addEventListener ) {\r\n\t\t\t// Use the handy event callback\r\n\t\t\tdocument.addEventListener( \"DOMContentLoaded\", DOMContentLoaded, false );\r\n\r\n\t\t\t// A fallback to window.onload, that will always work\r\n\t\t\twindow.addEventListener( \"load\", jQuery.ready, false );\r\n\r\n\t\t// If IE event model is used\r\n\t\t} else {\r\n\t\t\t// Ensure firing before onload, maybe late but safe also for iframes\r\n\t\t\tdocument.attachEvent( \"onreadystatechange\", DOMContentLoaded );\r\n\r\n\t\t\t// A fallback to window.onload, that will always work\r\n\t\t\twindow.attachEvent( \"onload\", jQuery.ready );\r\n\r\n\t\t\t// If IE and not a frame\r\n\t\t\t// continually check to see if the document is ready\r\n\t\t\tvar top = false;\r\n\r\n\t\t\ttry {\r\n\t\t\t\ttop = window.frameElement == null && document.documentElement;\r\n\t\t\t} catch(e) {}\r\n\r\n\t\t\tif ( top && top.doScroll ) {\r\n\t\t\t\t(function doScrollCheck() {\r\n\t\t\t\t\tif ( !jQuery.isReady ) {\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t// Use the trick by Diego Perini\r\n\t\t\t\t\t\t\t// http://javascript.nwbox.com/IEContentLoaded/\r\n\t\t\t\t\t\t\ttop.doScroll(\"left\");\r\n\t\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\t\treturn setTimeout( doScrollCheck, 50 );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// and execute any waiting functions\r\n\t\t\t\t\t\tjQuery.ready();\r\n\t\t\t\t\t}\r\n\t\t\t\t})();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn readyList.promise( obj );\r\n};\r\n\r\n// Populate the class2type map\r\njQuery.each(\"Boolean Number String Function Array Date RegExp Object\".split(\" \"), function(i, name) {\r\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\r\n});\r\n\r\n// All jQuery objects should point back to these\r\nrootjQuery = jQuery(document);\r\n// String to Object options format cache\r\nvar optionsCache = {};\r\n\r\n// Convert String-formatted options into Object-formatted ones and store in cache\r\nfunction createOptions( options ) {\r\n\tvar object = optionsCache[ options ] = {};\r\n\tjQuery.each( options.split( core_rspace ), function( _, flag ) {\r\n\t\tobject[ flag ] = true;\r\n\t});\r\n\treturn object;\r\n}\r\n\r\n/*\r\n * Create a callback list using the following parameters:\r\n *\r\n *\toptions: an optional list of space-separated options that will change how\r\n *\t\t\tthe callback list behaves or a more traditional option object\r\n *\r\n * By default a callback list will act like an event callback list and can be\r\n * \"fired\" multiple times.\r\n *\r\n * Possible options:\r\n *\r\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\r\n *\r\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\r\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\r\n *\t\t\t\t\tvalues (like a Deferred)\r\n *\r\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\r\n *\r\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\r\n *\r\n */\r\njQuery.Callbacks = function( options ) {\r\n\r\n\t// Convert options from String-formatted to Object-formatted if needed\r\n\t// (we check in cache first)\r\n\toptions = typeof options === \"string\" ?\r\n\t\t( optionsCache[ options ] || createOptions( options ) ) :\r\n\t\tjQuery.extend( {}, options );\r\n\r\n\tvar // Last fire value (for non-forgettable lists)\r\n\t\tmemory,\r\n\t\t// Flag to know if list was already fired\r\n\t\tfired,\r\n\t\t// Flag to know if list is currently firing\r\n\t\tfiring,\r\n\t\t// First callback to fire (used internally by add and fireWith)\r\n\t\tfiringStart,\r\n\t\t// End of the loop when firing\r\n\t\tfiringLength,\r\n\t\t// Index of currently firing callback (modified by remove if needed)\r\n\t\tfiringIndex,\r\n\t\t// Actual callback list\r\n\t\tlist = [],\r\n\t\t// Stack of fire calls for repeatable lists\r\n\t\tstack = !options.once && [],\r\n\t\t// Fire callbacks\r\n\t\tfire = function( data ) {\r\n\t\t\tmemory = options.memory && data;\r\n\t\t\tfired = true;\r\n\t\t\tfiringIndex = firingStart || 0;\r\n\t\t\tfiringStart = 0;\r\n\t\t\tfiringLength = list.length;\r\n\t\t\tfiring = true;\r\n\t\t\tfor ( ; list && firingIndex < firingLength; firingIndex++ ) {\r\n\t\t\t\tif ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {\r\n\t\t\t\t\tmemory = false; // To prevent further calls using add\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfiring = false;\r\n\t\t\tif ( list ) {\r\n\t\t\t\tif ( stack ) {\r\n\t\t\t\t\tif ( stack.length ) {\r\n\t\t\t\t\t\tfire( stack.shift() );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( memory ) {\r\n\t\t\t\t\tlist = [];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.disable();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Actual Callbacks object\r\n\t\tself = {\r\n\t\t\t// Add a callback or a collection of callbacks to the list\r\n\t\t\tadd: function() {\r\n\t\t\t\tif ( list ) {\r\n\t\t\t\t\t// First, we save the current length\r\n\t\t\t\t\tvar start = list.length;\r\n\t\t\t\t\t(function add( args ) {\r\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\r\n\t\t\t\t\t\t\tif ( jQuery.isFunction( arg ) && ( !options.unique || !self.has( arg ) ) ) {\r\n\t\t\t\t\t\t\t\tlist.push( arg );\r\n\t\t\t\t\t\t\t} else if ( arg && arg.length ) {\r\n\t\t\t\t\t\t\t\t// Inspect recursively\r\n\t\t\t\t\t\t\t\tadd( arg );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})( arguments );\r\n\t\t\t\t\t// Do we need to add the callbacks to the\r\n\t\t\t\t\t// current firing batch?\r\n\t\t\t\t\tif ( firing ) {\r\n\t\t\t\t\t\tfiringLength = list.length;\r\n\t\t\t\t\t// With memory, if we're not firing then\r\n\t\t\t\t\t// we should call right away\r\n\t\t\t\t\t} else if ( memory ) {\r\n\t\t\t\t\t\tfiringStart = start;\r\n\t\t\t\t\t\tfire( memory );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Remove a callback from the list\r\n\t\t\tremove: function() {\r\n\t\t\t\tif ( list ) {\r\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\r\n\t\t\t\t\t\tvar index;\r\n\t\t\t\t\t\twhile( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\r\n\t\t\t\t\t\t\tlist.splice( index, 1 );\r\n\t\t\t\t\t\t\t// Handle firing indexes\r\n\t\t\t\t\t\t\tif ( firing ) {\r\n\t\t\t\t\t\t\t\tif ( index <= firingLength ) {\r\n\t\t\t\t\t\t\t\t\tfiringLength--;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( index <= firingIndex ) {\r\n\t\t\t\t\t\t\t\t\tfiringIndex--;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Control if a given callback is in the list\r\n\t\t\thas: function( fn ) {\r\n\t\t\t\treturn jQuery.inArray( fn, list ) > -1;\r\n\t\t\t},\r\n\t\t\t// Remove all callbacks from the list\r\n\t\t\tempty: function() {\r\n\t\t\t\tlist = [];\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Have the list do nothing anymore\r\n\t\t\tdisable: function() {\r\n\t\t\t\tlist = stack = memory = undefined;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Is it disabled?\r\n\t\t\tdisabled: function() {\r\n\t\t\t\treturn !list;\r\n\t\t\t},\r\n\t\t\t// Lock the list in its current state\r\n\t\t\tlock: function() {\r\n\t\t\t\tstack = undefined;\r\n\t\t\t\tif ( !memory ) {\r\n\t\t\t\t\tself.disable();\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Is it locked?\r\n\t\t\tlocked: function() {\r\n\t\t\t\treturn !stack;\r\n\t\t\t},\r\n\t\t\t// Call all callbacks with the given context and arguments\r\n\t\t\tfireWith: function( context, args ) {\r\n\t\t\t\targs = args || [];\r\n\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\r\n\t\t\t\tif ( list && ( !fired || stack ) ) {\r\n\t\t\t\t\tif ( firing ) {\r\n\t\t\t\t\t\tstack.push( args );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfire( args );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Call all the callbacks with the given arguments\r\n\t\t\tfire: function() {\r\n\t\t\t\tself.fireWith( this, arguments );\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// To know if the callbacks have already been called at least once\r\n\t\t\tfired: function() {\r\n\t\t\t\treturn !!fired;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\treturn self;\r\n};\r\njQuery.extend({\r\n\r\n\tDeferred: function( func ) {\r\n\t\tvar tuples = [\r\n\t\t\t\t// action, add listener, listener list, final state\r\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\" ],\r\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\" ],\r\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks(\"memory\") ]\r\n\t\t\t],\r\n\t\t\tstate = \"pending\",\r\n\t\t\tpromise = {\r\n\t\t\t\tstate: function() {\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t},\r\n\t\t\t\talways: function() {\r\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\r\n\t\t\t\t\tvar fns = arguments;\r\n\t\t\t\t\treturn jQuery.Deferred(function( newDefer ) {\r\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\r\n\t\t\t\t\t\t\tvar action = tuple[ 0 ],\r\n\t\t\t\t\t\t\t\tfn = fns[ i ];\r\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\r\n\t\t\t\t\t\t\tdeferred[ tuple[1] ]( jQuery.isFunction( fn ) ?\r\n\t\t\t\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\t\t\t\tvar returned = fn.apply( this, arguments );\r\n\t\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\r\n\t\t\t\t\t\t\t\t\t\treturned.promise()\r\n\t\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\r\n\t\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject )\r\n\t\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify );\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tnewDefer[ action + \"With\" ]( this === deferred ? newDefer : this, [ returned ] );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} :\r\n\t\t\t\t\t\t\t\tnewDefer[ action ]\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tfns = null;\r\n\t\t\t\t\t}).promise();\r\n\t\t\t\t},\r\n\t\t\t\t// Get a promise for this deferred\r\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\r\n\t\t\t\tpromise: function( obj ) {\r\n\t\t\t\t\treturn typeof obj === \"object\" ? jQuery.extend( obj, promise ) : promise;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeferred = {};\r\n\r\n\t\t// Keep pipe for back-compat\r\n\t\tpromise.pipe = promise.then;\r\n\r\n\t\t// Add list-specific methods\r\n\t\tjQuery.each( tuples, function( i, tuple ) {\r\n\t\t\tvar list = tuple[ 2 ],\r\n\t\t\t\tstateString = tuple[ 3 ];\r\n\r\n\t\t\t// promise[ done | fail | progress ] = list.add\r\n\t\t\tpromise[ tuple[1] ] = list.add;\r\n\r\n\t\t\t// Handle state\r\n\t\t\tif ( stateString ) {\r\n\t\t\t\tlist.add(function() {\r\n\t\t\t\t\t// state = [ resolved | rejected ]\r\n\t\t\t\t\tstate = stateString;\r\n\r\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\r\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\r\n\t\t\t}\r\n\r\n\t\t\t// deferred[ resolve | reject | notify ] = list.fire\r\n\t\t\tdeferred[ tuple[0] ] = list.fire;\r\n\t\t\tdeferred[ tuple[0] + \"With\" ] = list.fireWith;\r\n\t\t});\r\n\r\n\t\t// Make the deferred a promise\r\n\t\tpromise.promise( deferred );\r\n\r\n\t\t// Call given func if any\r\n\t\tif ( func ) {\r\n\t\t\tfunc.call( deferred, deferred );\r\n\t\t}\r\n\r\n\t\t// All done!\r\n\t\treturn deferred;\r\n\t},\r\n\r\n\t// Deferred helper\r\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\r\n\t\tvar i = 0,\r\n\t\t\tresolveValues = core_slice.call( arguments ),\r\n\t\t\tlength = resolveValues.length,\r\n\r\n\t\t\t// the count of uncompleted subordinates\r\n\t\t\tremaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\r\n\r\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\r\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\r\n\r\n\t\t\t// Update function for both resolve and progress values\r\n\t\t\tupdateFunc = function( i, contexts, values ) {\r\n\t\t\t\treturn function( value ) {\r\n\t\t\t\t\tcontexts[ i ] = this;\r\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? core_slice.call( arguments ) : value;\r\n\t\t\t\t\tif( values === progressValues ) {\r\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\r\n\t\t\t\t\t} else if ( !( --remaining ) ) {\r\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\tprogressValues, progressContexts, resolveContexts;\r\n\r\n\t\t// add listeners to Deferred subordinates; treat others as resolved\r\n\t\tif ( length > 1 ) {\r\n\t\t\tprogressValues = new Array( length );\r\n\t\t\tprogressContexts = new Array( length );\r\n\t\t\tresolveContexts = new Array( length );\r\n\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\r\n\t\t\t\t\tresolveValues[ i ].promise()\r\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\r\n\t\t\t\t\t\t.fail( deferred.reject )\r\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t--remaining;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// if we're not waiting on anything, resolve the master\r\n\t\tif ( !remaining ) {\r\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\r\n\t\t}\r\n\r\n\t\treturn deferred.promise();\r\n\t}\r\n});\r\njQuery.support = (function() {\r\n\r\n\tvar support,\r\n\t\tall,\r\n\t\ta,\r\n\t\tselect,\r\n\t\topt,\r\n\t\tinput,\r\n\t\tfragment,\r\n\t\teventName,\r\n\t\ti,\r\n\t\tisSupported,\r\n\t\tclickFn,\r\n\t\tdiv = document.createElement(\"div\");\r\n\r\n\t// Preliminary tests\r\n\tdiv.setAttribute( \"className\", \"t\" );\r\n\tdiv.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\r\n\r\n\tall = div.getElementsByTagName(\"*\");\r\n\ta = div.getElementsByTagName(\"a\")[ 0 ];\r\n\ta.style.cssText = \"top:1px;float:left;opacity:.5\";\r\n\r\n\t// Can't get basic test support\r\n\tif ( !all || !all.length || !a ) {\r\n\t\treturn {};\r\n\t}\r\n\r\n\t// First batch of supports tests\r\n\tselect = document.createElement(\"select\");\r\n\topt = select.appendChild( document.createElement(\"option\") );\r\n\tinput = div.getElementsByTagName(\"input\")[ 0 ];\r\n\r\n\tsupport = {\r\n\t\t// IE strips leading whitespace when .innerHTML is used\r\n\t\tleadingWhitespace: ( div.firstChild.nodeType === 3 ),\r\n\r\n\t\t// Make sure that tbody elements aren't automatically inserted\r\n\t\t// IE will insert them into empty tables\r\n\t\ttbody: !div.getElementsByTagName(\"tbody\").length,\r\n\r\n\t\t// Make sure that link elements get serialized correctly by innerHTML\r\n\t\t// This requires a wrapper element in IE\r\n\t\thtmlSerialize: !!div.getElementsByTagName(\"link\").length,\r\n\r\n\t\t// Get the style information from getAttribute\r\n\t\t// (IE uses .cssText instead)\r\n\t\tstyle: /top/.test( a.getAttribute(\"style\") ),\r\n\r\n\t\t// Make sure that URLs aren't manipulated\r\n\t\t// (IE normalizes it by default)\r\n\t\threfNormalized: ( a.getAttribute(\"href\") === \"/a\" ),\r\n\r\n\t\t// Make sure that element opacity exists\r\n\t\t// (IE uses filter instead)\r\n\t\t// Use a regex to work around a WebKit issue. See #5145\r\n\t\topacity: /^0.5/.test( a.style.opacity ),\r\n\r\n\t\t// Verify style float existence\r\n\t\t// (IE uses styleFloat instead of cssFloat)\r\n\t\tcssFloat: !!a.style.cssFloat,\r\n\r\n\t\t// Make sure that if no value is specified for a checkbox\r\n\t\t// that it defaults to \"on\".\r\n\t\t// (WebKit defaults to \"\" instead)\r\n\t\tcheckOn: ( input.value === \"on\" ),\r\n\r\n\t\t// Make sure that a selected-by-default option has a working selected property.\r\n\t\t// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)\r\n\t\toptSelected: opt.selected,\r\n\r\n\t\t// Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)\r\n\t\tgetSetAttribute: div.className !== \"t\",\r\n\r\n\t\t// Tests for enctype support on a form(#6743)\r\n\t\tenctype: !!document.createElement(\"form\").enctype,\r\n\r\n\t\t// Makes sure cloning an html5 element does not cause problems\r\n\t\t// Where outerHTML is undefined, this still works\r\n\t\thtml5Clone: document.createElement(\"nav\").cloneNode( true ).outerHTML !== \"<:nav></:nav>\",\r\n\r\n\t\t// jQuery.support.boxModel DEPRECATED in 1.8 since we don't support Quirks Mode\r\n\t\tboxModel: ( document.compatMode === \"CSS1Compat\" ),\r\n\r\n\t\t// Will be defined later\r\n\t\tsubmitBubbles: true,\r\n\t\tchangeBubbles: true,\r\n\t\tfocusinBubbles: false,\r\n\t\tdeleteExpando: true,\r\n\t\tnoCloneEvent: true,\r\n\t\tinlineBlockNeedsLayout: false,\r\n\t\tshrinkWrapBlocks: false,\r\n\t\treliableMarginRight: true,\r\n\t\tboxSizingReliable: true,\r\n\t\tpixelPosition: false\r\n\t};\r\n\r\n\t// Make sure checked status is properly cloned\r\n\tinput.checked = true;\r\n\tsupport.noCloneChecked = input.cloneNode( true ).checked;\r\n\r\n\t// Make sure that the options inside disabled selects aren't marked as disabled\r\n\t// (WebKit marks them as disabled)\r\n\tselect.disabled = true;\r\n\tsupport.optDisabled = !opt.disabled;\r\n\r\n\t// Test to see if it's possible to delete an expando from an element\r\n\t// Fails in Internet Explorer\r\n\ttry {\r\n\t\tdelete div.test;\r\n\t} catch( e ) {\r\n\t\tsupport.deleteExpando = false;\r\n\t}\r\n\r\n\tif ( !div.addEventListener && div.attachEvent && div.fireEvent ) {\r\n\t\tdiv.attachEvent( \"onclick\", clickFn = function() {\r\n\t\t\t// Cloning a node shouldn't copy over any\r\n\t\t\t// bound event handlers (IE does this)\r\n\t\t\tsupport.noCloneEvent = false;\r\n\t\t});\r\n\t\tdiv.cloneNode( true ).fireEvent(\"onclick\");\r\n\t\tdiv.detachEvent( \"onclick\", clickFn );\r\n\t}\r\n\r\n\t// Check if a radio maintains its value\r\n\t// after being appended to the DOM\r\n\tinput = document.createElement(\"input\");\r\n\tinput.value = \"t\";\r\n\tinput.setAttribute( \"type\", \"radio\" );\r\n\tsupport.radioValue = input.value === \"t\";\r\n\r\n\tinput.setAttribute( \"checked\", \"checked\" );\r\n\r\n\t// #11217 - WebKit loses check when the name is after the checked attribute\r\n\tinput.setAttribute( \"name\", \"t\" );\r\n\r\n\tdiv.appendChild( input );\r\n\tfragment = document.createDocumentFragment();\r\n\tfragment.appendChild( div.lastChild );\r\n\r\n\t// WebKit doesn't clone checked state correctly in fragments\r\n\tsupport.checkClone = fragment.cloneNode( true ).cloneNode( true ).lastChild.checked;\r\n\r\n\t// Check if a disconnected checkbox will retain its checked\r\n\t// value of true after appended to the DOM (IE6/7)\r\n\tsupport.appendChecked = input.checked;\r\n\r\n\tfragment.removeChild( input );\r\n\tfragment.appendChild( div );\r\n\r\n\t// Technique from Juriy Zaytsev\r\n\t// http://perfectionkills.com/detecting-event-support-without-browser-sniffing/\r\n\t// We only care about the case where non-standard event systems\r\n\t// are used, namely in IE. Short-circuiting here helps us to\r\n\t// avoid an eval call (in setAttribute) which can cause CSP\r\n\t// to go haywire. See: https://developer.mozilla.org/en/Security/CSP\r\n\tif ( div.attachEvent ) {\r\n\t\tfor ( i in {\r\n\t\t\tsubmit: true,\r\n\t\t\tchange: true,\r\n\t\t\tfocusin: true\r\n\t\t}) {\r\n\t\t\teventName = \"on\" + i;\r\n\t\t\tisSupported = ( eventName in div );\r\n\t\t\tif ( !isSupported ) {\r\n\t\t\t\tdiv.setAttribute( eventName, \"return;\" );\r\n\t\t\t\tisSupported = ( typeof div[ eventName ] === \"function\" );\r\n\t\t\t}\r\n\t\t\tsupport[ i + \"Bubbles\" ] = isSupported;\r\n\t\t}\r\n\t}\r\n\r\n\t// Run tests that need a body at doc ready\r\n\tjQuery(function() {\r\n\t\tvar container, div, tds, marginDiv,\r\n\t\t\tdivReset = \"padding:0;margin:0;border:0;display:block;overflow:hidden;\",\r\n\t\t\tbody = document.getElementsByTagName(\"body\")[0];\r\n\r\n\t\tif ( !body ) {\r\n\t\t\t// Return for frameset docs that don't have a body\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcontainer = document.createElement(\"div\");\r\n\t\tcontainer.style.cssText = \"visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px\";\r\n\t\tbody.insertBefore( container, body.firstChild );\r\n\r\n\t\t// Construct the test element\r\n\t\tdiv = document.createElement(\"div\");\r\n\t\tcontainer.appendChild( div );\r\n\r\n\t\t// Check if table cells still have offsetWidth/Height when they are set\r\n\t\t// to display:none and there are still other visible table cells in a\r\n\t\t// table row; if so, offsetWidth/Height are not reliable for use when\r\n\t\t// determining if an element has been hidden directly using\r\n\t\t// display:none (it is still safe to use offsets if a parent element is\r\n\t\t// hidden; don safety goggles and see bug #4512 for more information).\r\n\t\t// (only IE 8 fails this test)\r\n\t\tdiv.innerHTML = \"<table><tr><td></td><td>t</td></tr></table>\";\r\n\t\ttds = div.getElementsByTagName(\"td\");\r\n\t\ttds[ 0 ].style.cssText = \"padding:0;margin:0;border:0;display:none\";\r\n\t\tisSupported = ( tds[ 0 ].offsetHeight === 0 );\r\n\r\n\t\ttds[ 0 ].style.display = \"\";\r\n\t\ttds[ 1 ].style.display = \"none\";\r\n\r\n\t\t// Check if empty table cells still have offsetWidth/Height\r\n\t\t// (IE <= 8 fail this test)\r\n\t\tsupport.reliableHiddenOffsets = isSupported && ( tds[ 0 ].offsetHeight === 0 );\r\n\r\n\t\t// Check box-sizing and margin behavior\r\n\t\tdiv.innerHTML = \"\";\r\n\t\tdiv.style.cssText = \"box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;\";\r\n\t\tsupport.boxSizing = ( div.offsetWidth === 4 );\r\n\t\tsupport.doesNotIncludeMarginInBodyOffset = ( body.offsetTop !== 1 );\r\n\r\n\t\t// NOTE: To any future maintainer, window.getComputedStyle was used here\r\n\t\t// instead of getComputedStyle because it gave a better gzip size.\r\n\t\t// The difference between window.getComputedStyle and getComputedStyle is\r\n\t\t// 7 bytes\r\n\t\tif ( window.getComputedStyle ) {\r\n\t\t\tsupport.pixelPosition = ( window.getComputedStyle( div, null ) || {} ).top !== \"1%\";\r\n\t\t\tsupport.boxSizingReliable = ( window.getComputedStyle( div, null ) || { width: \"4px\" } ).width === \"4px\";\r\n\r\n\t\t\t// Check if div with explicit width and no margin-right incorrectly\r\n\t\t\t// gets computed margin-right based on width of container. For more\r\n\t\t\t// info see bug #3333\r\n\t\t\t// Fails in WebKit before Feb 2011 nightlies\r\n\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\r\n\t\t\tmarginDiv = document.createElement(\"div\");\r\n\t\t\tmarginDiv.style.cssText = div.style.cssText = divReset;\r\n\t\t\tmarginDiv.style.marginRight = marginDiv.style.width = \"0\";\r\n\t\t\tdiv.style.width = \"1px\";\r\n\t\t\tdiv.appendChild( marginDiv );\r\n\t\t\tsupport.reliableMarginRight =\r\n\t\t\t\t!parseFloat( ( window.getComputedStyle( marginDiv, null ) || {} ).marginRight );\r\n\t\t}\r\n\r\n\t\tif ( typeof div.style.zoom !== \"undefined\" ) {\r\n\t\t\t// Check if natively block-level elements act like inline-block\r\n\t\t\t// elements when setting their display to 'inline' and giving\r\n\t\t\t// them layout\r\n\t\t\t// (IE < 8 does this)\r\n\t\t\tdiv.innerHTML = \"\";\r\n\t\t\tdiv.style.cssText = divReset + \"width:1px;padding:1px;display:inline;zoom:1\";\r\n\t\t\tsupport.inlineBlockNeedsLayout = ( div.offsetWidth === 3 );\r\n\r\n\t\t\t// Check if elements with layout shrink-wrap their children\r\n\t\t\t// (IE 6 does this)\r\n\t\t\tdiv.style.display = \"block\";\r\n\t\t\tdiv.style.overflow = \"visible\";\r\n\t\t\tdiv.innerHTML = \"<div></div>\";\r\n\t\t\tdiv.firstChild.style.width = \"5px\";\r\n\t\t\tsupport.shrinkWrapBlocks = ( div.offsetWidth !== 3 );\r\n\r\n\t\t\tcontainer.style.zoom = 1;\r\n\t\t}\r\n\r\n\t\t// Null elements to avoid leaks in IE\r\n\t\tbody.removeChild( container );\r\n\t\tcontainer = div = tds = marginDiv = null;\r\n\t});\r\n\r\n\t// Null elements to avoid leaks in IE\r\n\tfragment.removeChild( div );\r\n\tall = a = select = opt = input = fragment = div = null;\r\n\r\n\treturn support;\r\n})();\r\nvar rbrace = /^(?:\\{.*\\}|\\[.*\\])$/,\r\n\trmultiDash = /([A-Z])/g;\r\n\r\njQuery.extend({\r\n\tcache: {},\r\n\r\n\tdeletedIds: [],\r\n\r\n\t// Please use with caution\r\n\tuuid: 0,\r\n\r\n\t// Unique for each copy of jQuery on the page\r\n\t// Non-digits removed to match rinlinejQuery\r\n\texpando: \"jQuery\" + ( jQuery.fn.jquery + Math.random() ).replace( /\\D/g, \"\" ),\r\n\r\n\t// The following elements throw uncatchable exceptions if you\r\n\t// attempt to add expando properties to them.\r\n\tnoData: {\r\n\t\t\"embed\": true,\r\n\t\t// Ban all objects except for Flash (which handle expandos)\r\n\t\t\"object\": \"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",\r\n\t\t\"applet\": true\r\n\t},\r\n\r\n\thasData: function( elem ) {\r\n\t\telem = elem.nodeType ? jQuery.cache[ elem[jQuery.expando] ] : elem[ jQuery.expando ];\r\n\t\treturn !!elem && !isEmptyDataObject( elem );\r\n\t},\r\n\r\n\tdata: function( elem, name, data, pvt /* Internal Use Only */ ) {\r\n\t\tif ( !jQuery.acceptData( elem ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar thisCache, ret,\r\n\t\t\tinternalKey = jQuery.expando,\r\n\t\t\tgetByName = typeof name === \"string\",\r\n\r\n\t\t\t// We have to handle DOM nodes and JS objects differently because IE6-7\r\n\t\t\t// can't GC object references properly across the DOM-JS boundary\r\n\t\t\tisNode = elem.nodeType,\r\n\r\n\t\t\t// Only DOM nodes need the global jQuery cache; JS object data is\r\n\t\t\t// attached directly to the object so GC can occur automatically\r\n\t\t\tcache = isNode ? jQuery.cache : elem,\r\n\r\n\t\t\t// Only defining an ID for JS objects if its cache already exists allows\r\n\t\t\t// the code to shortcut on the same path as a DOM node with no cache\r\n\t\t\tid = isNode ? elem[ internalKey ] : elem[ internalKey ] && internalKey;\r\n\r\n\t\t// Avoid doing any more work than we need to when trying to get data on an\r\n\t\t// object that has no data at all\r\n\t\tif ( (!id || !cache[id] || (!pvt && !cache[id].data)) && getByName && data === undefined ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( !id ) {\r\n\t\t\t// Only DOM nodes need a new unique ID for each element since their data\r\n\t\t\t// ends up in the global cache\r\n\t\t\tif ( isNode ) {\r\n\t\t\t\telem[ internalKey ] = id = jQuery.deletedIds.pop() || ++jQuery.uuid;\r\n\t\t\t} else {\r\n\t\t\t\tid = internalKey;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( !cache[ id ] ) {\r\n\t\t\tcache[ id ] = {};\r\n\r\n\t\t\t// Avoids exposing jQuery metadata on plain JS objects when the object\r\n\t\t\t// is serialized using JSON.stringify\r\n\t\t\tif ( !isNode ) {\r\n\t\t\t\tcache[ id ].toJSON = jQuery.noop;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// An object can be passed to jQuery.data instead of a key/value pair; this gets\r\n\t\t// shallow copied over onto the existing cache\r\n\t\tif ( typeof name === \"object\" || typeof name === \"function\" ) {\r\n\t\t\tif ( pvt ) {\r\n\t\t\t\tcache[ id ] = jQuery.extend( cache[ id ], name );\r\n\t\t\t} else {\r\n\t\t\t\tcache[ id ].data = jQuery.extend( cache[ id ].data, name );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthisCache = cache[ id ];\r\n\r\n\t\t// jQuery data() is stored in a separate object inside the object's internal data\r\n\t\t// cache in order to avoid key collisions between internal data and user-defined\r\n\t\t// data.\r\n\t\tif ( !pvt ) {\r\n\t\t\tif ( !thisCache.data ) {\r\n\t\t\t\tthisCache.data = {};\r\n\t\t\t}\r\n\r\n\t\t\tthisCache = thisCache.data;\r\n\t\t}\r\n\r\n\t\tif ( data !== undefined ) {\r\n\t\t\tthisCache[ jQuery.camelCase( name ) ] = data;\r\n\t\t}\r\n\r\n\t\t// Check for both converted-to-camel and non-converted data property names\r\n\t\t// If a data property was specified\r\n\t\tif ( getByName ) {\r\n\r\n\t\t\t// First Try to find as-is property data\r\n\t\t\tret = thisCache[ name ];\r\n\r\n\t\t\t// Test for null|undefined property data\r\n\t\t\tif ( ret == null ) {\r\n\r\n\t\t\t\t// Try to find the camelCased property\r\n\t\t\t\tret = thisCache[ jQuery.camelCase( name ) ];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tret = thisCache;\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\tremoveData: function( elem, name, pvt /* Internal Use Only */ ) {\r\n\t\tif ( !jQuery.acceptData( elem ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar thisCache, i, l,\r\n\r\n\t\t\tisNode = elem.nodeType,\r\n\r\n\t\t\t// See jQuery.data for more information\r\n\t\t\tcache = isNode ? jQuery.cache : elem,\r\n\t\t\tid = isNode ? elem[ jQuery.expando ] : jQuery.expando;\r\n\r\n\t\t// If there is already no cache entry for this object, there is no\r\n\t\t// purpose in continuing\r\n\t\tif ( !cache[ id ] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( name ) {\r\n\r\n\t\t\tthisCache = pvt ? cache[ id ] : cache[ id ].data;\r\n\r\n\t\t\tif ( thisCache ) {\r\n\r\n\t\t\t\t// Support array or space separated string names for data keys\r\n\t\t\t\tif ( !jQuery.isArray( name ) ) {\r\n\r\n\t\t\t\t\t// try the string as a key before any manipulation\r\n\t\t\t\t\tif ( name in thisCache ) {\r\n\t\t\t\t\t\tname = [ name ];\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// split the camel cased version by spaces unless a key with the spaces exists\r\n\t\t\t\t\t\tname = jQuery.camelCase( name );\r\n\t\t\t\t\t\tif ( name in thisCache ) {\r\n\t\t\t\t\t\t\tname = [ name ];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tname = name.split(\" \");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( i = 0, l = name.length; i < l; i++ ) {\r\n\t\t\t\t\tdelete thisCache[ name[i] ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If there is no data left in the cache, we want to continue\r\n\t\t\t\t// and let the cache object itself get destroyed\r\n\t\t\t\tif ( !( pvt ? isEmptyDataObject : jQuery.isEmptyObject )( thisCache ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// See jQuery.data for more information\r\n\t\tif ( !pvt ) {\r\n\t\t\tdelete cache[ id ].data;\r\n\r\n\t\t\t// Don't destroy the parent cache unless the internal data object\r\n\t\t\t// had been the only thing left in it\r\n\t\t\tif ( !isEmptyDataObject( cache[ id ] ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Destroy the cache\r\n\t\tif ( isNode ) {\r\n\t\t\tjQuery.cleanData( [ elem ], true );\r\n\r\n\t\t// Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)\r\n\t\t} else if ( jQuery.support.deleteExpando || cache != cache.window ) {\r\n\t\t\tdelete cache[ id ];\r\n\r\n\t\t// When all else fails, null\r\n\t\t} else {\r\n\t\t\tcache[ id ] = null;\r\n\t\t}\r\n\t},\r\n\r\n\t// For internal use only.\r\n\t_data: function( elem, name, data ) {\r\n\t\treturn jQuery.data( elem, name, data, true );\r\n\t},\r\n\r\n\t// A method for determining if a DOM node can handle the data expando\r\n\tacceptData: function( elem ) {\r\n\t\tvar noData = elem.nodeName && jQuery.noData[ elem.nodeName.toLowerCase() ];\r\n\r\n\t\t// nodes accept data unless otherwise specified; rejection can be conditional\r\n\t\treturn !noData || noData !== true && elem.getAttribute(\"classid\") === noData;\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\tdata: function( key, value ) {\r\n\t\tvar parts, part, attr, name, l,\r\n\t\t\telem = this[0],\r\n\t\t\ti = 0,\r\n\t\t\tdata = null;\r\n\r\n\t\t// Gets all values\r\n\t\tif ( key === undefined ) {\r\n\t\t\tif ( this.length ) {\r\n\t\t\t\tdata = jQuery.data( elem );\r\n\r\n\t\t\t\tif ( elem.nodeType === 1 && !jQuery._data( elem, \"parsedAttrs\" ) ) {\r\n\t\t\t\t\tattr = elem.attributes;\r\n\t\t\t\t\tfor ( l = attr.length; i < l; i++ ) {\r\n\t\t\t\t\t\tname = attr[i].name;\r\n\r\n\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\r\n\t\t\t\t\t\t\tname = jQuery.camelCase( name.substring(5) );\r\n\r\n\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tjQuery._data( elem, \"parsedAttrs\", true );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\t// Sets multiple values\r\n\t\tif ( typeof key === \"object\" ) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tjQuery.data( this, key );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tparts = key.split( \".\", 2 );\r\n\t\tparts[1] = parts[1] ? \".\" + parts[1] : \"\";\r\n\t\tpart = parts[1] + \"!\";\r\n\r\n\t\treturn jQuery.access( this, function( value ) {\r\n\r\n\t\t\tif ( value === undefined ) {\r\n\t\t\t\tdata = this.triggerHandler( \"getData\" + part, [ parts[0] ] );\r\n\r\n\t\t\t\t// Try to fetch any internally stored data first\r\n\t\t\t\tif ( data === undefined && elem ) {\r\n\t\t\t\t\tdata = jQuery.data( elem, key );\r\n\t\t\t\t\tdata = dataAttr( elem, key, data );\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data === undefined && parts[1] ?\r\n\t\t\t\t\tthis.data( parts[0] ) :\r\n\t\t\t\t\tdata;\r\n\t\t\t}\r\n\r\n\t\t\tparts[1] = value;\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar self = jQuery( this );\r\n\r\n\t\t\t\tself.triggerHandler( \"setData\" + part, parts );\r\n\t\t\t\tjQuery.data( this, key, value );\r\n\t\t\t\tself.triggerHandler( \"changeData\" + part, parts );\r\n\t\t\t});\r\n\t\t}, null, value, arguments.length > 1, null, false );\r\n\t},\r\n\r\n\tremoveData: function( key ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.removeData( this, key );\r\n\t\t});\r\n\t}\r\n});\r\n\r\nfunction dataAttr( elem, key, data ) {\r\n\t// If nothing was found internally, try to fetch any\r\n\t// data from the HTML5 data-* attribute\r\n\tif ( data === undefined && elem.nodeType === 1 ) {\r\n\r\n\t\tvar name = \"data-\" + key.replace( rmultiDash, \"-$1\" ).toLowerCase();\r\n\r\n\t\tdata = elem.getAttribute( name );\r\n\r\n\t\tif ( typeof data === \"string\" ) {\r\n\t\t\ttry {\r\n\t\t\t\tdata = data === \"true\" ? true :\r\n\t\t\t\tdata === \"false\" ? false :\r\n\t\t\t\tdata === \"null\" ? null :\r\n\t\t\t\t// Only convert to a number if it doesn't change the string\r\n\t\t\t\t+data + \"\" === data ? +data :\r\n\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\r\n\t\t\t\t\tdata;\r\n\t\t\t} catch( e ) {}\r\n\r\n\t\t\t// Make sure we set the data so it isn't changed later\r\n\t\t\tjQuery.data( elem, key, data );\r\n\r\n\t\t} else {\r\n\t\t\tdata = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\n// checks a cache object for emptiness\r\nfunction isEmptyDataObject( obj ) {\r\n\tvar name;\r\n\tfor ( name in obj ) {\r\n\r\n\t\t// if the public data object is empty, the private is still empty\r\n\t\tif ( name === \"data\" && jQuery.isEmptyObject( obj[name] ) ) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif ( name !== \"toJSON\" ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}\r\njQuery.extend({\r\n\tqueue: function( elem, type, data ) {\r\n\t\tvar queue;\r\n\r\n\t\tif ( elem ) {\r\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\r\n\t\t\tqueue = jQuery._data( elem, type );\r\n\r\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\r\n\t\t\tif ( data ) {\r\n\t\t\t\tif ( !queue || jQuery.isArray(data) ) {\r\n\t\t\t\t\tqueue = jQuery._data( elem, type, jQuery.makeArray(data) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tqueue.push( data );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn queue || [];\r\n\t\t}\r\n\t},\r\n\r\n\tdequeue: function( elem, type ) {\r\n\t\ttype = type || \"fx\";\r\n\r\n\t\tvar queue = jQuery.queue( elem, type ),\r\n\t\t\tfn = queue.shift(),\r\n\t\t\thooks = jQuery._queueHooks( elem, type ),\r\n\t\t\tnext = function() {\r\n\t\t\t\tjQuery.dequeue( elem, type );\r\n\t\t\t};\r\n\r\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\r\n\t\tif ( fn === \"inprogress\" ) {\r\n\t\t\tfn = queue.shift();\r\n\t\t}\r\n\r\n\t\tif ( fn ) {\r\n\r\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\r\n\t\t\t// automatically dequeued\r\n\t\t\tif ( type === \"fx\" ) {\r\n\t\t\t\tqueue.unshift( \"inprogress\" );\r\n\t\t\t}\r\n\r\n\t\t\t// clear up the last queue stop function\r\n\t\t\tdelete hooks.stop;\r\n\t\t\tfn.call( elem, next, hooks );\r\n\t\t}\r\n\t\tif ( !queue.length && hooks ) {\r\n\t\t\thooks.empty.fire();\r\n\t\t}\r\n\t},\r\n\r\n\t// not intended for public consumption - generates a queueHooks object, or returns the current one\r\n\t_queueHooks: function( elem, type ) {\r\n\t\tvar key = type + \"queueHooks\";\r\n\t\treturn jQuery._data( elem, key ) || jQuery._data( elem, key, {\r\n\t\t\tempty: jQuery.Callbacks(\"once memory\").add(function() {\r\n\t\t\t\tjQuery.removeData( elem, type + \"queue\", true );\r\n\t\t\t\tjQuery.removeData( elem, key, true );\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\tqueue: function( type, data ) {\r\n\t\tvar setter = 2;\r\n\r\n\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\tdata = type;\r\n\t\t\ttype = \"fx\";\r\n\t\t\tsetter--;\r\n\t\t}\r\n\r\n\t\tif ( arguments.length < setter ) {\r\n\t\t\treturn jQuery.queue( this[0], type );\r\n\t\t}\r\n\r\n\t\treturn data === undefined ?\r\n\t\t\tthis :\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\r\n\r\n\t\t\t\t// ensure a hooks for this queue\r\n\t\t\t\tjQuery._queueHooks( this, type );\r\n\r\n\t\t\t\tif ( type === \"fx\" && queue[0] !== \"inprogress\" ) {\r\n\t\t\t\t\tjQuery.dequeue( this, type );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t},\r\n\tdequeue: function( type ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.dequeue( this, type );\r\n\t\t});\r\n\t},\r\n\t// Based off of the plugin by Clint Helfers, with permission.\r\n\t// http://blindsignals.com/index.php/2009/07/jquery-delay/\r\n\tdelay: function( time, type ) {\r\n\t\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\r\n\t\ttype = type || \"fx\";\r\n\r\n\t\treturn this.queue( type, function( next, hooks ) {\r\n\t\t\tvar timeout = setTimeout( next, time );\r\n\t\t\thooks.stop = function() {\r\n\t\t\t\tclearTimeout( timeout );\r\n\t\t\t};\r\n\t\t});\r\n\t},\r\n\tclearQueue: function( type ) {\r\n\t\treturn this.queue( type || \"fx\", [] );\r\n\t},\r\n\t// Get a promise resolved when queues of a certain type\r\n\t// are emptied (fx is the type by default)\r\n\tpromise: function( type, obj ) {\r\n\t\tvar tmp,\r\n\t\t\tcount = 1,\r\n\t\t\tdefer = jQuery.Deferred(),\r\n\t\t\telements = this,\r\n\t\t\ti = this.length,\r\n\t\t\tresolve = function() {\r\n\t\t\t\tif ( !( --count ) ) {\r\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\tobj = type;\r\n\t\t\ttype = undefined;\r\n\t\t}\r\n\t\ttype = type || \"fx\";\r\n\r\n\t\twhile( i-- ) {\r\n\t\t\tif ( (tmp = jQuery._data( elements[ i ], type + \"queueHooks\" )) && tmp.empty ) {\r\n\t\t\t\tcount++;\r\n\t\t\t\ttmp.empty.add( resolve );\r\n\t\t\t}\r\n\t\t}\r\n\t\tresolve();\r\n\t\treturn defer.promise( obj );\r\n\t}\r\n});\r\nvar nodeHook, boolHook, fixSpecified,\r\n\trclass = /[\\t\\r\\n]/g,\r\n\trreturn = /\\r/g,\r\n\trtype = /^(?:button|input)$/i,\r\n\trfocusable = /^(?:button|input|object|select|textarea)$/i,\r\n\trclickable = /^a(?:rea|)$/i,\r\n\trboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,\r\n\tgetSetAttribute = jQuery.support.getSetAttribute;\r\n\r\njQuery.fn.extend({\r\n\tattr: function( name, value ) {\r\n\t\treturn jQuery.access( this, jQuery.attr, name, value, arguments.length > 1 );\r\n\t},\r\n\r\n\tremoveAttr: function( name ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.removeAttr( this, name );\r\n\t\t});\r\n\t},\r\n\r\n\tprop: function( name, value ) {\r\n\t\treturn jQuery.access( this, jQuery.prop, name, value, arguments.length > 1 );\r\n\t},\r\n\r\n\tremoveProp: function( name ) {\r\n\t\tname = jQuery.propFix[ name ] || name;\r\n\t\treturn this.each(function() {\r\n\t\t\t// try/catch handles cases where IE balks (such as removing a property on window)\r\n\t\t\ttry {\r\n\t\t\t\tthis[ name ] = undefined;\r\n\t\t\t\tdelete this[ name ];\r\n\t\t\t} catch( e ) {}\r\n\t\t});\r\n\t},\r\n\r\n\taddClass: function( value ) {\r\n\t\tvar classNames, i, l, elem,\r\n\t\t\tsetClass, c, cl;\r\n\r\n\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\treturn this.each(function( j ) {\r\n\t\t\t\tjQuery( this ).addClass( value.call(this, j, this.className) );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( value && typeof value === \"string\" ) {\r\n\t\t\tclassNames = value.split( core_rspace );\r\n\r\n\t\t\tfor ( i = 0, l = this.length; i < l; i++ ) {\r\n\t\t\t\telem = this[ i ];\r\n\r\n\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\tif ( !elem.className && classNames.length === 1 ) {\r\n\t\t\t\t\t\telem.className = value;\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetClass = \" \" + elem.className + \" \";\r\n\r\n\t\t\t\t\t\tfor ( c = 0, cl = classNames.length; c < cl; c++ ) {\r\n\t\t\t\t\t\t\tif ( !~setClass.indexOf( \" \" + classNames[ c ] + \" \" ) ) {\r\n\t\t\t\t\t\t\t\tsetClass += classNames[ c ] + \" \";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telem.className = jQuery.trim( setClass );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveClass: function( value ) {\r\n\t\tvar removes, className, elem, c, cl, i, l;\r\n\r\n\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\treturn this.each(function( j ) {\r\n\t\t\t\tjQuery( this ).removeClass( value.call(this, j, this.className) );\r\n\t\t\t});\r\n\t\t}\r\n\t\tif ( (value && typeof value === \"string\") || value === undefined ) {\r\n\t\t\tremoves = ( value || \"\" ).split( core_rspace );\r\n\r\n\t\t\tfor ( i = 0, l = this.length; i < l; i++ ) {\r\n\t\t\t\telem = this[ i ];\r\n\t\t\t\tif ( elem.nodeType === 1 && elem.className ) {\r\n\r\n\t\t\t\t\tclassName = (\" \" + elem.className + \" \").replace( rclass, \" \" );\r\n\r\n\t\t\t\t\t// loop over each item in the removal list\r\n\t\t\t\t\tfor ( c = 0, cl = removes.length; c < cl; c++ ) {\r\n\t\t\t\t\t\t// Remove until there is nothing to remove,\r\n\t\t\t\t\t\twhile ( className.indexOf(\" \" + removes[ c ] + \" \") > -1 ) {\r\n\t\t\t\t\t\t\tclassName = className.replace( \" \" + removes[ c ] + \" \" , \" \" );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telem.className = value ? jQuery.trim( className ) : \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\ttoggleClass: function( value, stateVal ) {\r\n\t\tvar type = typeof value,\r\n\t\t\tisBool = typeof stateVal === \"boolean\";\r\n\r\n\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\treturn this.each(function( i ) {\r\n\t\t\t\tjQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tif ( type === \"string\" ) {\r\n\t\t\t\t// toggle individual class names\r\n\t\t\t\tvar className,\r\n\t\t\t\t\ti = 0,\r\n\t\t\t\t\tself = jQuery( this ),\r\n\t\t\t\t\tstate = stateVal,\r\n\t\t\t\t\tclassNames = value.split( core_rspace );\r\n\r\n\t\t\t\twhile ( (className = classNames[ i++ ]) ) {\r\n\t\t\t\t\t// check each className given, space separated list\r\n\t\t\t\t\tstate = isBool ? state : !self.hasClass( className );\r\n\t\t\t\t\tself[ state ? \"addClass\" : \"removeClass\" ]( className );\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( type === \"undefined\" || type === \"boolean\" ) {\r\n\t\t\t\tif ( this.className ) {\r\n\t\t\t\t\t// store className if set\r\n\t\t\t\t\tjQuery._data( this, \"__className__\", this.className );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// toggle whole className\r\n\t\t\t\tthis.className = this.className || value === false ? \"\" : jQuery._data( this, \"__className__\" ) || \"\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\thasClass: function( selector ) {\r\n\t\tvar className = \" \" + selector + \" \",\r\n\t\t\ti = 0,\r\n\t\t\tl = this.length;\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\tif ( this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf( className ) > -1 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\tval: function( value ) {\r\n\t\tvar hooks, ret, isFunction,\r\n\t\t\telem = this[0];\r\n\r\n\t\tif ( !arguments.length ) {\r\n\t\t\tif ( elem ) {\r\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];\r\n\r\n\t\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, \"value\" )) !== undefined ) {\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tret = elem.value;\r\n\r\n\t\t\t\treturn typeof ret === \"string\" ?\r\n\t\t\t\t\t// handle most common string cases\r\n\t\t\t\t\tret.replace(rreturn, \"\") :\r\n\t\t\t\t\t// handle cases where value is null/undef or number\r\n\t\t\t\t\tret == null ? \"\" : ret;\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tisFunction = jQuery.isFunction( value );\r\n\r\n\t\treturn this.each(function( i ) {\r\n\t\t\tvar val,\r\n\t\t\t\tself = jQuery(this);\r\n\r\n\t\t\tif ( this.nodeType !== 1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( isFunction ) {\r\n\t\t\t\tval = value.call( this, i, self.val() );\r\n\t\t\t} else {\r\n\t\t\t\tval = value;\r\n\t\t\t}\r\n\r\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\r\n\t\t\tif ( val == null ) {\r\n\t\t\t\tval = \"\";\r\n\t\t\t} else if ( typeof val === \"number\" ) {\r\n\t\t\t\tval += \"\";\r\n\t\t\t} else if ( jQuery.isArray( val ) ) {\r\n\t\t\t\tval = jQuery.map(val, function ( value ) {\r\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\r\n\r\n\t\t\t// If set returns undefined, fall back to normal setting\r\n\t\t\tif ( !hooks || !(\"set\" in hooks) || hooks.set( this, val, \"value\" ) === undefined ) {\r\n\t\t\t\tthis.value = val;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.extend({\r\n\tvalHooks: {\r\n\t\toption: {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\t// attributes.value is undefined in Blackberry 4.7 but\r\n\t\t\t\t// uses .value. See #6932\r\n\t\t\t\tvar val = elem.attributes.value;\r\n\t\t\t\treturn !val || val.specified ? elem.value : elem.text;\r\n\t\t\t}\r\n\t\t},\r\n\t\tselect: {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\tvar value, i, max, option,\r\n\t\t\t\t\tindex = elem.selectedIndex,\r\n\t\t\t\t\tvalues = [],\r\n\t\t\t\t\toptions = elem.options,\r\n\t\t\t\t\tone = elem.type === \"select-one\";\r\n\r\n\t\t\t\t// Nothing was selected\r\n\t\t\t\tif ( index < 0 ) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Loop through all the selected options\r\n\t\t\t\ti = one ? index : 0;\r\n\t\t\t\tmax = one ? index + 1 : options.length;\r\n\t\t\t\tfor ( ; i < max; i++ ) {\r\n\t\t\t\t\toption = options[ i ];\r\n\r\n\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\r\n\t\t\t\t\tif ( option.selected && (jQuery.support.optDisabled ? !option.disabled : option.getAttribute(\"disabled\") === null) &&\r\n\t\t\t\t\t\t\t(!option.parentNode.disabled || !jQuery.nodeName( option.parentNode, \"optgroup\" )) ) {\r\n\r\n\t\t\t\t\t\t// Get the specific value for the option\r\n\t\t\t\t\t\tvalue = jQuery( option ).val();\r\n\r\n\t\t\t\t\t\t// We don't need an array for one selects\r\n\t\t\t\t\t\tif ( one ) {\r\n\t\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Multi-Selects return an array\r\n\t\t\t\t\t\tvalues.push( value );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fixes Bug #2551 -- select.val() broken in IE after form.reset()\r\n\t\t\t\tif ( one && !values.length && options.length ) {\r\n\t\t\t\t\treturn jQuery( options[ index ] ).val();\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn values;\r\n\t\t\t},\r\n\r\n\t\t\tset: function( elem, value ) {\r\n\t\t\t\tvar values = jQuery.makeArray( value );\r\n\r\n\t\t\t\tjQuery(elem).find(\"option\").each(function() {\r\n\t\t\t\t\tthis.selected = jQuery.inArray( jQuery(this).val(), values ) >= 0;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif ( !values.length ) {\r\n\t\t\t\t\telem.selectedIndex = -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn values;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Unused in 1.8, left in so attrFn-stabbers won't die; remove in 1.9\r\n\tattrFn: {},\r\n\r\n\tattr: function( elem, name, value, pass ) {\r\n\t\tvar ret, hooks, notxml,\r\n\t\t\tnType = elem.nodeType;\r\n\r\n\t\t// don't get/set attributes on text, comment and attribute nodes\r\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( pass && jQuery.isFunction( jQuery.fn[ name ] ) ) {\r\n\t\t\treturn jQuery( elem )[ name ]( value );\r\n\t\t}\r\n\r\n\t\t// Fallback to prop when attributes are not supported\r\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\r\n\t\t\treturn jQuery.prop( elem, name, value );\r\n\t\t}\r\n\r\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\r\n\r\n\t\t// All attributes are lowercase\r\n\t\t// Grab necessary hook if one is defined\r\n\t\tif ( notxml ) {\r\n\t\t\tname = name.toLowerCase();\r\n\t\t\thooks = jQuery.attrHooks[ name ] || ( rboolean.test( name ) ? boolHook : nodeHook );\r\n\t\t}\r\n\r\n\t\tif ( value !== undefined ) {\r\n\r\n\t\t\tif ( value === null ) {\r\n\t\t\t\tjQuery.removeAttr( elem, name );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t} else if ( hooks && \"set\" in hooks && notxml && (ret = hooks.set( elem, value, name )) !== undefined ) {\r\n\t\t\t\treturn ret;\r\n\r\n\t\t\t} else {\r\n\t\t\t\telem.setAttribute( name, \"\" + value );\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\r\n\t\t} else if ( hooks && \"get\" in hooks && notxml && (ret = hooks.get( elem, name )) !== null ) {\r\n\t\t\treturn ret;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tret = elem.getAttribute( name );\r\n\r\n\t\t\t// Non-existent attributes return null, we normalize to undefined\r\n\t\t\treturn ret === null ?\r\n\t\t\t\tundefined :\r\n\t\t\t\tret;\r\n\t\t}\r\n\t},\r\n\r\n\tremoveAttr: function( elem, value ) {\r\n\t\tvar propName, attrNames, name, isBool,\r\n\t\t\ti = 0;\r\n\r\n\t\tif ( value && elem.nodeType === 1 ) {\r\n\r\n\t\t\tattrNames = value.split( core_rspace );\r\n\r\n\t\t\tfor ( ; i < attrNames.length; i++ ) {\r\n\t\t\t\tname = attrNames[ i ];\r\n\r\n\t\t\t\tif ( name ) {\r\n\t\t\t\t\tpropName = jQuery.propFix[ name ] || name;\r\n\t\t\t\t\tisBool = rboolean.test( name );\r\n\r\n\t\t\t\t\t// See #9699 for explanation of this approach (setting first, then removal)\r\n\t\t\t\t\t// Do not do this for boolean attributes (see #10870)\r\n\t\t\t\t\tif ( !isBool ) {\r\n\t\t\t\t\t\tjQuery.attr( elem, name, \"\" );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telem.removeAttribute( getSetAttribute ? name : propName );\r\n\r\n\t\t\t\t\t// Set corresponding property to false for boolean attributes\r\n\t\t\t\t\tif ( isBool && propName in elem ) {\r\n\t\t\t\t\t\telem[ propName ] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tattrHooks: {\r\n\t\ttype: {\r\n\t\t\tset: function( elem, value ) {\r\n\t\t\t\t// We can't allow the type property to be changed (since it causes problems in IE)\r\n\t\t\t\tif ( rtype.test( elem.nodeName ) && elem.parentNode ) {\r\n\t\t\t\t\tjQuery.error( \"type property can't be changed\" );\r\n\t\t\t\t} else if ( !jQuery.support.radioValue && value === \"radio\" && jQuery.nodeName(elem, \"input\") ) {\r\n\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE6-9\r\n\t\t\t\t\t// Reset value to it's default in case type is set after value\r\n\t\t\t\t\t// This is for element creation\r\n\t\t\t\t\tvar val = elem.value;\r\n\t\t\t\t\telem.setAttribute( \"type\", value );\r\n\t\t\t\t\tif ( val ) {\r\n\t\t\t\t\t\telem.value = val;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Use the value property for back compat\r\n\t\t// Use the nodeHook for button elements in IE6/7 (#1954)\r\n\t\tvalue: {\r\n\t\t\tget: function( elem, name ) {\r\n\t\t\t\tif ( nodeHook && jQuery.nodeName( elem, \"button\" ) ) {\r\n\t\t\t\t\treturn nodeHook.get( elem, name );\r\n\t\t\t\t}\r\n\t\t\t\treturn name in elem ?\r\n\t\t\t\t\telem.value :\r\n\t\t\t\t\tnull;\r\n\t\t\t},\r\n\t\t\tset: function( elem, value, name ) {\r\n\t\t\t\tif ( nodeHook && jQuery.nodeName( elem, \"button\" ) ) {\r\n\t\t\t\t\treturn nodeHook.set( elem, value, name );\r\n\t\t\t\t}\r\n\t\t\t\t// Does not return so that setAttribute is also used\r\n\t\t\t\telem.value = value;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tpropFix: {\r\n\t\ttabindex: \"tabIndex\",\r\n\t\treadonly: \"readOnly\",\r\n\t\t\"for\": \"htmlFor\",\r\n\t\t\"class\": \"className\",\r\n\t\tmaxlength: \"maxLength\",\r\n\t\tcellspacing: \"cellSpacing\",\r\n\t\tcellpadding: \"cellPadding\",\r\n\t\trowspan: \"rowSpan\",\r\n\t\tcolspan: \"colSpan\",\r\n\t\tusemap: \"useMap\",\r\n\t\tframeborder: \"frameBorder\",\r\n\t\tcontenteditable: \"contentEditable\"\r\n\t},\r\n\r\n\tprop: function( elem, name, value ) {\r\n\t\tvar ret, hooks, notxml,\r\n\t\t\tnType = elem.nodeType;\r\n\r\n\t\t// don't get/set properties on text, comment and attribute nodes\r\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\r\n\r\n\t\tif ( notxml ) {\r\n\t\t\t// Fix name and attach hooks\r\n\t\t\tname = jQuery.propFix[ name ] || name;\r\n\t\t\thooks = jQuery.propHooks[ name ];\r\n\t\t}\r\n\r\n\t\tif ( value !== undefined ) {\r\n\t\t\tif ( hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {\r\n\t\t\t\treturn ret;\r\n\r\n\t\t\t} else {\r\n\t\t\t\treturn ( elem[ name ] = value );\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ) {\r\n\t\t\t\treturn ret;\r\n\r\n\t\t\t} else {\r\n\t\t\t\treturn elem[ name ];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tpropHooks: {\r\n\t\ttabIndex: {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\t// elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set\r\n\t\t\t\t// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\r\n\t\t\t\tvar attributeNode = elem.getAttributeNode(\"tabindex\");\r\n\r\n\t\t\t\treturn attributeNode && attributeNode.specified ?\r\n\t\t\t\t\tparseInt( attributeNode.value, 10 ) :\r\n\t\t\t\t\trfocusable.test( elem.nodeName ) || rclickable.test( elem.nodeName ) && elem.href ?\r\n\t\t\t\t\t\t0 :\r\n\t\t\t\t\t\tundefined;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Hook for boolean attributes\r\nboolHook = {\r\n\tget: function( elem, name ) {\r\n\t\t// Align boolean attributes with corresponding properties\r\n\t\t// Fall back to attribute presence where some booleans are not supported\r\n\t\tvar attrNode,\r\n\t\t\tproperty = jQuery.prop( elem, name );\r\n\t\treturn property === true || typeof property !== \"boolean\" && ( attrNode = elem.getAttributeNode(name) ) && attrNode.nodeValue !== false ?\r\n\t\t\tname.toLowerCase() :\r\n\t\t\tundefined;\r\n\t},\r\n\tset: function( elem, value, name ) {\r\n\t\tvar propName;\r\n\t\tif ( value === false ) {\r\n\t\t\t// Remove boolean attributes when set to false\r\n\t\t\tjQuery.removeAttr( elem, name );\r\n\t\t} else {\r\n\t\t\t// value is true since we know at this point it's type boolean and not false\r\n\t\t\t// Set boolean attributes to the same name and set the DOM property\r\n\t\t\tpropName = jQuery.propFix[ name ] || name;\r\n\t\t\tif ( propName in elem ) {\r\n\t\t\t\t// Only set the IDL specifically if it already exists on the element\r\n\t\t\t\telem[ propName ] = true;\r\n\t\t\t}\r\n\r\n\t\t\telem.setAttribute( name, name.toLowerCase() );\r\n\t\t}\r\n\t\treturn name;\r\n\t}\r\n};\r\n\r\n// IE6/7 do not support getting/setting some attributes with get/setAttribute\r\nif ( !getSetAttribute ) {\r\n\r\n\tfixSpecified = {\r\n\t\tname: true,\r\n\t\tid: true,\r\n\t\tcoords: true\r\n\t};\r\n\r\n\t// Use this for any attribute in IE6/7\r\n\t// This fixes almost every IE6/7 issue\r\n\tnodeHook = jQuery.valHooks.button = {\r\n\t\tget: function( elem, name ) {\r\n\t\t\tvar ret;\r\n\t\t\tret = elem.getAttributeNode( name );\r\n\t\t\treturn ret && ( fixSpecified[ name ] ? ret.value !== \"\" : ret.specified ) ?\r\n\t\t\t\tret.value :\r\n\t\t\t\tundefined;\r\n\t\t},\r\n\t\tset: function( elem, value, name ) {\r\n\t\t\t// Set the existing or create a new attribute node\r\n\t\t\tvar ret = elem.getAttributeNode( name );\r\n\t\t\tif ( !ret ) {\r\n\t\t\t\tret = document.createAttribute( name );\r\n\t\t\t\telem.setAttributeNode( ret );\r\n\t\t\t}\r\n\t\t\treturn ( ret.value = value + \"\" );\r\n\t\t}\r\n\t};\r\n\r\n\t// Set width and height to auto instead of 0 on empty string( Bug #8150 )\r\n\t// This is for removals\r\n\tjQuery.each([ \"width\", \"height\" ], function( i, name ) {\r\n\t\tjQuery.attrHooks[ name ] = jQuery.extend( jQuery.attrHooks[ name ], {\r\n\t\t\tset: function( elem, value ) {\r\n\t\t\t\tif ( value === \"\" ) {\r\n\t\t\t\t\telem.setAttribute( name, \"auto\" );\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// Set contenteditable to false on removals(#10429)\r\n\t// Setting to empty string throws an error as an invalid value\r\n\tjQuery.attrHooks.contenteditable = {\r\n\t\tget: nodeHook.get,\r\n\t\tset: function( elem, value, name ) {\r\n\t\t\tif ( value === \"\" ) {\r\n\t\t\t\tvalue = \"false\";\r\n\t\t\t}\r\n\t\t\tnodeHook.set( elem, value, name );\r\n\t\t}\r\n\t};\r\n}\r\n\r\n\r\n// Some attributes require a special call on IE\r\nif ( !jQuery.support.hrefNormalized ) {\r\n\tjQuery.each([ \"href\", \"src\", \"width\", \"height\" ], function( i, name ) {\r\n\t\tjQuery.attrHooks[ name ] = jQuery.extend( jQuery.attrHooks[ name ], {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\tvar ret = elem.getAttribute( name, 2 );\r\n\t\t\t\treturn ret === null ? undefined : ret;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\nif ( !jQuery.support.style ) {\r\n\tjQuery.attrHooks.style = {\r\n\t\tget: function( elem ) {\r\n\t\t\t// Return undefined in the case of empty string\r\n\t\t\t// Normalize to lowercase since IE uppercases css property names\r\n\t\t\treturn elem.style.cssText.toLowerCase() || undefined;\r\n\t\t},\r\n\t\tset: function( elem, value ) {\r\n\t\t\treturn ( elem.style.cssText = \"\" + value );\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// Safari mis-reports the default selected property of an option\r\n// Accessing the parent's selectedIndex property fixes it\r\nif ( !jQuery.support.optSelected ) {\r\n\tjQuery.propHooks.selected = jQuery.extend( jQuery.propHooks.selected, {\r\n\t\tget: function( elem ) {\r\n\t\t\tvar parent = elem.parentNode;\r\n\r\n\t\t\tif ( parent ) {\r\n\t\t\t\tparent.selectedIndex;\r\n\r\n\t\t\t\t// Make sure that it also works with optgroups, see #5701\r\n\t\t\t\tif ( parent.parentNode ) {\r\n\t\t\t\t\tparent.parentNode.selectedIndex;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// IE6/7 call enctype encoding\r\nif ( !jQuery.support.enctype ) {\r\n\tjQuery.propFix.enctype = \"encoding\";\r\n}\r\n\r\n// Radios and checkboxes getter/setter\r\nif ( !jQuery.support.checkOn ) {\r\n\tjQuery.each([ \"radio\", \"checkbox\" ], function() {\r\n\t\tjQuery.valHooks[ this ] = {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\t// Handle the case where in Webkit \"\" is returned instead of \"on\" if a value isn't specified\r\n\t\t\t\treturn elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n}\r\njQuery.each([ \"radio\", \"checkbox\" ], function() {\r\n\tjQuery.valHooks[ this ] = jQuery.extend( jQuery.valHooks[ this ], {\r\n\t\tset: function( elem, value ) {\r\n\t\t\tif ( jQuery.isArray( value ) ) {\r\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\nvar rformElems = /^(?:textarea|input|select)$/i,\r\n\trtypenamespace = /^([^\\.]*|)(?:\\.(.+)|)$/,\r\n\trhoverHack = /(?:^|\\s)hover(\\.\\S+|)\\b/,\r\n\trkeyEvent = /^key/,\r\n\trmouseEvent = /^(?:mouse|contextmenu)|click/,\r\n\trfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\r\n\thoverHack = function( events ) {\r\n\t\treturn jQuery.event.special.hover ? events : events.replace( rhoverHack, \"mouseenter$1 mouseleave$1\" );\r\n\t};\r\n\r\n/*\r\n * Helper functions for managing events -- not part of the public interface.\r\n * Props to Dean Edwards' addEvent library for many of the ideas.\r\n */\r\njQuery.event = {\r\n\r\n\tadd: function( elem, types, handler, data, selector ) {\r\n\r\n\t\tvar elemData, eventHandle, events,\r\n\t\t\tt, tns, type, namespaces, handleObj,\r\n\t\t\thandleObjIn, handlers, special;\r\n\r\n\t\t// Don't attach events to noData or text/comment nodes (allow plain objects tho)\r\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 || !types || !handler || !(elemData = jQuery._data( elem )) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Caller can pass in an object of custom data in lieu of the handler\r\n\t\tif ( handler.handler ) {\r\n\t\t\thandleObjIn = handler;\r\n\t\t\thandler = handleObjIn.handler;\r\n\t\t\tselector = handleObjIn.selector;\r\n\t\t}\r\n\r\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\r\n\t\tif ( !handler.guid ) {\r\n\t\t\thandler.guid = jQuery.guid++;\r\n\t\t}\r\n\r\n\t\t// Init the element's event structure and main handler, if this is the first\r\n\t\tevents = elemData.events;\r\n\t\tif ( !events ) {\r\n\t\t\telemData.events = events = {};\r\n\t\t}\r\n\t\teventHandle = elemData.handle;\r\n\t\tif ( !eventHandle ) {\r\n\t\t\telemData.handle = eventHandle = function( e ) {\r\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\r\n\t\t\t\t// when an event is called after a page has unloaded\r\n\t\t\t\treturn typeof jQuery !== \"undefined\" && (!e || jQuery.event.triggered !== e.type) ?\r\n\t\t\t\t\tjQuery.event.dispatch.apply( eventHandle.elem, arguments ) :\r\n\t\t\t\t\tundefined;\r\n\t\t\t};\r\n\t\t\t// Add elem as a property of the handle fn to prevent a memory leak with IE non-native events\r\n\t\t\teventHandle.elem = elem;\r\n\t\t}\r\n\r\n\t\t// Handle multiple events separated by a space\r\n\t\t// jQuery(...).bind(\"mouseover mouseout\", fn);\r\n\t\ttypes = jQuery.trim( hoverHack(types) ).split( \" \" );\r\n\t\tfor ( t = 0; t < types.length; t++ ) {\r\n\r\n\t\t\ttns = rtypenamespace.exec( types[t] ) || [];\r\n\t\t\ttype = tns[1];\r\n\t\t\tnamespaces = ( tns[2] || \"\" ).split( \".\" ).sort();\r\n\r\n\t\t\t// If event changes its type, use the special event handlers for the changed type\r\n\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\r\n\t\t\t// If selector defined, determine special event api type, otherwise given type\r\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\r\n\r\n\t\t\t// Update special based on newly reset type\r\n\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\r\n\t\t\t// handleObj is passed to all event handlers\r\n\t\t\thandleObj = jQuery.extend({\r\n\t\t\t\ttype: type,\r\n\t\t\t\torigType: tns[1],\r\n\t\t\t\tdata: data,\r\n\t\t\t\thandler: handler,\r\n\t\t\t\tguid: handler.guid,\r\n\t\t\t\tselector: selector,\r\n\t\t\t\tnamespace: namespaces.join(\".\")\r\n\t\t\t}, handleObjIn );\r\n\r\n\t\t\t// Init the event handler queue if we're the first\r\n\t\t\thandlers = events[ type ];\r\n\t\t\tif ( !handlers ) {\r\n\t\t\t\thandlers = events[ type ] = [];\r\n\t\t\t\thandlers.delegateCount = 0;\r\n\r\n\t\t\t\t// Only use addEventListener/attachEvent if the special events handler returns false\r\n\t\t\t\tif ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {\r\n\t\t\t\t\t// Bind the global event handler to the element\r\n\t\t\t\t\tif ( elem.addEventListener ) {\r\n\t\t\t\t\t\telem.addEventListener( type, eventHandle, false );\r\n\r\n\t\t\t\t\t} else if ( elem.attachEvent ) {\r\n\t\t\t\t\t\telem.attachEvent( \"on\" + type, eventHandle );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( special.add ) {\r\n\t\t\t\tspecial.add.call( elem, handleObj );\r\n\r\n\t\t\t\tif ( !handleObj.handler.guid ) {\r\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Add to the element's handler list, delegates in front\r\n\t\t\tif ( selector ) {\r\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\r\n\t\t\t} else {\r\n\t\t\t\thandlers.push( handleObj );\r\n\t\t\t}\r\n\r\n\t\t\t// Keep track of which events have ever been used, for event optimization\r\n\t\t\tjQuery.event.global[ type ] = true;\r\n\t\t}\r\n\r\n\t\t// Nullify elem to prevent memory leaks in IE\r\n\t\telem = null;\r\n\t},\r\n\r\n\tglobal: {},\r\n\r\n\t// Detach an event or set of events from an element\r\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\r\n\r\n\t\tvar t, tns, type, origType, namespaces, origCount,\r\n\t\t\tj, events, special, eventType, handleObj,\r\n\t\t\telemData = jQuery.hasData( elem ) && jQuery._data( elem );\r\n\r\n\t\tif ( !elemData || !(events = elemData.events) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Once for each type.namespace in types; type may be omitted\r\n\t\ttypes = jQuery.trim( hoverHack( types || \"\" ) ).split(\" \");\r\n\t\tfor ( t = 0; t < types.length; t++ ) {\r\n\t\t\ttns = rtypenamespace.exec( types[t] ) || [];\r\n\t\t\ttype = origType = tns[1];\r\n\t\t\tnamespaces = tns[2];\r\n\r\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\r\n\t\t\tif ( !type ) {\r\n\t\t\t\tfor ( type in events ) {\r\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\r\n\t\t\t\t}\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\t\t\ttype = ( selector? special.delegateType : special.bindType ) || type;\r\n\t\t\teventType = events[ type ] || [];\r\n\t\t\torigCount = eventType.length;\r\n\t\t\tnamespaces = namespaces ? new RegExp(\"(^|\\\\.)\" + namespaces.split(\".\").sort().join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\") : null;\r\n\r\n\t\t\t// Remove matching events\r\n\t\t\tfor ( j = 0; j < eventType.length; j++ ) {\r\n\t\t\t\thandleObj = eventType[ j ];\r\n\r\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\r\n\t\t\t\t\t ( !handler || handler.guid === handleObj.guid ) &&\r\n\t\t\t\t\t ( !namespaces || namespaces.test( handleObj.namespace ) ) &&\r\n\t\t\t\t\t ( !selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector ) ) {\r\n\t\t\t\t\teventType.splice( j--, 1 );\r\n\r\n\t\t\t\t\tif ( handleObj.selector ) {\r\n\t\t\t\t\t\teventType.delegateCount--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( special.remove ) {\r\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\r\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\r\n\t\t\tif ( eventType.length === 0 && origCount !== eventType.length ) {\r\n\t\t\t\tif ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {\r\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdelete events[ type ];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove the expando if it's no longer used\r\n\t\tif ( jQuery.isEmptyObject( events ) ) {\r\n\t\t\tdelete elemData.handle;\r\n\r\n\t\t\t// removeData also checks for emptiness and clears the expando if empty\r\n\t\t\t// so use it instead of delete\r\n\t\t\tjQuery.removeData( elem, \"events\", true );\r\n\t\t}\r\n\t},\r\n\r\n\t// Events that are safe to short-circuit if no handlers are attached.\r\n\t// Native DOM events should not be added, they may have inline handlers.\r\n\tcustomEvent: {\r\n\t\t\"getData\": true,\r\n\t\t\"setData\": true,\r\n\t\t\"changeData\": true\r\n\t},\r\n\r\n\ttrigger: function( event, data, elem, onlyHandlers ) {\r\n\t\t// Don't do events on text and comment nodes\r\n\t\tif ( elem && (elem.nodeType === 3 || elem.nodeType === 8) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Event object or event type\r\n\t\tvar cache, exclusive, i, cur, old, ontype, special, handle, eventPath, bubbleType,\r\n\t\t\ttype = event.type || event,\r\n\t\t\tnamespaces = [];\r\n\r\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\r\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( type.indexOf( \"!\" ) >= 0 ) {\r\n\t\t\t// Exclusive events trigger only for the exact event (no namespaces)\r\n\t\t\ttype = type.slice(0, -1);\r\n\t\t\texclusive = true;\r\n\t\t}\r\n\r\n\t\tif ( type.indexOf( \".\" ) >= 0 ) {\r\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\r\n\t\t\tnamespaces = type.split(\".\");\r\n\t\t\ttype = namespaces.shift();\r\n\t\t\tnamespaces.sort();\r\n\t\t}\r\n\r\n\t\tif ( (!elem || jQuery.event.customEvent[ type ]) && !jQuery.event.global[ type ] ) {\r\n\t\t\t// No jQuery handlers for this event type, and it can't have inline handlers\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Caller can pass in an Event, Object, or just an event type string\r\n\t\tevent = typeof event === \"object\" ?\r\n\t\t\t// jQuery.Event object\r\n\t\t\tevent[ jQuery.expando ] ? event :\r\n\t\t\t// Object literal\r\n\t\t\tnew jQuery.Event( type, event ) :\r\n\t\t\t// Just the event type (string)\r\n\t\t\tnew jQuery.Event( type );\r\n\r\n\t\tevent.type = type;\r\n\t\tevent.isTrigger = true;\r\n\t\tevent.exclusive = exclusive;\r\n\t\tevent.namespace = namespaces.join( \".\" );\r\n\t\tevent.namespace_re = event.namespace? new RegExp(\"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\") : null;\r\n\t\tontype = type.indexOf( \":\" ) < 0 ? \"on\" + type : \"\";\r\n\r\n\t\t// Handle a global trigger\r\n\t\tif ( !elem ) {\r\n\r\n\t\t\t// TODO: Stop taunting the data cache; remove global events and always attach to document\r\n\t\t\tcache = jQuery.cache;\r\n\t\t\tfor ( i in cache ) {\r\n\t\t\t\tif ( cache[ i ].events && cache[ i ].events[ type ] ) {\r\n\t\t\t\t\tjQuery.event.trigger( event, data, cache[ i ].handle.elem, true );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Clean up the event in case it is being reused\r\n\t\tevent.result = undefined;\r\n\t\tif ( !event.target ) {\r\n\t\t\tevent.target = elem;\r\n\t\t}\r\n\r\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\r\n\t\tdata = data != null ? jQuery.makeArray( data ) : [];\r\n\t\tdata.unshift( event );\r\n\r\n\t\t// Allow special events to draw outside the lines\r\n\t\tspecial = jQuery.event.special[ type ] || {};\r\n\t\tif ( special.trigger && special.trigger.apply( elem, data ) === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\r\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\r\n\t\teventPath = [[ elem, special.bindType || type ]];\r\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\r\n\r\n\t\t\tbubbleType = special.delegateType || type;\r\n\t\t\tcur = rfocusMorph.test( bubbleType + type ) ? elem : elem.parentNode;\r\n\t\t\tfor ( old = elem; cur; cur = cur.parentNode ) {\r\n\t\t\t\teventPath.push([ cur, bubbleType ]);\r\n\t\t\t\told = cur;\r\n\t\t\t}\r\n\r\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\r\n\t\t\tif ( old === (elem.ownerDocument || document) ) {\r\n\t\t\t\teventPath.push([ old.defaultView || old.parentWindow || window, bubbleType ]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Fire handlers on the event path\r\n\t\tfor ( i = 0; i < eventPath.length && !event.isPropagationStopped(); i++ ) {\r\n\r\n\t\t\tcur = eventPath[i][0];\r\n\t\t\tevent.type = eventPath[i][1];\r\n\r\n\t\t\thandle = ( jQuery._data( cur, \"events\" ) || {} )[ event.type ] && jQuery._data( cur, \"handle\" );\r\n\t\t\tif ( handle ) {\r\n\t\t\t\thandle.apply( cur, data );\r\n\t\t\t}\r\n\t\t\t// Note that this is a bare JS function and not a jQuery handler\r\n\t\t\thandle = ontype && cur[ ontype ];\r\n\t\t\tif ( handle && jQuery.acceptData( cur ) && handle.apply( cur, data ) === false ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t\tevent.type = type;\r\n\r\n\t\t// If nobody prevented the default action, do it now\r\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\r\n\r\n\t\t\tif ( (!special._default || special._default.apply( elem.ownerDocument, data ) === false) &&\r\n\t\t\t\t!(type === \"click\" && jQuery.nodeName( elem, \"a\" )) && jQuery.acceptData( elem ) ) {\r\n\r\n\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\r\n\t\t\t\t// Can't use an .isFunction() check here because IE6/7 fails that test.\r\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\r\n\t\t\t\t// IE<9 dies on focus/blur to hidden element (#1486)\r\n\t\t\t\tif ( ontype && elem[ type ] && ((type !== \"focus\" && type !== \"blur\") || event.target.offsetWidth !== 0) && !jQuery.isWindow( elem ) ) {\r\n\r\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\r\n\t\t\t\t\told = elem[ ontype ];\r\n\r\n\t\t\t\t\tif ( old ) {\r\n\t\t\t\t\t\telem[ ontype ] = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\r\n\t\t\t\t\tjQuery.event.triggered = type;\r\n\t\t\t\t\telem[ type ]();\r\n\t\t\t\t\tjQuery.event.triggered = undefined;\r\n\r\n\t\t\t\t\tif ( old ) {\r\n\t\t\t\t\t\telem[ ontype ] = old;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn event.result;\r\n\t},\r\n\r\n\tdispatch: function( event ) {\r\n\r\n\t\t// Make a writable jQuery.Event from the native event object\r\n\t\tevent = jQuery.event.fix( event || window.event );\r\n\r\n\t\tvar i, j, cur, jqcur, ret, selMatch, matched, matches, handleObj, sel, related,\r\n\t\t\thandlers = ( (jQuery._data( this, \"events\" ) || {} )[ event.type ] || []),\r\n\t\t\tdelegateCount = handlers.delegateCount,\r\n\t\t\targs = [].slice.call( arguments ),\r\n\t\t\trun_all = !event.exclusive && !event.namespace,\r\n\t\t\tspecial = jQuery.event.special[ event.type ] || {},\r\n\t\t\thandlerQueue = [];\r\n\r\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\r\n\t\targs[0] = event;\r\n\t\tevent.delegateTarget = this;\r\n\r\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\r\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Determine handlers that should run if there are delegated events\r\n\t\t// Avoid non-left-click bubbling in Firefox (#3861)\r\n\t\tif ( delegateCount && !(event.button && event.type === \"click\") ) {\r\n\r\n\t\t\t// Pregenerate a single jQuery object for reuse with .is()\r\n\t\t\tjqcur = jQuery(this);\r\n\t\t\tjqcur.context = this;\r\n\r\n\t\t\tfor ( cur = event.target; cur != this; cur = cur.parentNode || this ) {\r\n\r\n\t\t\t\t// Don't process clicks (ONLY) on disabled elements (#6911, #8165, #xxxx)\r\n\t\t\t\tif ( cur.disabled !== true || event.type !== \"click\" ) {\r\n\t\t\t\t\tselMatch = {};\r\n\t\t\t\t\tmatches = [];\r\n\t\t\t\t\tjqcur[0] = cur;\r\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\r\n\t\t\t\t\t\thandleObj = handlers[ i ];\r\n\t\t\t\t\t\tsel = handleObj.selector;\r\n\r\n\t\t\t\t\t\tif ( selMatch[ sel ] === undefined ) {\r\n\t\t\t\t\t\t\tselMatch[ sel ] = jqcur.is( sel );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( selMatch[ sel ] ) {\r\n\t\t\t\t\t\t\tmatches.push( handleObj );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( matches.length ) {\r\n\t\t\t\t\t\thandlerQueue.push({ elem: cur, matches: matches });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Add the remaining (directly-bound) handlers\r\n\t\tif ( handlers.length > delegateCount ) {\r\n\t\t\thandlerQueue.push({ elem: this, matches: handlers.slice( delegateCount ) });\r\n\t\t}\r\n\r\n\t\t// Run delegates first; they may want to stop propagation beneath us\r\n\t\tfor ( i = 0; i < handlerQueue.length && !event.isPropagationStopped(); i++ ) {\r\n\t\t\tmatched = handlerQueue[ i ];\r\n\t\t\tevent.currentTarget = matched.elem;\r\n\r\n\t\t\tfor ( j = 0; j < matched.matches.length && !event.isImmediatePropagationStopped(); j++ ) {\r\n\t\t\t\thandleObj = matched.matches[ j ];\r\n\r\n\t\t\t\t// Triggered event must either 1) be non-exclusive and have no namespace, or\r\n\t\t\t\t// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\r\n\t\t\t\tif ( run_all || (!event.namespace && !handleObj.namespace) || event.namespace_re && event.namespace_re.test( handleObj.namespace ) ) {\r\n\r\n\t\t\t\t\tevent.data = handleObj.data;\r\n\t\t\t\t\tevent.handleObj = handleObj;\r\n\r\n\t\t\t\t\tret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )\r\n\t\t\t\t\t\t\t.apply( matched.elem, args );\r\n\r\n\t\t\t\t\tif ( ret !== undefined ) {\r\n\t\t\t\t\t\tevent.result = ret;\r\n\t\t\t\t\t\tif ( ret === false ) {\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Call the postDispatch hook for the mapped type\r\n\t\tif ( special.postDispatch ) {\r\n\t\t\tspecial.postDispatch.call( this, event );\r\n\t\t}\r\n\r\n\t\treturn event.result;\r\n\t},\r\n\r\n\t// Includes some event props shared by KeyEvent and MouseEvent\r\n\t// *** attrChange attrName relatedNode srcElement  are not normalized, non-W3C, deprecated, will be removed in 1.8 ***\r\n\tprops: \"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\r\n\r\n\tfixHooks: {},\r\n\r\n\tkeyHooks: {\r\n\t\tprops: \"char charCode key keyCode\".split(\" \"),\r\n\t\tfilter: function( event, original ) {\r\n\r\n\t\t\t// Add which for key events\r\n\t\t\tif ( event.which == null ) {\r\n\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\r\n\t\t\t}\r\n\r\n\t\t\treturn event;\r\n\t\t}\r\n\t},\r\n\r\n\tmouseHooks: {\r\n\t\tprops: \"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\r\n\t\tfilter: function( event, original ) {\r\n\t\t\tvar eventDoc, doc, body,\r\n\t\t\t\tbutton = original.button,\r\n\t\t\t\tfromElement = original.fromElement;\r\n\r\n\t\t\t// Calculate pageX/Y if missing and clientX/Y available\r\n\t\t\tif ( event.pageX == null && original.clientX != null ) {\r\n\t\t\t\teventDoc = event.target.ownerDocument || document;\r\n\t\t\t\tdoc = eventDoc.documentElement;\r\n\t\t\t\tbody = eventDoc.body;\r\n\r\n\t\t\t\tevent.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );\r\n\t\t\t\tevent.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );\r\n\t\t\t}\r\n\r\n\t\t\t// Add relatedTarget, if necessary\r\n\t\t\tif ( !event.relatedTarget && fromElement ) {\r\n\t\t\t\tevent.relatedTarget = fromElement === event.target ? original.toElement : fromElement;\r\n\t\t\t}\r\n\r\n\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\r\n\t\t\t// Note: button is not normalized, so don't use it\r\n\t\t\tif ( !event.which && button !== undefined ) {\r\n\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\r\n\t\t\t}\r\n\r\n\t\t\treturn event;\r\n\t\t}\r\n\t},\r\n\r\n\tfix: function( event ) {\r\n\t\tif ( event[ jQuery.expando ] ) {\r\n\t\t\treturn event;\r\n\t\t}\r\n\r\n\t\t// Create a writable copy of the event object and normalize some properties\r\n\t\tvar i, prop,\r\n\t\t\toriginalEvent = event,\r\n\t\t\tfixHook = jQuery.event.fixHooks[ event.type ] || {},\r\n\t\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\r\n\r\n\t\tevent = jQuery.Event( originalEvent );\r\n\r\n\t\tfor ( i = copy.length; i; ) {\r\n\t\t\tprop = copy[ --i ];\r\n\t\t\tevent[ prop ] = originalEvent[ prop ];\r\n\t\t}\r\n\r\n\t\t// Fix target property, if necessary (#1925, IE 6/7/8 & Safari2)\r\n\t\tif ( !event.target ) {\r\n\t\t\tevent.target = originalEvent.srcElement || document;\r\n\t\t}\r\n\r\n\t\t// Target should not be a text node (#504, Safari)\r\n\t\tif ( event.target.nodeType === 3 ) {\r\n\t\t\tevent.target = event.target.parentNode;\r\n\t\t}\r\n\r\n\t\t// For mouse/key events, metaKey==false if it's undefined (#3368, #11328; IE6/7/8)\r\n\t\tevent.metaKey = !!event.metaKey;\r\n\r\n\t\treturn fixHook.filter? fixHook.filter( event, originalEvent ) : event;\r\n\t},\r\n\r\n\tspecial: {\r\n\t\tready: {\r\n\t\t\t// Make sure the ready event is setup\r\n\t\t\tsetup: jQuery.bindReady\r\n\t\t},\r\n\r\n\t\tload: {\r\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\r\n\t\t\tnoBubble: true\r\n\t\t},\r\n\r\n\t\tfocus: {\r\n\t\t\tdelegateType: \"focusin\"\r\n\t\t},\r\n\t\tblur: {\r\n\t\t\tdelegateType: \"focusout\"\r\n\t\t},\r\n\r\n\t\tbeforeunload: {\r\n\t\t\tsetup: function( data, namespaces, eventHandle ) {\r\n\t\t\t\t// We only want to do this special case on windows\r\n\t\t\t\tif ( jQuery.isWindow( this ) ) {\r\n\t\t\t\t\tthis.onbeforeunload = eventHandle;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tteardown: function( namespaces, eventHandle ) {\r\n\t\t\t\tif ( this.onbeforeunload === eventHandle ) {\r\n\t\t\t\t\tthis.onbeforeunload = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tsimulate: function( type, elem, event, bubble ) {\r\n\t\t// Piggyback on a donor event to simulate a different one.\r\n\t\t// Fake originalEvent to avoid donor's stopPropagation, but if the\r\n\t\t// simulated event prevents default then we do the same on the donor.\r\n\t\tvar e = jQuery.extend(\r\n\t\t\tnew jQuery.Event(),\r\n\t\t\tevent,\r\n\t\t\t{ type: type,\r\n\t\t\t\tisSimulated: true,\r\n\t\t\t\toriginalEvent: {}\r\n\t\t\t}\r\n\t\t);\r\n\t\tif ( bubble ) {\r\n\t\t\tjQuery.event.trigger( e, null, elem );\r\n\t\t} else {\r\n\t\t\tjQuery.event.dispatch.call( elem, e );\r\n\t\t}\r\n\t\tif ( e.isDefaultPrevented() ) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Some plugins are using, but it's undocumented/deprecated and will be removed.\r\n// The 1.7 special event interface should provide all the hooks needed now.\r\njQuery.event.handle = jQuery.event.dispatch;\r\n\r\njQuery.removeEvent = document.removeEventListener ?\r\n\tfunction( elem, type, handle ) {\r\n\t\tif ( elem.removeEventListener ) {\r\n\t\t\telem.removeEventListener( type, handle, false );\r\n\t\t}\r\n\t} :\r\n\tfunction( elem, type, handle ) {\r\n\t\tvar name = \"on\" + type;\r\n\r\n\t\tif ( elem.detachEvent ) {\r\n\r\n\t\t\t// #8545, #7054, preventing memory leaks for custom events in IE6-8 \u00e2\u0080\u0093\r\n\t\t\t// detachEvent needed property on element, by name of that event, to properly expose it to GC\r\n\t\t\tif ( typeof elem[ name ] === \"undefined\" ) {\r\n\t\t\t\telem[ name ] = null;\r\n\t\t\t}\r\n\r\n\t\t\telem.detachEvent( name, handle );\r\n\t\t}\r\n\t};\r\n\r\njQuery.Event = function( src, props ) {\r\n\t// Allow instantiation without the 'new' keyword\r\n\tif ( !(this instanceof jQuery.Event) ) {\r\n\t\treturn new jQuery.Event( src, props );\r\n\t}\r\n\r\n\t// Event object\r\n\tif ( src && src.type ) {\r\n\t\tthis.originalEvent = src;\r\n\t\tthis.type = src.type;\r\n\r\n\t\t// Events bubbling up the document may have been marked as prevented\r\n\t\t// by a handler lower down the tree; reflect the correct value.\r\n\t\tthis.isDefaultPrevented = ( src.defaultPrevented || src.returnValue === false ||\r\n\t\t\tsrc.getPreventDefault && src.getPreventDefault() ) ? returnTrue : returnFalse;\r\n\r\n\t// Event type\r\n\t} else {\r\n\t\tthis.type = src;\r\n\t}\r\n\r\n\t// Put explicitly provided properties onto the event object\r\n\tif ( props ) {\r\n\t\tjQuery.extend( this, props );\r\n\t}\r\n\r\n\t// Create a timestamp if incoming event doesn't have one\r\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\r\n\r\n\t// Mark it as fixed\r\n\tthis[ jQuery.expando ] = true;\r\n};\r\n\r\nfunction returnFalse() {\r\n\treturn false;\r\n}\r\nfunction returnTrue() {\r\n\treturn true;\r\n}\r\n\r\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\r\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\r\njQuery.Event.prototype = {\r\n\tpreventDefault: function() {\r\n\t\tthis.isDefaultPrevented = returnTrue;\r\n\r\n\t\tvar e = this.originalEvent;\r\n\t\tif ( !e ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// if preventDefault exists run it on the original event\r\n\t\tif ( e.preventDefault ) {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t// otherwise set the returnValue property of the original event to false (IE)\r\n\t\t} else {\r\n\t\t\te.returnValue = false;\r\n\t\t}\r\n\t},\r\n\tstopPropagation: function() {\r\n\t\tthis.isPropagationStopped = returnTrue;\r\n\r\n\t\tvar e = this.originalEvent;\r\n\t\tif ( !e ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// if stopPropagation exists run it on the original event\r\n\t\tif ( e.stopPropagation ) {\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\t// otherwise set the cancelBubble property of the original event to true (IE)\r\n\t\te.cancelBubble = true;\r\n\t},\r\n\tstopImmediatePropagation: function() {\r\n\t\tthis.isImmediatePropagationStopped = returnTrue;\r\n\t\tthis.stopPropagation();\r\n\t},\r\n\tisDefaultPrevented: returnFalse,\r\n\tisPropagationStopped: returnFalse,\r\n\tisImmediatePropagationStopped: returnFalse\r\n};\r\n\r\n// Create mouseenter/leave events using mouseover/out and event-time checks\r\njQuery.each({\r\n\tmouseenter: \"mouseover\",\r\n\tmouseleave: \"mouseout\"\r\n}, function( orig, fix ) {\r\n\tjQuery.event.special[ orig ] = {\r\n\t\tdelegateType: fix,\r\n\t\tbindType: fix,\r\n\r\n\t\thandle: function( event ) {\r\n\t\t\tvar ret,\r\n\t\t\t\ttarget = this,\r\n\t\t\t\trelated = event.relatedTarget,\r\n\t\t\t\thandleObj = event.handleObj,\r\n\t\t\t\tselector = handleObj.selector;\r\n\r\n\t\t\t// For mousenter/leave call the handler if related is outside the target.\r\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\r\n\t\t\tif ( !related || (related !== target && !jQuery.contains( target, related )) ) {\r\n\t\t\t\tevent.type = handleObj.origType;\r\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\r\n\t\t\t\tevent.type = fix;\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t};\r\n});\r\n\r\n// IE submit delegation\r\nif ( !jQuery.support.submitBubbles ) {\r\n\r\n\tjQuery.event.special.submit = {\r\n\t\tsetup: function() {\r\n\t\t\t// Only need this for delegated form submit events\r\n\t\t\tif ( jQuery.nodeName( this, \"form\" ) ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Lazy-add a submit handler when a descendant form may potentially be submitted\r\n\t\t\tjQuery.event.add( this, \"click._submit keypress._submit\", function( e ) {\r\n\t\t\t\t// Node name check avoids a VML-related crash in IE (#9807)\r\n\t\t\t\tvar elem = e.target,\r\n\t\t\t\t\tform = jQuery.nodeName( elem, \"input\" ) || jQuery.nodeName( elem, \"button\" ) ? elem.form : undefined;\r\n\t\t\t\tif ( form && !jQuery._data( form, \"_submit_attached\" ) ) {\r\n\t\t\t\t\tjQuery.event.add( form, \"submit._submit\", function( event ) {\r\n\t\t\t\t\t\tevent._submit_bubble = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tjQuery._data( form, \"_submit_attached\", true );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// return undefined since we don't need an event listener\r\n\t\t},\r\n\r\n\t\tpostDispatch: function( event ) {\r\n\t\t\t// If form was submitted by the user, bubble the event up the tree\r\n\t\t\tif ( event._submit_bubble ) {\r\n\t\t\t\tdelete event._submit_bubble;\r\n\t\t\t\tif ( this.parentNode && !event.isTrigger ) {\r\n\t\t\t\t\tjQuery.event.simulate( \"submit\", this.parentNode, event, true );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tteardown: function() {\r\n\t\t\t// Only need this for delegated form submit events\r\n\t\t\tif ( jQuery.nodeName( this, \"form\" ) ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Remove delegated handlers; cleanData eventually reaps submit handlers attached above\r\n\t\t\tjQuery.event.remove( this, \"._submit\" );\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// IE change delegation and checkbox/radio fix\r\nif ( !jQuery.support.changeBubbles ) {\r\n\r\n\tjQuery.event.special.change = {\r\n\r\n\t\tsetup: function() {\r\n\r\n\t\t\tif ( rformElems.test( this.nodeName ) ) {\r\n\t\t\t\t// IE doesn't fire change on a check/radio until blur; trigger it on click\r\n\t\t\t\t// after a propertychange. Eat the blur-change in special.change.handle.\r\n\t\t\t\t// This still fires onchange a second time for check/radio after blur.\r\n\t\t\t\tif ( this.type === \"checkbox\" || this.type === \"radio\" ) {\r\n\t\t\t\t\tjQuery.event.add( this, \"propertychange._change\", function( event ) {\r\n\t\t\t\t\t\tif ( event.originalEvent.propertyName === \"checked\" ) {\r\n\t\t\t\t\t\t\tthis._just_changed = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tjQuery.event.add( this, \"click._change\", function( event ) {\r\n\t\t\t\t\t\tif ( this._just_changed && !event.isTrigger ) {\r\n\t\t\t\t\t\t\tthis._just_changed = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Allow triggered, simulated change events (#11500)\r\n\t\t\t\t\t\tjQuery.event.simulate( \"change\", this, event, true );\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// Delegated event; lazy-add a change handler on descendant inputs\r\n\t\t\tjQuery.event.add( this, \"beforeactivate._change\", function( e ) {\r\n\t\t\t\tvar elem = e.target;\r\n\r\n\t\t\t\tif ( rformElems.test( elem.nodeName ) && !jQuery._data( elem, \"_change_attached\" ) ) {\r\n\t\t\t\t\tjQuery.event.add( elem, \"change._change\", function( event ) {\r\n\t\t\t\t\t\tif ( this.parentNode && !event.isSimulated && !event.isTrigger ) {\r\n\t\t\t\t\t\t\tjQuery.event.simulate( \"change\", this.parentNode, event, true );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tjQuery._data( elem, \"_change_attached\", true );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\thandle: function( event ) {\r\n\t\t\tvar elem = event.target;\r\n\r\n\t\t\t// Swallow native change events from checkbox/radio, we already triggered them above\r\n\t\t\tif ( this !== elem || event.isSimulated || event.isTrigger || (elem.type !== \"radio\" && elem.type !== \"checkbox\") ) {\r\n\t\t\t\treturn event.handleObj.handler.apply( this, arguments );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tteardown: function() {\r\n\t\t\tjQuery.event.remove( this, \"._change\" );\r\n\r\n\t\t\treturn rformElems.test( this.nodeName );\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// Create \"bubbling\" focus and blur events\r\nif ( !jQuery.support.focusinBubbles ) {\r\n\tjQuery.each({ focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\r\n\r\n\t\t// Attach a single capturing handler while someone wants focusin/focusout\r\n\t\tvar attaches = 0,\r\n\t\t\thandler = function( event ) {\r\n\t\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );\r\n\t\t\t};\r\n\r\n\t\tjQuery.event.special[ fix ] = {\r\n\t\t\tsetup: function() {\r\n\t\t\t\tif ( attaches++ === 0 ) {\r\n\t\t\t\t\tdocument.addEventListener( orig, handler, true );\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tteardown: function() {\r\n\t\t\t\tif ( --attaches === 0 ) {\r\n\t\t\t\t\tdocument.removeEventListener( orig, handler, true );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n}\r\n\r\njQuery.fn.extend({\r\n\r\n\ton: function( types, selector, data, fn, /*INTERNAL*/ one ) {\r\n\t\tvar origFn, type;\r\n\r\n\t\t// Types can be a map of types/handlers\r\n\t\tif ( typeof types === \"object\" ) {\r\n\t\t\t// ( types-Object, selector, data )\r\n\t\t\tif ( typeof selector !== \"string\" ) { // && selector != null\r\n\t\t\t\t// ( types-Object, data )\r\n\t\t\t\tdata = data || selector;\r\n\t\t\t\tselector = undefined;\r\n\t\t\t}\r\n\t\t\tfor ( type in types ) {\r\n\t\t\t\tthis.on( type, selector, data, types[ type ], one );\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif ( data == null && fn == null ) {\r\n\t\t\t// ( types, fn )\r\n\t\t\tfn = selector;\r\n\t\t\tdata = selector = undefined;\r\n\t\t} else if ( fn == null ) {\r\n\t\t\tif ( typeof selector === \"string\" ) {\r\n\t\t\t\t// ( types, selector, fn )\r\n\t\t\t\tfn = data;\r\n\t\t\t\tdata = undefined;\r\n\t\t\t} else {\r\n\t\t\t\t// ( types, data, fn )\r\n\t\t\t\tfn = data;\r\n\t\t\t\tdata = selector;\r\n\t\t\t\tselector = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( fn === false ) {\r\n\t\t\tfn = returnFalse;\r\n\t\t} else if ( !fn ) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif ( one === 1 ) {\r\n\t\t\torigFn = fn;\r\n\t\t\tfn = function( event ) {\r\n\t\t\t\t// Can use an empty set, since event contains the info\r\n\t\t\t\tjQuery().off( event );\r\n\t\t\t\treturn origFn.apply( this, arguments );\r\n\t\t\t};\r\n\t\t\t// Use same guid so caller can remove using origFn\r\n\t\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\r\n\t\t}\r\n\t\treturn this.each( function() {\r\n\t\t\tjQuery.event.add( this, types, fn, data, selector );\r\n\t\t});\r\n\t},\r\n\tone: function( types, selector, data, fn ) {\r\n\t\treturn this.on( types, selector, data, fn, 1 );\r\n\t},\r\n\toff: function( types, selector, fn ) {\r\n\t\tvar handleObj, type;\r\n\t\tif ( types && types.preventDefault && types.handleObj ) {\r\n\t\t\t// ( event )  dispatched jQuery.Event\r\n\t\t\thandleObj = types.handleObj;\r\n\t\t\tjQuery( types.delegateTarget ).off(\r\n\t\t\t\thandleObj.namespace ? handleObj.origType + \".\" + handleObj.namespace : handleObj.origType,\r\n\t\t\t\thandleObj.selector,\r\n\t\t\t\thandleObj.handler\r\n\t\t\t);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif ( typeof types === \"object\" ) {\r\n\t\t\t// ( types-object [, selector] )\r\n\t\t\tfor ( type in types ) {\r\n\t\t\t\tthis.off( type, selector, types[ type ] );\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif ( selector === false || typeof selector === \"function\" ) {\r\n\t\t\t// ( types [, fn] )\r\n\t\t\tfn = selector;\r\n\t\t\tselector = undefined;\r\n\t\t}\r\n\t\tif ( fn === false ) {\r\n\t\t\tfn = returnFalse;\r\n\t\t}\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.event.remove( this, types, fn, selector );\r\n\t\t});\r\n\t},\r\n\r\n\tbind: function( types, data, fn ) {\r\n\t\treturn this.on( types, null, data, fn );\r\n\t},\r\n\tunbind: function( types, fn ) {\r\n\t\treturn this.off( types, null, fn );\r\n\t},\r\n\r\n\tlive: function( types, data, fn ) {\r\n\t\tjQuery( this.context ).on( types, this.selector, data, fn );\r\n\t\treturn this;\r\n\t},\r\n\tdie: function( types, fn ) {\r\n\t\tjQuery( this.context ).off( types, this.selector || \"**\", fn );\r\n\t\treturn this;\r\n\t},\r\n\r\n\tdelegate: function( selector, types, data, fn ) {\r\n\t\treturn this.on( types, selector, data, fn );\r\n\t},\r\n\tundelegate: function( selector, types, fn ) {\r\n\t\t// ( namespace ) or ( selector, types [, fn] )\r\n\t\treturn arguments.length == 1? this.off( selector, \"**\" ) : this.off( types, selector || \"**\", fn );\r\n\t},\r\n\r\n\ttrigger: function( type, data ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.event.trigger( type, data, this );\r\n\t\t});\r\n\t},\r\n\ttriggerHandler: function( type, data ) {\r\n\t\tif ( this[0] ) {\r\n\t\t\treturn jQuery.event.trigger( type, data, this[0], true );\r\n\t\t}\r\n\t},\r\n\r\n\ttoggle: function( fn ) {\r\n\t\t// Save reference to arguments for access in closure\r\n\t\tvar args = arguments,\r\n\t\t\tguid = fn.guid || jQuery.guid++,\r\n\t\t\ti = 0,\r\n\t\t\ttoggler = function( event ) {\r\n\t\t\t\t// Figure out which function to execute\r\n\t\t\t\tvar lastToggle = ( jQuery._data( this, \"lastToggle\" + fn.guid ) || 0 ) % i;\r\n\t\t\t\tjQuery._data( this, \"lastToggle\" + fn.guid, lastToggle + 1 );\r\n\r\n\t\t\t\t// Make sure that clicks stop\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t// and execute the function\r\n\t\t\t\treturn args[ lastToggle ].apply( this, arguments ) || false;\r\n\t\t\t};\r\n\r\n\t\t// link all the functions, so any of them can unbind this click handler\r\n\t\ttoggler.guid = guid;\r\n\t\twhile ( i < args.length ) {\r\n\t\t\targs[ i++ ].guid = guid;\r\n\t\t}\r\n\r\n\t\treturn this.click( toggler );\r\n\t},\r\n\r\n\thover: function( fnOver, fnOut ) {\r\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\r\n\t}\r\n});\r\n\r\njQuery.each( (\"blur focus focusin focusout load resize scroll unload click dblclick \" +\r\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\r\n\t\"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function( i, name ) {\r\n\r\n\t// Handle event binding\r\n\tjQuery.fn[ name ] = function( data, fn ) {\r\n\t\tif ( fn == null ) {\r\n\t\t\tfn = data;\r\n\t\t\tdata = null;\r\n\t\t}\r\n\r\n\t\treturn arguments.length > 0 ?\r\n\t\t\tthis.on( name, null, data, fn ) :\r\n\t\t\tthis.trigger( name );\r\n\t};\r\n\r\n\tif ( rkeyEvent.test( name ) ) {\r\n\t\tjQuery.event.fixHooks[ name ] = jQuery.event.keyHooks;\r\n\t}\r\n\r\n\tif ( rmouseEvent.test( name ) ) {\r\n\t\tjQuery.event.fixHooks[ name ] = jQuery.event.mouseHooks;\r\n\t}\r\n});\r\n/*!\r\n * Sizzle CSS Selector Engine\r\n *  Copyright 2012 jQuery Foundation and other contributors\r\n *  Released under the MIT license\r\n *  http://sizzlejs.com/\r\n */\r\n(function( window, undefined ) {\r\n\r\nvar cachedruns,\r\n\tdirruns,\r\n\tsortOrder,\r\n\tsiblingCheck,\r\n\tassertGetIdNotName,\r\n\r\n\tdocument = window.document,\r\n\tdocElem = document.documentElement,\r\n\r\n\tstrundefined = \"undefined\",\r\n\thasDuplicate = false,\r\n\tbaseHasDuplicate = true,\r\n\tdone = 0,\r\n\tslice = [].slice,\r\n\tpush = [].push,\r\n\r\n\texpando = ( \"sizcache\" + Math.random() ).replace( \".\", \"\" ),\r\n\r\n\t// Regex\r\n\r\n\t// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace\r\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\r\n\t// http://www.w3.org/TR/css3-syntax/#characters\r\n\tcharacterEncoding = \"(?:\\\\\\\\.|[-\\\\w]|[^\\\\x00-\\\\xa0])+\",\r\n\r\n\t// Loosely modeled on CSS identifier characters\r\n\t// An unquoted value should be a CSS identifier (http://www.w3.org/TR/css3-selectors/#attribute-selectors)\r\n\t// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\r\n\tidentifier = characterEncoding.replace( \"w\", \"w#\" ),\r\n\r\n\t// Acceptable operators http://www.w3.org/TR/selectors/#attribute-selectors\r\n\toperators = \"([*^$|!~]?=)\",\r\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + characterEncoding + \")\" + whitespace +\r\n\t\t\"*(?:\" + operators + whitespace + \"*(?:(['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|(\" + identifier + \")|)|)\" + whitespace + \"*\\\\]\",\r\n\tpseudos = \":(\" + characterEncoding + \")(?:\\\\((?:(['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\2|((?:[^,]|\\\\\\\\,|(?:,(?=[^\\\\[]*\\\\]))|(?:,(?=[^\\\\(]*\\\\))))*))\\\\)|)\",\r\n\tpos = \":(nth|eq|gt|lt|first|last|even|odd)(?:\\\\((\\\\d*)\\\\)|)(?=[^-]|$)\",\r\n\tcombinators = whitespace + \"*([\\\\x20\\\\t\\\\r\\\\n\\\\f>+~])\" + whitespace + \"*\",\r\n\tgroups = \"(?=[^\\\\x20\\\\t\\\\r\\\\n\\\\f])(?:\\\\\\\\.|\" + attributes + \"|\" + pseudos.replace( 2, 7 ) + \"|[^\\\\\\\\(),])+\",\r\n\r\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\r\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\r\n\r\n\trcombinators = new RegExp( \"^\" + combinators ),\r\n\r\n\t// All simple (non-comma) selectors, excluding insignifant trailing whitespace\r\n\trgroups = new RegExp( groups + \"?(?=\" + whitespace + \"*,|$)\", \"g\" ),\r\n\r\n\t// A selector, or everything after leading whitespace\r\n\t// Optionally followed in either case by a \")\" for terminating sub-selectors\r\n\trselector = new RegExp( \"^(?:(?!,)(?:(?:^|,)\" + whitespace + \"*\" + groups + \")*?|\" + whitespace + \"*(.*?))(\\\\)|$)\" ),\r\n\r\n\t// All combinators and selector components (attribute test, tag, pseudo, etc.), the latter appearing together when consecutive\r\n\trtokens = new RegExp( groups.slice( 19, -6 ) + \"\\\\x20\\\\t\\\\r\\\\n\\\\f>+~])+|\" + combinators, \"g\" ),\r\n\r\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\r\n\trquickExpr = /^(?:#([\\w\\-]+)|(\\w+)|\\.([\\w\\-]+))$/,\r\n\r\n\trsibling = /[\\x20\\t\\r\\n\\f]*[+~]/,\r\n\trendsWithNot = /:not\\($/,\r\n\r\n\trheader = /h\\d/i,\r\n\trinputs = /input|select|textarea|button/i,\r\n\r\n\trbackslash = /\\\\(?!\\\\)/g,\r\n\r\n\tmatchExpr = {\r\n\t\t\"ID\": new RegExp( \"^#(\" + characterEncoding + \")\" ),\r\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + characterEncoding + \")\" ),\r\n\t\t\"NAME\": new RegExp( \"^\\\\[name=['\\\"]?(\" + characterEncoding + \")['\\\"]?\\\\]\" ),\r\n\t\t\"TAG\": new RegExp( \"^(\" + characterEncoding.replace( \"[-\", \"[-\\\\*\" ) + \")\" ),\r\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\r\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\r\n\t\t\"CHILD\": new RegExp( \"^:(only|nth|last|first)-child(?:\\\\(\" + whitespace +\r\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\r\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\r\n\t\t\"POS\": new RegExp( pos, \"ig\" ),\r\n\t\t// For use in libraries implementing .is()\r\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|\" + pos, \"i\" )\r\n\t},\r\n\r\n\tclassCache = {},\r\n\tcachedClasses = [],\r\n\tcompilerCache = {},\r\n\tcachedSelectors = [],\r\n\r\n\t// Mark a function for use in filtering\r\n\tmarkFunction = function( fn ) {\r\n\t\tfn.sizzleFilter = true;\r\n\t\treturn fn;\r\n\t},\r\n\r\n\t// Returns a function to use in pseudos for input types\r\n\tcreateInputFunction = function( type ) {\r\n\t\treturn function( elem ) {\r\n\t\t\t// Check the input's nodeName and type\r\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" && elem.type === type;\r\n\t\t};\r\n\t},\r\n\r\n\t// Returns a function to use in pseudos for buttons\r\n\tcreateButtonFunction = function( type ) {\r\n\t\treturn function( elem ) {\r\n\t\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\r\n\t\t};\r\n\t},\r\n\r\n\t// Used for testing something on an element\r\n\tassert = function( fn ) {\r\n\t\tvar pass = false,\r\n\t\t\tdiv = document.createElement(\"div\");\r\n\t\ttry {\r\n\t\t\tpass = fn( div );\r\n\t\t} catch (e) {}\r\n\t\t// release memory in IE\r\n\t\tdiv = null;\r\n\t\treturn pass;\r\n\t},\r\n\r\n\t// Check if attributes should be retrieved by attribute nodes\r\n\tassertAttributes = assert(function( div ) {\r\n\t\tdiv.innerHTML = \"<select></select>\";\r\n\t\tvar type = typeof div.lastChild.getAttribute(\"multiple\");\r\n\t\t// IE8 returns a string for some attributes even when not present\r\n\t\treturn type !== \"boolean\" && type !== \"string\";\r\n\t}),\r\n\r\n\t// Check if getElementById returns elements by name\r\n\t// Check if getElementsByName privileges form controls or returns elements by ID\r\n\tassertUsableName = assert(function( div ) {\r\n\t\t// Inject content\r\n\t\tdiv.id = expando + 0;\r\n\t\tdiv.innerHTML = \"<a name='\" + expando + \"'></a><div name='\" + expando + \"'></div>\";\r\n\t\tdocElem.insertBefore( div, docElem.firstChild );\r\n\r\n\t\t// Test\r\n\t\tvar pass = document.getElementsByName &&\r\n\t\t\t// buggy browsers will return fewer than the correct 2\r\n\t\t\tdocument.getElementsByName( expando ).length ===\r\n\t\t\t// buggy browsers will return more than the correct 0\r\n\t\t\t2 + document.getElementsByName( expando + 0 ).length;\r\n\t\tassertGetIdNotName = !document.getElementById( expando );\r\n\r\n\t\t// Cleanup\r\n\t\tdocElem.removeChild( div );\r\n\r\n\t\treturn pass;\r\n\t}),\r\n\r\n\t// Check if the browser returns only elements\r\n\t// when doing getElementsByTagName(\"*\")\r\n\tassertTagNameNoComments = assert(function( div ) {\r\n\t\tdiv.appendChild( document.createComment(\"\") );\r\n\t\treturn div.getElementsByTagName(\"*\").length === 0;\r\n\t}),\r\n\r\n\t// Check if getAttribute returns normalized href attributes\r\n\tassertHrefNotNormalized = assert(function( div ) {\r\n\t\tdiv.innerHTML = \"<a href='#'></a>\";\r\n\t\treturn div.firstChild && typeof div.firstChild.getAttribute !== strundefined &&\r\n\t\t\tdiv.firstChild.getAttribute(\"href\") === \"#\";\r\n\t}),\r\n\r\n\t// Check if getElementsByClassName can be trusted\r\n\tassertUsableClassName = assert(function( div ) {\r\n\t\t// Opera can't find a second classname (in 9.6)\r\n\t\tdiv.innerHTML = \"<div class='hidden e'></div><div class='hidden'></div>\";\r\n\t\tif ( !div.getElementsByClassName || div.getElementsByClassName(\"e\").length === 0 ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Safari caches class attributes, doesn't catch changes (in 3.2)\r\n\t\tdiv.lastChild.className = \"e\";\r\n\t\treturn div.getElementsByClassName(\"e\").length !== 1;\r\n\t});\r\n\r\nvar Sizzle = function( selector, context, results, seed ) {\r\n\tresults = results || [];\r\n\tcontext = context || document;\r\n\tvar match, elem, xml, m,\r\n\t\tnodeType = context.nodeType;\r\n\r\n\tif ( nodeType !== 1 && nodeType !== 9 ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tif ( !selector || typeof selector !== \"string\" ) {\r\n\t\treturn results;\r\n\t}\r\n\r\n\txml = isXML( context );\r\n\r\n\tif ( !xml && !seed ) {\r\n\t\tif ( (match = rquickExpr.exec( selector )) ) {\r\n\t\t\t// Speed-up: Sizzle(\"#ID\")\r\n\t\t\tif ( (m = match[1]) ) {\r\n\t\t\t\tif ( nodeType === 9 ) {\r\n\t\t\t\t\telem = context.getElementById( m );\r\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t\t// nodes that are no longer in the document #6963\r\n\t\t\t\t\tif ( elem && elem.parentNode ) {\r\n\t\t\t\t\t\t// Handle the case where IE, Opera, and Webkit return items\r\n\t\t\t\t\t\t// by name instead of ID\r\n\t\t\t\t\t\tif ( elem.id === m ) {\r\n\t\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Context is not a document\r\n\t\t\t\t\tif ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&\r\n\t\t\t\t\t\tcontains( context, elem ) && elem.id === m ) {\r\n\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t// Speed-up: Sizzle(\"TAG\")\r\n\t\t\t} else if ( match[2] ) {\r\n\t\t\t\tpush.apply( results, slice.call(context.getElementsByTagName( selector ), 0) );\r\n\t\t\t\treturn results;\r\n\r\n\t\t\t// Speed-up: Sizzle(\".CLASS\")\r\n\t\t\t} else if ( (m = match[3]) && assertUsableClassName && context.getElementsByClassName ) {\r\n\t\t\t\tpush.apply( results, slice.call(context.getElementsByClassName( m ), 0) );\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// All others\r\n\treturn select( selector, context, results, seed, xml );\r\n};\r\n\r\nvar Expr = Sizzle.selectors = {\r\n\r\n\t// Can be adjusted by the user\r\n\tcacheLength: 50,\r\n\r\n\tmatch: matchExpr,\r\n\r\n\torder: [ \"ID\", \"TAG\" ],\r\n\r\n\tattrHandle: {},\r\n\r\n\tcreatePseudo: markFunction,\r\n\r\n\tfind: {\r\n\t\t\"ID\": assertGetIdNotName ?\r\n\t\t\tfunction( id, context, xml ) {\r\n\t\t\t\tif ( typeof context.getElementById !== strundefined && !xml ) {\r\n\t\t\t\t\tvar m = context.getElementById( id );\r\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t\t// nodes that are no longer in the document #6963\r\n\t\t\t\t\treturn m && m.parentNode ? [m] : [];\r\n\t\t\t\t}\r\n\t\t\t} :\r\n\t\t\tfunction( id, context, xml ) {\r\n\t\t\t\tif ( typeof context.getElementById !== strundefined && !xml ) {\r\n\t\t\t\t\tvar m = context.getElementById( id );\r\n\r\n\t\t\t\t\treturn m ?\r\n\t\t\t\t\t\tm.id === id || typeof m.getAttributeNode !== strundefined && m.getAttributeNode(\"id\").value === id ?\r\n\t\t\t\t\t\t\t[m] :\r\n\t\t\t\t\t\t\tundefined :\r\n\t\t\t\t\t\t[];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\"TAG\": assertTagNameNoComments ?\r\n\t\t\tfunction( tag, context ) {\r\n\t\t\t\tif ( typeof context.getElementsByTagName !== strundefined ) {\r\n\t\t\t\t\treturn context.getElementsByTagName( tag );\r\n\t\t\t\t}\r\n\t\t\t} :\r\n\t\t\tfunction( tag, context ) {\r\n\t\t\t\tvar results = context.getElementsByTagName( tag );\r\n\r\n\t\t\t\t// Filter out possible comments\r\n\t\t\t\tif ( tag === \"*\" ) {\r\n\t\t\t\t\tvar elem,\r\n\t\t\t\t\t\ttmp = [],\r\n\t\t\t\t\t\ti = 0;\r\n\r\n\t\t\t\t\tfor ( ; (elem = results[i]); i++ ) {\r\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\t\ttmp.push( elem );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn tmp;\r\n\t\t\t\t}\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\t},\r\n\r\n\trelative: {\r\n\t\t\">\": { dir: \"parentNode\", first: true },\r\n\t\t\" \": { dir: \"parentNode\" },\r\n\t\t\"+\": { dir: \"previousSibling\", first: true },\r\n\t\t\"~\": { dir: \"previousSibling\" }\r\n\t},\r\n\r\n\tpreFilter: {\r\n\t\t\"ATTR\": function( match ) {\r\n\t\t\tmatch[1] = match[1].replace( rbackslash, \"\" );\r\n\r\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\r\n\t\t\tmatch[3] = ( match[4] || match[5] || \"\" ).replace( rbackslash, \"\" );\r\n\r\n\t\t\tif ( match[2] === \"~=\" ) {\r\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\r\n\t\t\t}\r\n\r\n\t\t\treturn match.slice( 0, 4 );\r\n\t\t},\r\n\r\n\t\t\"CHILD\": function( match ) {\r\n\t\t\t/* matches from matchExpr.CHILD\r\n\t\t\t\t1 type (only|nth|...)\r\n\t\t\t\t2 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\r\n\t\t\t\t3 xn-component of xn+y argument ([+-]?\\d*n|)\r\n\t\t\t\t4 sign of xn-component\r\n\t\t\t\t5 x of xn-component\r\n\t\t\t\t6 sign of y-component\r\n\t\t\t\t7 y of y-component\r\n\t\t\t*/\r\n\t\t\tmatch[1] = match[1].toLowerCase();\r\n\r\n\t\t\tif ( match[1] === \"nth\" ) {\r\n\t\t\t\t// nth-child requires argument\r\n\t\t\t\tif ( !match[2] ) {\r\n\t\t\t\t\tSizzle.error( match[0] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\r\n\t\t\t\t// remember that false/true cast respectively to 0/1\r\n\t\t\t\tmatch[3] = +( match[3] ? match[4] + (match[5] || 1) : 2 * ( match[2] === \"even\" || match[2] === \"odd\" ) );\r\n\t\t\t\tmatch[4] = +( ( match[6] + match[7] ) || match[2] === \"odd\" );\r\n\r\n\t\t\t// other types prohibit arguments\r\n\t\t\t} else if ( match[2] ) {\r\n\t\t\t\tSizzle.error( match[0] );\r\n\t\t\t}\r\n\r\n\t\t\treturn match;\r\n\t\t},\r\n\r\n\t\t\"PSEUDO\": function( match ) {\r\n\t\t\tvar argument,\r\n\t\t\t\tunquoted = match[4];\r\n\r\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// Relinquish our claim on characters in `unquoted` from a closing parenthesis on\r\n\t\t\tif ( unquoted && (argument = rselector.exec( unquoted )) && argument.pop() ) {\r\n\r\n\t\t\t\tmatch[0] = match[0].slice( 0, argument[0].length - unquoted.length - 1 );\r\n\t\t\t\tunquoted = argument[0].slice( 0, -1 );\r\n\t\t\t}\r\n\r\n\t\t\t// Quoted or unquoted, we have the full argument\r\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\r\n\t\t\tmatch.splice( 2, 3, unquoted || match[3] );\r\n\t\t\treturn match;\r\n\t\t}\r\n\t},\r\n\r\n\tfilter: {\r\n\t\t\"ID\": assertGetIdNotName ?\r\n\t\t\tfunction( id ) {\r\n\t\t\t\tid = id.replace( rbackslash, \"\" );\r\n\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\treturn elem.getAttribute(\"id\") === id;\r\n\t\t\t\t};\r\n\t\t\t} :\r\n\t\t\tfunction( id ) {\r\n\t\t\t\tid = id.replace( rbackslash, \"\" );\r\n\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\tvar node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode(\"id\");\r\n\t\t\t\t\treturn node && node.value === id;\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\"TAG\": function( nodeName ) {\r\n\t\t\tif ( nodeName === \"*\" ) {\r\n\t\t\t\treturn function() { return true; };\r\n\t\t\t}\r\n\t\t\tnodeName = nodeName.replace( rbackslash, \"\" ).toLowerCase();\r\n\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"CLASS\": function( className ) {\r\n\t\t\tvar pattern = classCache[ className ];\r\n\t\t\tif ( !pattern ) {\r\n\t\t\t\tpattern = classCache[ className ] = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" );\r\n\t\t\t\tcachedClasses.push( className );\r\n\t\t\t\t// Avoid too large of a cache\r\n\t\t\t\tif ( cachedClasses.length > Expr.cacheLength ) {\r\n\t\t\t\t\tdelete classCache[ cachedClasses.shift() ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn pattern.test( elem.className || (typeof elem.getAttribute !== strundefined && elem.getAttribute(\"class\")) || \"\" );\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"ATTR\": function( name, operator, check ) {\r\n\t\t\tif ( !operator ) {\r\n\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\treturn Sizzle.attr( elem, name ) != null;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\tvar result = Sizzle.attr( elem, name ),\r\n\t\t\t\t\tvalue = result + \"\";\r\n\r\n\t\t\t\tif ( result == null ) {\r\n\t\t\t\t\treturn operator === \"!=\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tswitch ( operator ) {\r\n\t\t\t\t\tcase \"=\":\r\n\t\t\t\t\t\treturn value === check;\r\n\t\t\t\t\tcase \"!=\":\r\n\t\t\t\t\t\treturn value !== check;\r\n\t\t\t\t\tcase \"^=\":\r\n\t\t\t\t\t\treturn check && value.indexOf( check ) === 0;\r\n\t\t\t\t\tcase \"*=\":\r\n\t\t\t\t\t\treturn check && value.indexOf( check ) > -1;\r\n\t\t\t\t\tcase \"$=\":\r\n\t\t\t\t\t\treturn check && value.substr( value.length - check.length ) === check;\r\n\t\t\t\t\tcase \"~=\":\r\n\t\t\t\t\t\treturn ( \" \" + value + \" \" ).indexOf( check ) > -1;\r\n\t\t\t\t\tcase \"|=\":\r\n\t\t\t\t\t\treturn value === check || value.substr( 0, check.length + 1 ) === check + \"-\";\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"CHILD\": function( type, argument, first, last ) {\r\n\r\n\t\t\tif ( type === \"nth\" ) {\r\n\t\t\t\tvar doneName = done++;\r\n\r\n\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\tvar parent, diff,\r\n\t\t\t\t\t\tcount = 0,\r\n\t\t\t\t\t\tnode = elem;\r\n\r\n\t\t\t\t\tif ( first === 1 && last === 0 ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tparent = elem.parentNode;\r\n\r\n\t\t\t\t\tif ( parent && (parent[ expando ] !== doneName || !elem.sizset) ) {\r\n\t\t\t\t\t\tfor ( node = parent.firstChild; node; node = node.nextSibling ) {\r\n\t\t\t\t\t\t\tif ( node.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\tnode.sizset = ++count;\r\n\t\t\t\t\t\t\t\tif ( node === elem ) {\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tparent[ expando ] = doneName;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdiff = elem.sizset - last;\r\n\r\n\t\t\t\t\tif ( first === 0 ) {\r\n\t\t\t\t\t\treturn diff === 0;\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn ( diff % first === 0 && diff / first >= 0 );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\tvar node = elem;\r\n\r\n\t\t\t\tswitch ( type ) {\r\n\t\t\t\t\tcase \"only\":\r\n\t\t\t\t\tcase \"first\":\r\n\t\t\t\t\t\twhile ( (node = node.previousSibling) ) {\r\n\t\t\t\t\t\t\tif ( node.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( type === \"first\" ) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tnode = elem;\r\n\r\n\t\t\t\t\t\t/* falls through */\r\n\t\t\t\t\tcase \"last\":\r\n\t\t\t\t\t\twhile ( (node = node.nextSibling) ) {\r\n\t\t\t\t\t\t\tif ( node.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"PSEUDO\": function( pseudo, argument, context, xml ) {\r\n\t\t\t// pseudo-class names are case-insensitive\r\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\r\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\r\n\t\t\tvar fn = Expr.pseudos[ pseudo ] || Expr.pseudos[ pseudo.toLowerCase() ];\r\n\r\n\t\t\tif ( !fn ) {\r\n\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\r\n\t\t\t}\r\n\r\n\t\t\t// The user may set fn.sizzleFilter to indicate\r\n\t\t\t// that arguments are needed to create the filter function\r\n\t\t\t// just as Sizzle does\r\n\t\t\tif ( !fn.sizzleFilter ) {\r\n\t\t\t\treturn fn;\r\n\t\t\t}\r\n\r\n\t\t\treturn fn( argument, context, xml );\r\n\t\t}\r\n\t},\r\n\r\n\tpseudos: {\r\n\t\t\"not\": markFunction(function( selector, context, xml ) {\r\n\t\t\t// Trim the selector passed to compile\r\n\t\t\t// to avoid treating leading and trailing\r\n\t\t\t// spaces as combinators\r\n\t\t\tvar matcher = compile( selector.replace( rtrim, \"$1\" ), context, xml );\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn !matcher( elem );\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t\"enabled\": function( elem ) {\r\n\t\t\treturn elem.disabled === false;\r\n\t\t},\r\n\r\n\t\t\"disabled\": function( elem ) {\r\n\t\t\treturn elem.disabled === true;\r\n\t\t},\r\n\r\n\t\t\"checked\": function( elem ) {\r\n\t\t\t// In CSS3, :checked should return both checked and selected elements\r\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\r\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\r\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\r\n\t\t},\r\n\r\n\t\t\"selected\": function( elem ) {\r\n\t\t\t// Accessing this property makes selected-by-default\r\n\t\t\t// options in Safari work properly\r\n\t\t\tif ( elem.parentNode ) {\r\n\t\t\t\telem.parentNode.selectedIndex;\r\n\t\t\t}\r\n\r\n\t\t\treturn elem.selected === true;\r\n\t\t},\r\n\r\n\t\t\"parent\": function( elem ) {\r\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\r\n\t\t},\r\n\r\n\t\t\"empty\": function( elem ) {\r\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\r\n\t\t\t// :empty is only affected by element nodes and content nodes(including text(3), cdata(4)),\r\n\t\t\t//   not comment, processing instructions, or others\r\n\t\t\t// Thanks to Diego Perini for the nodeName shortcut\r\n\t\t\t//   Greater than \"@\" means alpha characters (specifically not starting with \"#\" or \"?\")\r\n\t\t\tvar nodeType;\r\n\t\t\telem = elem.firstChild;\r\n\t\t\twhile ( elem ) {\r\n\t\t\t\tif ( elem.nodeName > \"@\" || (nodeType = elem.nodeType) === 3 || nodeType === 4 ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telem = elem.nextSibling;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t\"contains\": markFunction(function( text ) {\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t\"has\": markFunction(function( selector ) {\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t\"header\": function( elem ) {\r\n\t\t\treturn rheader.test( elem.nodeName );\r\n\t\t},\r\n\r\n\t\t\"text\": function( elem ) {\r\n\t\t\tvar type, attr;\r\n\t\t\t// IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc)\r\n\t\t\t// use getAttribute instead to test this case\r\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\r\n\t\t\t\t(type = elem.type) === \"text\" &&\r\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === type );\r\n\t\t},\r\n\r\n\t\t// Input types\r\n\t\t\"radio\": createInputFunction(\"radio\"),\r\n\t\t\"checkbox\": createInputFunction(\"checkbox\"),\r\n\t\t\"file\": createInputFunction(\"file\"),\r\n\t\t\"password\": createInputFunction(\"password\"),\r\n\t\t\"image\": createInputFunction(\"image\"),\r\n\r\n\t\t\"submit\": createButtonFunction(\"submit\"),\r\n\t\t\"reset\": createButtonFunction(\"reset\"),\r\n\r\n\t\t\"button\": function( elem ) {\r\n\t\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\r\n\t\t},\r\n\r\n\t\t\"input\": function( elem ) {\r\n\t\t\treturn rinputs.test( elem.nodeName );\r\n\t\t},\r\n\r\n\t\t\"focus\": function( elem ) {\r\n\t\t\tvar doc = elem.ownerDocument;\r\n\t\t\treturn elem === doc.activeElement && (!doc.hasFocus || doc.hasFocus()) && !!(elem.type || elem.href);\r\n\t\t},\r\n\r\n\t\t\"active\": function( elem ) {\r\n\t\t\treturn elem === elem.ownerDocument.activeElement;\r\n\t\t}\r\n\t},\r\n\r\n\tsetFilters: {\r\n\t\t\"first\": function( elements, argument, not ) {\r\n\t\t\treturn not ? elements.slice( 1 ) : [ elements[0] ];\r\n\t\t},\r\n\r\n\t\t\"last\": function( elements, argument, not ) {\r\n\t\t\tvar elem = elements.pop();\r\n\t\t\treturn not ? elements : [ elem ];\r\n\t\t},\r\n\r\n\t\t\"even\": function( elements, argument, not ) {\r\n\t\t\tvar results = [],\r\n\t\t\t\ti = not ? 1 : 0,\r\n\t\t\t\tlen = elements.length;\r\n\t\t\tfor ( ; i < len; i = i + 2 ) {\r\n\t\t\t\tresults.push( elements[i] );\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t},\r\n\r\n\t\t\"odd\": function( elements, argument, not ) {\r\n\t\t\tvar results = [],\r\n\t\t\t\ti = not ? 0 : 1,\r\n\t\t\t\tlen = elements.length;\r\n\t\t\tfor ( ; i < len; i = i + 2 ) {\r\n\t\t\t\tresults.push( elements[i] );\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t},\r\n\r\n\t\t\"lt\": function( elements, argument, not ) {\r\n\t\t\treturn not ? elements.slice( +argument ) : elements.slice( 0, +argument );\r\n\t\t},\r\n\r\n\t\t\"gt\": function( elements, argument, not ) {\r\n\t\t\treturn not ? elements.slice( 0, +argument + 1 ) : elements.slice( +argument + 1 );\r\n\t\t},\r\n\r\n\t\t\"eq\": function( elements, argument, not ) {\r\n\t\t\tvar elem = elements.splice( +argument, 1 );\r\n\t\t\treturn not ? elements : elem;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Deprecated\r\nExpr.setFilters[\"nth\"] = Expr.setFilters[\"eq\"];\r\n\r\n// Back-compat\r\nExpr.filters = Expr.pseudos;\r\n\r\n// IE6/7 return a modified href\r\nif ( !assertHrefNotNormalized ) {\r\n\tExpr.attrHandle = {\r\n\t\t\"href\": function( elem ) {\r\n\t\t\treturn elem.getAttribute( \"href\", 2 );\r\n\t\t},\r\n\t\t\"type\": function( elem ) {\r\n\t\t\treturn elem.getAttribute(\"type\");\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// Add getElementsByName if usable\r\nif ( assertUsableName ) {\r\n\tExpr.order.push(\"NAME\");\r\n\tExpr.find[\"NAME\"] = function( name, context ) {\r\n\t\tif ( typeof context.getElementsByName !== strundefined ) {\r\n\t\t\treturn context.getElementsByName( name );\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// Add getElementsByClassName if usable\r\nif ( assertUsableClassName ) {\r\n\tExpr.order.splice( 1, 0, \"CLASS\" );\r\n\tExpr.find[\"CLASS\"] = function( className, context, xml ) {\r\n\t\tif ( typeof context.getElementsByClassName !== strundefined && !xml ) {\r\n\t\t\treturn context.getElementsByClassName( className );\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// If slice is not available, provide a backup\r\ntry {\r\n\tslice.call( docElem.childNodes, 0 )[0].nodeType;\r\n} catch ( e ) {\r\n\tslice = function( i ) {\r\n\t\tvar elem, results = [];\r\n\t\tfor ( ; (elem = this[i]); i++ ) {\r\n\t\t\tresults.push( elem );\r\n\t\t}\r\n\t\treturn results;\r\n\t};\r\n}\r\n\r\nvar isXML = Sizzle.isXML = function( elem ) {\r\n\t// documentElement is verified for cases where it doesn't yet exist\r\n\t// (such as loading iframes in IE - #4833)\r\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\r\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\r\n};\r\n\r\n// Element contains another\r\nvar contains = Sizzle.contains = docElem.compareDocumentPosition ?\r\n\tfunction( a, b ) {\r\n\t\treturn !!( a.compareDocumentPosition( b ) & 16 );\r\n\t} :\r\n\tdocElem.contains ?\r\n\tfunction( a, b ) {\r\n\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\r\n\t\t\tbup = b.parentNode;\r\n\t\treturn a === bup || !!( bup && bup.nodeType === 1 && adown.contains && adown.contains(bup) );\r\n\t} :\r\n\tfunction( a, b ) {\r\n\t\twhile ( (b = b.parentNode) ) {\r\n\t\t\tif ( b === a ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n/**\r\n * Utility function for retrieving the text value of an array of DOM nodes\r\n * @param {Array|Element} elem\r\n */\r\nvar getText = Sizzle.getText = function( elem ) {\r\n\tvar node,\r\n\t\tret = \"\",\r\n\t\ti = 0,\r\n\t\tnodeType = elem.nodeType;\r\n\r\n\tif ( nodeType ) {\r\n\t\tif ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\r\n\t\t\t// Use textContent for elements\r\n\t\t\t// innerText usage removed for consistency of new lines (see #11153)\r\n\t\t\tif ( typeof elem.textContent === \"string\" ) {\r\n\t\t\t\treturn elem.textContent;\r\n\t\t\t} else {\r\n\t\t\t\t// Traverse its children\r\n\t\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\r\n\t\t\t\t\tret += getText( elem );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if ( nodeType === 3 || nodeType === 4 ) {\r\n\t\t\treturn elem.nodeValue;\r\n\t\t}\r\n\t\t// Do not include comment or processing instruction nodes\r\n\t} else {\r\n\r\n\t\t// If no nodeType, this is expected to be an array\r\n\t\tfor ( ; (node = elem[i]); i++ ) {\r\n\t\t\t// Do not traverse comment nodes\r\n\t\t\tret += getText( node );\r\n\t\t}\r\n\t}\r\n\treturn ret;\r\n};\r\n\r\nSizzle.attr = function( elem, name ) {\r\n\tvar attr,\r\n\t\txml = isXML( elem );\r\n\r\n\tif ( !xml ) {\r\n\t\tname = name.toLowerCase();\r\n\t}\r\n\tif ( Expr.attrHandle[ name ] ) {\r\n\t\treturn Expr.attrHandle[ name ]( elem );\r\n\t}\r\n\tif ( assertAttributes || xml ) {\r\n\t\treturn elem.getAttribute( name );\r\n\t}\r\n\tattr = elem.getAttributeNode( name );\r\n\treturn attr ?\r\n\t\ttypeof elem[ name ] === \"boolean\" ?\r\n\t\t\telem[ name ] ? name : null :\r\n\t\t\tattr.specified ? attr.value : null :\r\n\t\tnull;\r\n};\r\n\r\nSizzle.error = function( msg ) {\r\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\r\n};\r\n\r\n// Check if the JavaScript engine is using some sort of\r\n// optimization where it does not always call our comparision\r\n// function. If that is the case, discard the hasDuplicate value.\r\n//   Thus far that includes Google Chrome.\r\n[0, 0].sort(function() {\r\n\treturn (baseHasDuplicate = 0);\r\n});\r\n\r\n\r\nif ( docElem.compareDocumentPosition ) {\r\n\tsortOrder = function( a, b ) {\r\n\t\tif ( a === b ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\treturn ( !a.compareDocumentPosition || !b.compareDocumentPosition ?\r\n\t\t\ta.compareDocumentPosition :\r\n\t\t\ta.compareDocumentPosition(b) & 4\r\n\t\t) ? -1 : 1;\r\n\t};\r\n\r\n} else {\r\n\tsortOrder = function( a, b ) {\r\n\t\t// The nodes are identical, we can exit early\r\n\t\tif ( a === b ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t\treturn 0;\r\n\r\n\t\t// Fallback to using sourceIndex (in IE) if it's available on both nodes\r\n\t\t} else if ( a.sourceIndex && b.sourceIndex ) {\r\n\t\t\treturn a.sourceIndex - b.sourceIndex;\r\n\t\t}\r\n\r\n\t\tvar al, bl,\r\n\t\t\tap = [],\r\n\t\t\tbp = [],\r\n\t\t\taup = a.parentNode,\r\n\t\t\tbup = b.parentNode,\r\n\t\t\tcur = aup;\r\n\r\n\t\t// If the nodes are siblings (or identical) we can do a quick check\r\n\t\tif ( aup === bup ) {\r\n\t\t\treturn siblingCheck( a, b );\r\n\r\n\t\t// If no parents were found then the nodes are disconnected\r\n\t\t} else if ( !aup ) {\r\n\t\t\treturn -1;\r\n\r\n\t\t} else if ( !bup ) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\t// Otherwise they're somewhere else in the tree so we need\r\n\t\t// to build up a full list of the parentNodes for comparison\r\n\t\twhile ( cur ) {\r\n\t\t\tap.unshift( cur );\r\n\t\t\tcur = cur.parentNode;\r\n\t\t}\r\n\r\n\t\tcur = bup;\r\n\r\n\t\twhile ( cur ) {\r\n\t\t\tbp.unshift( cur );\r\n\t\t\tcur = cur.parentNode;\r\n\t\t}\r\n\r\n\t\tal = ap.length;\r\n\t\tbl = bp.length;\r\n\r\n\t\t// Start walking down the tree looking for a discrepancy\r\n\t\tfor ( var i = 0; i < al && i < bl; i++ ) {\r\n\t\t\tif ( ap[i] !== bp[i] ) {\r\n\t\t\t\treturn siblingCheck( ap[i], bp[i] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// We ended someplace up the tree so do a sibling check\r\n\t\treturn i === al ?\r\n\t\t\tsiblingCheck( a, bp[i], -1 ) :\r\n\t\t\tsiblingCheck( ap[i], b, 1 );\r\n\t};\r\n\r\n\tsiblingCheck = function( a, b, ret ) {\r\n\t\tif ( a === b ) {\r\n\t\t\treturn ret;\r\n\t\t}\r\n\r\n\t\tvar cur = a.nextSibling;\r\n\r\n\t\twhile ( cur ) {\r\n\t\t\tif ( cur === b ) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\r\n\t\t\tcur = cur.nextSibling;\r\n\t\t}\r\n\r\n\t\treturn 1;\r\n\t};\r\n}\r\n\r\n// Document sorting and removing duplicates\r\nSizzle.uniqueSort = function( results ) {\r\n\tvar elem,\r\n\t\ti = 1;\r\n\r\n\tif ( sortOrder ) {\r\n\t\thasDuplicate = baseHasDuplicate;\r\n\t\tresults.sort( sortOrder );\r\n\r\n\t\tif ( hasDuplicate ) {\r\n\t\t\tfor ( ; (elem = results[i]); i++ ) {\r\n\t\t\t\tif ( elem === results[ i - 1 ] ) {\r\n\t\t\t\t\tresults.splice( i--, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn results;\r\n};\r\n\r\nfunction multipleContexts( selector, contexts, results, seed ) {\r\n\tvar i = 0,\r\n\t\tlen = contexts.length;\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tSizzle( selector, contexts[i], results, seed );\r\n\t}\r\n}\r\n\r\nfunction handlePOSGroup( selector, posfilter, argument, contexts, seed, not ) {\r\n\tvar results,\r\n\t\tfn = Expr.setFilters[ posfilter.toLowerCase() ];\r\n\r\n\tif ( !fn ) {\r\n\t\tSizzle.error( posfilter );\r\n\t}\r\n\r\n\tif ( selector || !(results = seed) ) {\r\n\t\tmultipleContexts( selector || \"*\", contexts, (results = []), seed );\r\n\t}\r\n\r\n\treturn results.length > 0 ? fn( results, argument, not ) : [];\r\n}\r\n\r\nfunction handlePOS( selector, context, results, seed, groups ) {\r\n\tvar match, not, anchor, ret, elements, currentContexts, part, lastIndex,\r\n\t\ti = 0,\r\n\t\tlen = groups.length,\r\n\t\trpos = matchExpr[\"POS\"],\r\n\t\t// This is generated here in case matchExpr[\"POS\"] is extended\r\n\t\trposgroups = new RegExp( \"^\" + rpos.source + \"(?!\" + whitespace + \")\", \"i\" ),\r\n\t\t// This is for making sure non-participating\r\n\t\t// matching groups are represented cross-browser (IE6-8)\r\n\t\tsetUndefined = function() {\r\n\t\t\tvar i = 1,\r\n\t\t\t\tlen = arguments.length - 2;\r\n\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\tif ( arguments[i] === undefined ) {\r\n\t\t\t\t\tmatch[i] = undefined;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\tfor ( ; i < len; i++ ) {\r\n\t\t// Reset regex index to 0\r\n\t\trpos.exec(\"\");\r\n\t\tselector = groups[i];\r\n\t\tret = [];\r\n\t\tanchor = 0;\r\n\t\telements = seed;\r\n\t\twhile ( (match = rpos.exec( selector )) ) {\r\n\t\t\tlastIndex = rpos.lastIndex = match.index + match[0].length;\r\n\t\t\tif ( lastIndex > anchor ) {\r\n\t\t\t\tpart = selector.slice( anchor, match.index );\r\n\t\t\t\tanchor = lastIndex;\r\n\t\t\t\tcurrentContexts = [ context ];\r\n\r\n\t\t\t\tif ( rcombinators.test(part) ) {\r\n\t\t\t\t\tif ( elements ) {\r\n\t\t\t\t\t\tcurrentContexts = elements;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telements = seed;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( (not = rendsWithNot.test( part )) ) {\r\n\t\t\t\t\tpart = part.slice( 0, -5 ).replace( rcombinators, \"$&*\" );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( match.length > 1 ) {\r\n\t\t\t\t\tmatch[0].replace( rposgroups, setUndefined );\r\n\t\t\t\t}\r\n\t\t\t\telements = handlePOSGroup( part, match[1], match[2], currentContexts, elements, not );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( elements ) {\r\n\t\t\tret = ret.concat( elements );\r\n\r\n\t\t\tif ( (part = selector.slice( anchor )) && part !== \")\" ) {\r\n\t\t\t\tif ( rcombinators.test(part) ) {\r\n\t\t\t\t\tmultipleContexts( part, ret, results, seed );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSizzle( part, context, results, seed ? seed.concat(elements) : elements );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tpush.apply( results, ret );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tSizzle( selector, context, results, seed );\r\n\t\t}\r\n\t}\r\n\r\n\t// Do not sort if this is a single filter\r\n\treturn len === 1 ? results : Sizzle.uniqueSort( results );\r\n}\r\n\r\nfunction tokenize( selector, context, xml ) {\r\n\tvar tokens, soFar, type,\r\n\t\tgroups = [],\r\n\t\ti = 0,\r\n\r\n\t\t// Catch obvious selector issues: terminal \")\"; nonempty fallback match\r\n\t\t// rselector never fails to match *something*\r\n\t\tmatch = rselector.exec( selector ),\r\n\t\tmatched = !match.pop() && !match.pop(),\r\n\t\tselectorGroups = matched && selector.match( rgroups ) || [\"\"],\r\n\r\n\t\tpreFilters = Expr.preFilter,\r\n\t\tfilters = Expr.filter,\r\n\t\tcheckContext = !xml && context !== document;\r\n\r\n\tfor ( ; (soFar = selectorGroups[i]) != null && matched; i++ ) {\r\n\t\tgroups.push( tokens = [] );\r\n\r\n\t\t// Need to make sure we're within a narrower context if necessary\r\n\t\t// Adding a descendant combinator will generate what is needed\r\n\t\tif ( checkContext ) {\r\n\t\t\tsoFar = \" \" + soFar;\r\n\t\t}\r\n\r\n\t\twhile ( soFar ) {\r\n\t\t\tmatched = false;\r\n\r\n\t\t\t// Combinators\r\n\t\t\tif ( (match = rcombinators.exec( soFar )) ) {\r\n\t\t\t\tsoFar = soFar.slice( match[0].length );\r\n\r\n\t\t\t\t// Cast descendant combinators to space\r\n\t\t\t\tmatched = tokens.push({ part: match.pop().replace( rtrim, \" \" ), captures: match });\r\n\t\t\t}\r\n\r\n\t\t\t// Filters\r\n\t\t\tfor ( type in filters ) {\r\n\t\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\r\n\t\t\t\t\t(match = preFilters[ type ]( match, context, xml )) ) ) {\r\n\r\n\t\t\t\t\tsoFar = soFar.slice( match.shift().length );\r\n\t\t\t\t\tmatched = tokens.push({ part: type, captures: match });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( !matched ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif ( !matched ) {\r\n\t\tSizzle.error( selector );\r\n\t}\r\n\r\n\treturn groups;\r\n}\r\n\r\nfunction addCombinator( matcher, combinator, context ) {\r\n\tvar dir = combinator.dir,\r\n\t\tdoneName = done++;\r\n\r\n\tif ( !matcher ) {\r\n\t\t// If there is no matcher to check, check against the context\r\n\t\tmatcher = function( elem ) {\r\n\t\t\treturn elem === context;\r\n\t\t};\r\n\t}\r\n\treturn combinator.first ?\r\n\t\tfunction( elem, context ) {\r\n\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\treturn matcher( elem, context ) && elem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} :\r\n\t\tfunction( elem, context ) {\r\n\t\t\tvar cache,\r\n\t\t\t\tdirkey = doneName + \".\" + dirruns,\r\n\t\t\t\tcachedkey = dirkey + \".\" + cachedruns;\r\n\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\tif ( (cache = elem[ expando ]) === cachedkey ) {\r\n\t\t\t\t\t\treturn elem.sizset;\r\n\t\t\t\t\t} else if ( typeof cache === \"string\" && cache.indexOf(dirkey) === 0 ) {\r\n\t\t\t\t\t\tif ( elem.sizset ) {\r\n\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\telem[ expando ] = cachedkey;\r\n\t\t\t\t\t\tif ( matcher( elem, context ) ) {\r\n\t\t\t\t\t\t\telem.sizset = true;\r\n\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telem.sizset = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n}\r\n\r\nfunction addMatcher( higher, deeper ) {\r\n\treturn higher ?\r\n\t\tfunction( elem, context ) {\r\n\t\t\tvar result = deeper( elem, context );\r\n\t\t\treturn result && higher( result === true ? elem : result, context );\r\n\t\t} :\r\n\t\tdeeper;\r\n}\r\n\r\n// [\"TAG\", \">\", \"ID\", \" \", \"CLASS\"]\r\nfunction matcherFromTokens( tokens, context, xml ) {\r\n\tvar token, matcher,\r\n\t\ti = 0;\r\n\r\n\tfor ( ; (token = tokens[i]); i++ ) {\r\n\t\tif ( Expr.relative[ token.part ] ) {\r\n\t\t\tmatcher = addCombinator( matcher, Expr.relative[ token.part ], context );\r\n\t\t} else {\r\n\t\t\ttoken.captures.push( context, xml );\r\n\t\t\tmatcher = addMatcher( matcher, Expr.filter[ token.part ].apply( null, token.captures ) );\r\n\t\t}\r\n\t}\r\n\r\n\treturn matcher;\r\n}\r\n\r\nfunction matcherFromGroupMatchers( matchers ) {\r\n\treturn function( elem, context ) {\r\n\t\tvar matcher,\r\n\t\t\tj = 0;\r\n\t\tfor ( ; (matcher = matchers[j]); j++ ) {\r\n\t\t\tif ( matcher(elem, context) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n}\r\n\r\nvar compile = Sizzle.compile = function( selector, context, xml ) {\r\n\tvar tokens, group, i,\r\n\t\tcached = compilerCache[ selector ];\r\n\r\n\t// Return a cached group function if already generated (context dependent)\r\n\tif ( cached && cached.context === context ) {\r\n\t\treturn cached;\r\n\t}\r\n\r\n\t// Generate a function of recursive functions that can be used to check each element\r\n\tgroup = tokenize( selector, context, xml );\r\n\tfor ( i = 0; (tokens = group[i]); i++ ) {\r\n\t\tgroup[i] = matcherFromTokens( tokens, context, xml );\r\n\t}\r\n\r\n\t// Cache the compiled function\r\n\tcached = compilerCache[ selector ] = matcherFromGroupMatchers( group );\r\n\tcached.context = context;\r\n\tcached.runs = cached.dirruns = 0;\r\n\tcachedSelectors.push( selector );\r\n\t// Ensure only the most recent are cached\r\n\tif ( cachedSelectors.length > Expr.cacheLength ) {\r\n\t\tdelete compilerCache[ cachedSelectors.shift() ];\r\n\t}\r\n\treturn cached;\r\n};\r\n\r\nSizzle.matches = function( expr, elements ) {\r\n\treturn Sizzle( expr, null, null, elements );\r\n};\r\n\r\nSizzle.matchesSelector = function( elem, expr ) {\r\n\treturn Sizzle( expr, null, null, [ elem ] ).length > 0;\r\n};\r\n\r\nvar select = function( selector, context, results, seed, xml ) {\r\n\t// Remove excessive whitespace\r\n\tselector = selector.replace( rtrim, \"$1\" );\r\n\tvar elements, matcher, i, len, elem, token,\r\n\t\ttype, findContext, notTokens,\r\n\t\tmatch = selector.match( rgroups ),\r\n\t\ttokens = selector.match( rtokens ),\r\n\t\tcontextNodeType = context.nodeType;\r\n\r\n\t// POS handling\r\n\tif ( matchExpr[\"POS\"].test(selector) ) {\r\n\t\treturn handlePOS( selector, context, results, seed, match );\r\n\t}\r\n\r\n\tif ( seed ) {\r\n\t\telements = slice.call( seed, 0 );\r\n\r\n\t// To maintain document order, only narrow the\r\n\t// set if there is one group\r\n\t} else if ( match && match.length === 1 ) {\r\n\r\n\t\t// Take a shortcut and set the context if the root selector is an ID\r\n\t\tif ( tokens.length > 1 && contextNodeType === 9 && !xml &&\r\n\t\t\t\t(match = matchExpr[\"ID\"].exec( tokens[0] )) ) {\r\n\r\n\t\t\tcontext = Expr.find[\"ID\"]( match[1], context, xml )[0];\r\n\t\t\tif ( !context ) {\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\r\n\t\t\tselector = selector.slice( tokens.shift().length );\r\n\t\t}\r\n\r\n\t\tfindContext = ( (match = rsibling.exec( tokens[0] )) && !match.index && context.parentNode ) || context;\r\n\r\n\t\t// Get the last token, excluding :not\r\n\t\tnotTokens = tokens.pop();\r\n\t\ttoken = notTokens.split(\":not\")[0];\r\n\r\n\t\tfor ( i = 0, len = Expr.order.length; i < len; i++ ) {\r\n\t\t\ttype = Expr.order[i];\r\n\r\n\t\t\tif ( (match = matchExpr[ type ].exec( token )) ) {\r\n\t\t\t\telements = Expr.find[ type ]( (match[1] || \"\").replace( rbackslash, \"\" ), findContext, xml );\r\n\r\n\t\t\t\tif ( elements == null ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( token === notTokens ) {\r\n\t\t\t\t\tselector = selector.slice( 0, selector.length - notTokens.length ) +\r\n\t\t\t\t\t\ttoken.replace( matchExpr[ type ], \"\" );\r\n\r\n\t\t\t\t\tif ( !selector ) {\r\n\t\t\t\t\t\tpush.apply( results, slice.call(elements, 0) );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Only loop over the given elements once\r\n\t// If selector is empty, we're already done\r\n\tif ( selector ) {\r\n\t\tmatcher = compile( selector, context, xml );\r\n\t\tdirruns = matcher.dirruns++;\r\n\r\n\t\tif ( elements == null ) {\r\n\t\t\telements = Expr.find[\"TAG\"]( \"*\", (rsibling.test( selector ) && context.parentNode) || context );\r\n\t\t}\r\n\t\tfor ( i = 0; (elem = elements[i]); i++ ) {\r\n\t\t\tcachedruns = matcher.runs++;\r\n\t\t\tif ( matcher(elem, context) ) {\r\n\t\t\t\tresults.push( elem );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn results;\r\n};\r\n\r\nif ( document.querySelectorAll ) {\r\n\t(function() {\r\n\t\tvar disconnectedMatch,\r\n\t\t\toldSelect = select,\r\n\t\t\trescape = /'|\\\\/g,\r\n\t\t\trattributeQuotes = /\\=[\\x20\\t\\r\\n\\f]*([^'\"\\]]*)[\\x20\\t\\r\\n\\f]*\\]/g,\r\n\t\t\trbuggyQSA = [],\r\n\t\t\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\r\n\t\t\t// A support test would require too much code (would include document ready)\r\n\t\t\t// just skip matchesSelector for :active\r\n\t\t\trbuggyMatches = [\":active\"],\r\n\t\t\tmatches = docElem.matchesSelector ||\r\n\t\t\t\tdocElem.mozMatchesSelector ||\r\n\t\t\t\tdocElem.webkitMatchesSelector ||\r\n\t\t\t\tdocElem.oMatchesSelector ||\r\n\t\t\t\tdocElem.msMatchesSelector;\r\n\r\n\t\t// Build QSA regex\r\n\t\t// Regex strategy adopted from Diego Perini\r\n\t\tassert(function( div ) {\r\n\t\t\tdiv.innerHTML = \"<select><option selected></option></select>\";\r\n\r\n\t\t\t// IE8 - Some boolean attributes are not treated correctly\r\n\t\t\tif ( !div.querySelectorAll(\"[selected]\").length ) {\r\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:checked|disabled|ismap|multiple|readonly|selected|value)\" );\r\n\t\t\t}\r\n\r\n\t\t\t// Webkit/Opera - :checked should return selected option elements\r\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\r\n\t\t\t// IE8 throws error here (do not put tests after this one)\r\n\t\t\tif ( !div.querySelectorAll(\":checked\").length ) {\r\n\t\t\t\trbuggyQSA.push(\":checked\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tassert(function( div ) {\r\n\r\n\t\t\t// Opera 10-12/IE9 - ^= $= *= and empty values\r\n\t\t\t// Should not select anything\r\n\t\t\tdiv.innerHTML = \"<p test=''></p>\";\r\n\t\t\tif ( div.querySelectorAll(\"[test^='']\").length ) {\r\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:\\\"\\\"|'')\" );\r\n\t\t\t}\r\n\r\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\r\n\t\t\t// IE8 throws error here (do not put tests after this one)\r\n\t\t\tdiv.innerHTML = \"<input type='hidden'>\";\r\n\t\t\tif ( !div.querySelectorAll(\":enabled\").length ) {\r\n\t\t\t\trbuggyQSA.push(\":enabled\", \":disabled\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\r\n\r\n\t\tselect = function( selector, context, results, seed, xml ) {\r\n\t\t\t// Only use querySelectorAll when not filtering,\r\n\t\t\t// when this is not xml,\r\n\t\t\t// and when no QSA bugs apply\r\n\t\t\tif ( !seed && !xml && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\r\n\t\t\t\tif ( context.nodeType === 9 ) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tpush.apply( results, slice.call(context.querySelectorAll( selector ), 0) );\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t} catch(qsaError) {}\r\n\t\t\t\t// qSA works strangely on Element-rooted queries\r\n\t\t\t\t// We can work around this by specifying an extra ID on the root\r\n\t\t\t\t// and working up from there (Thanks to Andrew Dupont for the technique)\r\n\t\t\t\t// IE 8 doesn't work on object elements\r\n\t\t\t\t} else if ( context.nodeType === 1 && context.nodeName.toLowerCase() !== \"object\" ) {\r\n\t\t\t\t\tvar old = context.getAttribute(\"id\"),\r\n\t\t\t\t\t\tnid = old || expando,\r\n\t\t\t\t\t\tnewContext = rsibling.test( selector ) && context.parentNode || context;\r\n\r\n\t\t\t\t\tif ( old ) {\r\n\t\t\t\t\t\tnid = nid.replace( rescape, \"\\\\$&\" );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontext.setAttribute( \"id\", nid );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tpush.apply( results, slice.call( newContext.querySelectorAll(\r\n\t\t\t\t\t\t\tselector.replace( rgroups, \"[id='\" + nid + \"'] $&\" )\r\n\t\t\t\t\t\t), 0 ) );\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t} catch(qsaError) {\r\n\t\t\t\t\t} finally {\r\n\t\t\t\t\t\tif ( !old ) {\r\n\t\t\t\t\t\t\tcontext.removeAttribute(\"id\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn oldSelect( selector, context, results, seed, xml );\r\n\t\t};\r\n\r\n\t\tif ( matches ) {\r\n\t\t\tassert(function( div ) {\r\n\t\t\t\t// Check to see if it's possible to do matchesSelector\r\n\t\t\t\t// on a disconnected node (IE 9)\r\n\t\t\t\tdisconnectedMatch = matches.call( div, \"div\" );\r\n\r\n\t\t\t\t// This should fail with an exception\r\n\t\t\t\t// Gecko does not error, returns false instead\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmatches.call( div, \"[test!='']:sizzle\" );\r\n\t\t\t\t\trbuggyMatches.push( Expr.match.PSEUDO );\r\n\t\t\t\t} catch ( e ) {}\r\n\t\t\t});\r\n\r\n\t\t\t// rbuggyMatches always contains :active, so no need for a length check\r\n\t\t\trbuggyMatches = /* rbuggyMatches.length && */ new RegExp( rbuggyMatches.join(\"|\") );\r\n\r\n\t\t\tSizzle.matchesSelector = function( elem, expr ) {\r\n\t\t\t\t// Make sure that attribute selectors are quoted\r\n\t\t\t\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\r\n\r\n\t\t\t\t// rbuggyMatches always contains :active, so no need for an existence check\r\n\t\t\t\tif ( !isXML( elem ) && !rbuggyMatches.test( expr ) && (!rbuggyQSA || !rbuggyQSA.test( expr )) ) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tvar ret = matches.call( elem, expr );\r\n\r\n\t\t\t\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\r\n\t\t\t\t\t\tif ( ret || disconnectedMatch ||\r\n\t\t\t\t\t\t\t\t// As well, disconnected nodes are said to be in a document\r\n\t\t\t\t\t\t\t\t// fragment in IE 9\r\n\t\t\t\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\r\n\t\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch(e) {}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Sizzle( expr, null, null, [ elem ] ).length > 0;\r\n\t\t\t};\r\n\t\t}\r\n\t})();\r\n}\r\n\r\n// Override sizzle attribute retrieval\r\nSizzle.attr = jQuery.attr;\r\njQuery.find = Sizzle;\r\njQuery.expr = Sizzle.selectors;\r\njQuery.expr[\":\"] = jQuery.expr.pseudos;\r\njQuery.unique = Sizzle.uniqueSort;\r\njQuery.text = Sizzle.getText;\r\njQuery.isXMLDoc = Sizzle.isXML;\r\njQuery.contains = Sizzle.contains;\r\n\r\n\r\n})( window );\r\nvar runtil = /Until$/,\r\n\trparentsprev = /^(?:parents|prev(?:Until|All))/,\r\n\tisSimple = /^.[^:#\\[\\.,]*$/,\r\n\trneedsContext = jQuery.expr.match.needsContext,\r\n\t// methods guaranteed to produce a unique set when starting from a unique set\r\n\tguaranteedUnique = {\r\n\t\tchildren: true,\r\n\t\tcontents: true,\r\n\t\tnext: true,\r\n\t\tprev: true\r\n\t};\r\n\r\njQuery.fn.extend({\r\n\tfind: function( selector ) {\r\n\t\tvar i, l, length, n, r, ret,\r\n\t\t\tself = this;\r\n\r\n\t\tif ( typeof selector !== \"string\" ) {\r\n\t\t\treturn jQuery( selector ).filter(function() {\r\n\t\t\t\tfor ( i = 0, l = self.length; i < l; i++ ) {\r\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tret = this.pushStack( \"\", \"find\", selector );\r\n\r\n\t\tfor ( i = 0, l = this.length; i < l; i++ ) {\r\n\t\t\tlength = ret.length;\r\n\t\t\tjQuery.find( selector, this[i], ret );\r\n\r\n\t\t\tif ( i > 0 ) {\r\n\t\t\t\t// Make sure that the results are unique\r\n\t\t\t\tfor ( n = length; n < ret.length; n++ ) {\r\n\t\t\t\t\tfor ( r = 0; r < length; r++ ) {\r\n\t\t\t\t\t\tif ( ret[r] === ret[n] ) {\r\n\t\t\t\t\t\t\tret.splice(n--, 1);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\thas: function( target ) {\r\n\t\tvar i,\r\n\t\t\ttargets = jQuery( target, this ),\r\n\t\t\tlen = targets.length;\r\n\r\n\t\treturn this.filter(function() {\r\n\t\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\t\tif ( jQuery.contains( this, targets[i] ) ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tnot: function( selector ) {\r\n\t\treturn this.pushStack( winnow(this, selector, false), \"not\", selector);\r\n\t},\r\n\r\n\tfilter: function( selector ) {\r\n\t\treturn this.pushStack( winnow(this, selector, true), \"filter\", selector );\r\n\t},\r\n\r\n\tis: function( selector ) {\r\n\t\treturn !!selector && (\r\n\t\t\ttypeof selector === \"string\" ?\r\n\t\t\t\t// If this is a positional/relative selector, check membership in the returned set\r\n\t\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\r\n\t\t\t\trneedsContext.test( selector ) ?\r\n\t\t\t\t\tjQuery( selector, this.context ).index( this[0] ) >= 0 :\r\n\t\t\t\t\tjQuery.filter( selector, this ).length > 0 :\r\n\t\t\t\tthis.filter( selector ).length > 0 );\r\n\t},\r\n\r\n\tclosest: function( selectors, context ) {\r\n\t\tvar cur,\r\n\t\t\ti = 0,\r\n\t\t\tl = this.length,\r\n\t\t\tret = [],\r\n\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\r\n\t\t\t\tjQuery( selectors, context || this.context ) :\r\n\t\t\t\t0;\r\n\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\tcur = this[i];\r\n\r\n\t\t\twhile ( cur && cur.ownerDocument && cur !== context && cur.nodeType !== 11 ) {\r\n\t\t\t\tif ( pos ? pos.index(cur) > -1 : jQuery.find.matchesSelector(cur, selectors) ) {\r\n\t\t\t\t\tret.push( cur );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcur = cur.parentNode;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tret = ret.length > 1 ? jQuery.unique( ret ) : ret;\r\n\r\n\t\treturn this.pushStack( ret, \"closest\", selectors );\r\n\t},\r\n\r\n\t// Determine the position of an element within\r\n\t// the matched set of elements\r\n\tindex: function( elem ) {\r\n\r\n\t\t// No argument, return index in parent\r\n\t\tif ( !elem ) {\r\n\t\t\treturn ( this[0] && this[0].parentNode ) ? this.prevAll().length : -1;\r\n\t\t}\r\n\r\n\t\t// index in selector\r\n\t\tif ( typeof elem === \"string\" ) {\r\n\t\t\treturn jQuery.inArray( this[0], jQuery( elem ) );\r\n\t\t}\r\n\r\n\t\t// Locate the position of the desired element\r\n\t\treturn jQuery.inArray(\r\n\t\t\t// If it receives a jQuery object, the first element is used\r\n\t\t\telem.jquery ? elem[0] : elem, this );\r\n\t},\r\n\r\n\tadd: function( selector, context ) {\r\n\t\tvar set = typeof selector === \"string\" ?\r\n\t\t\t\tjQuery( selector, context ) :\r\n\t\t\t\tjQuery.makeArray( selector && selector.nodeType ? [ selector ] : selector ),\r\n\t\t\tall = jQuery.merge( this.get(), set );\r\n\r\n\t\treturn this.pushStack( isDisconnected( set[0] ) || isDisconnected( all[0] ) ?\r\n\t\t\tall :\r\n\t\t\tjQuery.unique( all ) );\r\n\t},\r\n\r\n\taddBack: function( selector ) {\r\n\t\treturn this.add( selector == null ?\r\n\t\t\tthis.prevObject : this.prevObject.filter(selector)\r\n\t\t);\r\n\t}\r\n});\r\n\r\njQuery.fn.andSelf = jQuery.fn.addBack;\r\n\r\n// A painfully simple check to see if an element is disconnected\r\n// from a document (should be improved, where feasible).\r\nfunction isDisconnected( node ) {\r\n\treturn !node || !node.parentNode || node.parentNode.nodeType === 11;\r\n}\r\n\r\nfunction sibling( cur, dir ) {\r\n\tdo {\r\n\t\tcur = cur[ dir ];\r\n\t} while ( cur && cur.nodeType !== 1 );\r\n\r\n\treturn cur;\r\n}\r\n\r\njQuery.each({\r\n\tparent: function( elem ) {\r\n\t\tvar parent = elem.parentNode;\r\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\r\n\t},\r\n\tparents: function( elem ) {\r\n\t\treturn jQuery.dir( elem, \"parentNode\" );\r\n\t},\r\n\tparentsUntil: function( elem, i, until ) {\r\n\t\treturn jQuery.dir( elem, \"parentNode\", until );\r\n\t},\r\n\tnext: function( elem ) {\r\n\t\treturn sibling( elem, \"nextSibling\" );\r\n\t},\r\n\tprev: function( elem ) {\r\n\t\treturn sibling( elem, \"previousSibling\" );\r\n\t},\r\n\tnextAll: function( elem ) {\r\n\t\treturn jQuery.dir( elem, \"nextSibling\" );\r\n\t},\r\n\tprevAll: function( elem ) {\r\n\t\treturn jQuery.dir( elem, \"previousSibling\" );\r\n\t},\r\n\tnextUntil: function( elem, i, until ) {\r\n\t\treturn jQuery.dir( elem, \"nextSibling\", until );\r\n\t},\r\n\tprevUntil: function( elem, i, until ) {\r\n\t\treturn jQuery.dir( elem, \"previousSibling\", until );\r\n\t},\r\n\tsiblings: function( elem ) {\r\n\t\treturn jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );\r\n\t},\r\n\tchildren: function( elem ) {\r\n\t\treturn jQuery.sibling( elem.firstChild );\r\n\t},\r\n\tcontents: function( elem ) {\r\n\t\treturn jQuery.nodeName( elem, \"iframe\" ) ?\r\n\t\t\telem.contentDocument || elem.contentWindow.document :\r\n\t\t\tjQuery.merge( [], elem.childNodes );\r\n\t}\r\n}, function( name, fn ) {\r\n\tjQuery.fn[ name ] = function( until, selector ) {\r\n\t\tvar ret = jQuery.map( this, fn, until );\r\n\r\n\t\tif ( !runtil.test( name ) ) {\r\n\t\t\tselector = until;\r\n\t\t}\r\n\r\n\t\tif ( selector && typeof selector === \"string\" ) {\r\n\t\t\tret = jQuery.filter( selector, ret );\r\n\t\t}\r\n\r\n\t\tret = this.length > 1 && !guaranteedUnique[ name ] ? jQuery.unique( ret ) : ret;\r\n\r\n\t\tif ( this.length > 1 && rparentsprev.test( name ) ) {\r\n\t\t\tret = ret.reverse();\r\n\t\t}\r\n\r\n\t\treturn this.pushStack( ret, name, core_slice.call( arguments ).join(\",\") );\r\n\t};\r\n});\r\n\r\njQuery.extend({\r\n\tfilter: function( expr, elems, not ) {\r\n\t\tif ( not ) {\r\n\t\t\texpr = \":not(\" + expr + \")\";\r\n\t\t}\r\n\r\n\t\treturn elems.length === 1 ?\r\n\t\t\tjQuery.find.matchesSelector(elems[0], expr) ? [ elems[0] ] : [] :\r\n\t\t\tjQuery.find.matches(expr, elems);\r\n\t},\r\n\r\n\tdir: function( elem, dir, until ) {\r\n\t\tvar matched = [],\r\n\t\t\tcur = elem[ dir ];\r\n\r\n\t\twhile ( cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery( cur ).is( until )) ) {\r\n\t\t\tif ( cur.nodeType === 1 ) {\r\n\t\t\t\tmatched.push( cur );\r\n\t\t\t}\r\n\t\t\tcur = cur[dir];\r\n\t\t}\r\n\t\treturn matched;\r\n\t},\r\n\r\n\tsibling: function( n, elem ) {\r\n\t\tvar r = [];\r\n\r\n\t\tfor ( ; n; n = n.nextSibling ) {\r\n\t\t\tif ( n.nodeType === 1 && n !== elem ) {\r\n\t\t\t\tr.push( n );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn r;\r\n\t}\r\n});\r\n\r\n// Implement the identical functionality for filter and not\r\nfunction winnow( elements, qualifier, keep ) {\r\n\r\n\t// Can't pass null or undefined to indexOf in Firefox 4\r\n\t// Set to 0 to skip string check\r\n\tqualifier = qualifier || 0;\r\n\r\n\tif ( jQuery.isFunction( qualifier ) ) {\r\n\t\treturn jQuery.grep(elements, function( elem, i ) {\r\n\t\t\tvar retVal = !!qualifier.call( elem, i, elem );\r\n\t\t\treturn retVal === keep;\r\n\t\t});\r\n\r\n\t} else if ( qualifier.nodeType ) {\r\n\t\treturn jQuery.grep(elements, function( elem, i ) {\r\n\t\t\treturn ( elem === qualifier ) === keep;\r\n\t\t});\r\n\r\n\t} else if ( typeof qualifier === \"string\" ) {\r\n\t\tvar filtered = jQuery.grep(elements, function( elem ) {\r\n\t\t\treturn elem.nodeType === 1;\r\n\t\t});\r\n\r\n\t\tif ( isSimple.test( qualifier ) ) {\r\n\t\t\treturn jQuery.filter(qualifier, filtered, !keep);\r\n\t\t} else {\r\n\t\t\tqualifier = jQuery.filter( qualifier, filtered );\r\n\t\t}\r\n\t}\r\n\r\n\treturn jQuery.grep(elements, function( elem, i ) {\r\n\t\treturn ( jQuery.inArray( elem, qualifier ) >= 0 ) === keep;\r\n\t});\r\n}\r\nfunction createSafeFragment( document ) {\r\n\tvar list = nodeNames.split( \"|\" ),\r\n\tsafeFrag = document.createDocumentFragment();\r\n\r\n\tif ( safeFrag.createElement ) {\r\n\t\twhile ( list.length ) {\r\n\t\t\tsafeFrag.createElement(\r\n\t\t\t\tlist.pop()\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\treturn safeFrag;\r\n}\r\n\r\nvar nodeNames = \"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|\" +\r\n\t\t\"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",\r\n\trinlinejQuery = / jQuery\\d+=\"(?:null|\\d+)\"/g,\r\n\trleadingWhitespace = /^\\s+/,\r\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,\r\n\trtagName = /<([\\w:]+)/,\r\n\trtbody = /<tbody/i,\r\n\trhtml = /<|&#?\\w+;/,\r\n\trnoInnerhtml = /<(?:script|style|link)/i,\r\n\trnocache = /<(?:script|object|embed|option|style)/i,\r\n\trnoshimcache = new RegExp(\"<(?:\" + nodeNames + \")[\\\\s/>]\", \"i\"),\r\n\trcheckableType = /^(?:checkbox|radio)$/,\r\n\t// checked=\"checked\" or checked\r\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\r\n\trscriptType = /\\/(java|ecma)script/i,\r\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|\\-\\-)|[\\]\\-]{2}>\\s*$/g,\r\n\twrapMap = {\r\n\t\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\r\n\t\tlegend: [ 1, \"<fieldset>\", \"</fieldset>\" ],\r\n\t\tthead: [ 1, \"<table>\", \"</table>\" ],\r\n\t\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\r\n\t\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\r\n\t\tcol: [ 2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\" ],\r\n\t\tarea: [ 1, \"<map>\", \"</map>\" ],\r\n\t\t_default: [ 0, \"\", \"\" ]\r\n\t},\r\n\tsafeFragment = createSafeFragment( document ),\r\n\tfragmentDiv = safeFragment.appendChild( document.createElement(\"div\") );\r\n\r\nwrapMap.optgroup = wrapMap.option;\r\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\r\nwrapMap.th = wrapMap.td;\r\n\r\n// IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,\r\n// unless wrapped in a div with non-breaking characters in front of it.\r\nif ( !jQuery.support.htmlSerialize ) {\r\n\twrapMap._default = [ 1, \"X<div>\", \"</div>\" ];\r\n}\r\n\r\njQuery.fn.extend({\r\n\ttext: function( value ) {\r\n\t\treturn jQuery.access( this, function( value ) {\r\n\t\t\treturn value === undefined ?\r\n\t\t\t\tjQuery.text( this ) :\r\n\t\t\t\tthis.empty().append( ( this[0] && this[0].ownerDocument || document ).createTextNode( value ) );\r\n\t\t}, null, value, arguments.length );\r\n\t},\r\n\r\n\twrapAll: function( html ) {\r\n\t\tif ( jQuery.isFunction( html ) ) {\r\n\t\t\treturn this.each(function(i) {\r\n\t\t\t\tjQuery(this).wrapAll( html.call(this, i) );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( this[0] ) {\r\n\t\t\t// The elements to wrap the target around\r\n\t\t\tvar wrap = jQuery( html, this[0].ownerDocument ).eq(0).clone(true);\r\n\r\n\t\t\tif ( this[0].parentNode ) {\r\n\t\t\t\twrap.insertBefore( this[0] );\r\n\t\t\t}\r\n\r\n\t\t\twrap.map(function() {\r\n\t\t\t\tvar elem = this;\r\n\r\n\t\t\t\twhile ( elem.firstChild && elem.firstChild.nodeType === 1 ) {\r\n\t\t\t\t\telem = elem.firstChild;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn elem;\r\n\t\t\t}).append( this );\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\twrapInner: function( html ) {\r\n\t\tif ( jQuery.isFunction( html ) ) {\r\n\t\t\treturn this.each(function(i) {\r\n\t\t\t\tjQuery(this).wrapInner( html.call(this, i) );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar self = jQuery( this ),\r\n\t\t\t\tcontents = self.contents();\r\n\r\n\t\t\tif ( contents.length ) {\r\n\t\t\t\tcontents.wrapAll( html );\r\n\r\n\t\t\t} else {\r\n\t\t\t\tself.append( html );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\twrap: function( html ) {\r\n\t\tvar isFunction = jQuery.isFunction( html );\r\n\r\n\t\treturn this.each(function(i) {\r\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );\r\n\t\t});\r\n\t},\r\n\r\n\tunwrap: function() {\r\n\t\treturn this.parent().each(function() {\r\n\t\t\tif ( !jQuery.nodeName( this, \"body\" ) ) {\r\n\t\t\t\tjQuery( this ).replaceWith( this.childNodes );\r\n\t\t\t}\r\n\t\t}).end();\r\n\t},\r\n\r\n\tappend: function() {\r\n\t\treturn this.domManip(arguments, true, function( elem ) {\r\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 ) {\r\n\t\t\t\tthis.appendChild( elem );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tprepend: function() {\r\n\t\treturn this.domManip(arguments, true, function( elem ) {\r\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 ) {\r\n\t\t\t\tthis.insertBefore( elem, this.firstChild );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tbefore: function() {\r\n\t\tif ( !isDisconnected( this[0] ) ) {\r\n\t\t\treturn this.domManip(arguments, false, function( elem ) {\r\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( arguments.length ) {\r\n\t\t\tvar set = jQuery.clean( arguments );\r\n\t\t\treturn this.pushStack( jQuery.merge( set, this ), \"before\", this.selector );\r\n\t\t}\r\n\t},\r\n\r\n\tafter: function() {\r\n\t\tif ( !isDisconnected( this[0] ) ) {\r\n\t\t\treturn this.domManip(arguments, false, function( elem ) {\r\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( arguments.length ) {\r\n\t\t\tvar set = jQuery.clean( arguments );\r\n\t\t\treturn this.pushStack( jQuery.merge( this, set ), \"after\", this.selector );\r\n\t\t}\r\n\t},\r\n\r\n\t// keepData is for internal use only--do not document\r\n\tremove: function( selector, keepData ) {\r\n\t\tvar elem,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\r\n\t\t\tif ( !selector || jQuery.filter( selector, [ elem ] ).length ) {\r\n\t\t\t\tif ( !keepData && elem.nodeType === 1 ) {\r\n\t\t\t\t\tjQuery.cleanData( elem.getElementsByTagName(\"*\") );\r\n\t\t\t\t\tjQuery.cleanData( [ elem ] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( elem.parentNode ) {\r\n\t\t\t\t\telem.parentNode.removeChild( elem );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tempty: function() {\r\n\t\tvar elem,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\r\n\t\t\t// Remove element nodes and prevent memory leaks\r\n\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\tjQuery.cleanData( elem.getElementsByTagName(\"*\") );\r\n\t\t\t}\r\n\r\n\t\t\t// Remove any remaining nodes\r\n\t\t\twhile ( elem.firstChild ) {\r\n\t\t\t\telem.removeChild( elem.firstChild );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\r\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\r\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\r\n\r\n\t\treturn this.map( function () {\r\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\r\n\t\t});\r\n\t},\r\n\r\n\thtml: function( value ) {\r\n\t\treturn jQuery.access( this, function( value ) {\r\n\t\t\tvar elem = this[0] || {},\r\n\t\t\t\ti = 0,\r\n\t\t\t\tl = this.length;\r\n\r\n\t\t\tif ( value === undefined ) {\r\n\t\t\t\treturn elem.nodeType === 1 ?\r\n\t\t\t\t\telem.innerHTML.replace( rinlinejQuery, \"\" ) :\r\n\t\t\t\t\tundefined;\r\n\t\t\t}\r\n\r\n\t\t\t// See if we can take a shortcut and just use innerHTML\r\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\r\n\t\t\t\t( jQuery.support.htmlSerialize || !rnoshimcache.test( value )  ) &&\r\n\t\t\t\t( jQuery.support.leadingWhitespace || !rleadingWhitespace.test( value ) ) &&\r\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [\"\", \"\"] )[1].toLowerCase() ] ) {\r\n\r\n\t\t\t\tvalue = value.replace( rxhtmlTag, \"<$1></$2>\" );\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (; i < l; i++ ) {\r\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\r\n\t\t\t\t\t\telem = this[i] || {};\r\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\t\tjQuery.cleanData( elem.getElementsByTagName( \"*\" ) );\r\n\t\t\t\t\t\t\telem.innerHTML = value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telem = 0;\r\n\r\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\r\n\t\t\t\t} catch(e) {}\r\n\t\t\t}\r\n\r\n\t\t\tif ( elem ) {\r\n\t\t\t\tthis.empty().append( value );\r\n\t\t\t}\r\n\t\t}, null, value, arguments.length );\r\n\t},\r\n\r\n\treplaceWith: function( value ) {\r\n\t\tif ( !isDisconnected( this[0] ) ) {\r\n\t\t\t// Make sure that the elements are removed from the DOM before they are inserted\r\n\t\t\t// this can help fix replacing a parent with child elements\r\n\t\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\t\treturn this.each(function(i) {\r\n\t\t\t\t\tvar self = jQuery(this), old = self.html();\r\n\t\t\t\t\tself.replaceWith( value.call( this, i, old ) );\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof value !== \"string\" ) {\r\n\t\t\t\tvalue = jQuery( value ).detach();\r\n\t\t\t}\r\n\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar next = this.nextSibling,\r\n\t\t\t\t\tparent = this.parentNode;\r\n\r\n\t\t\t\tjQuery( this ).remove();\r\n\r\n\t\t\t\tif ( next ) {\r\n\t\t\t\t\tjQuery(next).before( value );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tjQuery(parent).append( value );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn this.length ?\r\n\t\t\tthis.pushStack( jQuery(jQuery.isFunction(value) ? value() : value), \"replaceWith\", value ) :\r\n\t\t\tthis;\r\n\t},\r\n\r\n\tdetach: function( selector ) {\r\n\t\treturn this.remove( selector, true );\r\n\t},\r\n\r\n\tdomManip: function( args, table, callback ) {\r\n\r\n\t\t// Flatten any nested arrays\r\n\t\targs = [].concat.apply( [], args );\r\n\r\n\t\tvar results, first, fragment, iNoClone,\r\n\t\t\ti = 0,\r\n\t\t\tvalue = args[0],\r\n\t\t\tscripts = [],\r\n\t\t\tl = this.length;\r\n\r\n\t\t// We can't cloneNode fragments that contain checked, in WebKit\r\n\t\tif ( !jQuery.support.checkClone && l > 1 && typeof value === \"string\" && rchecked.test( value ) ) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tjQuery(this).domManip( args, table, callback );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( jQuery.isFunction(value) ) {\r\n\t\t\treturn this.each(function(i) {\r\n\t\t\t\tvar self = jQuery(this);\r\n\t\t\t\targs[0] = value.call( this, i, table ? self.html() : undefined );\r\n\t\t\t\tself.domManip( args, table, callback );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( this[0] ) {\r\n\t\t\tresults = jQuery.buildFragment( args, this, scripts );\r\n\t\t\tfragment = results.fragment;\r\n\t\t\tfirst = fragment.firstChild;\r\n\r\n\t\t\tif ( fragment.childNodes.length === 1 ) {\r\n\t\t\t\tfragment = first;\r\n\t\t\t}\r\n\r\n\t\t\tif ( first ) {\r\n\t\t\t\ttable = table && jQuery.nodeName( first, \"tr\" );\r\n\r\n\t\t\t\t// Use the original fragment for the last item instead of the first because it can end up\r\n\t\t\t\t// being emptied incorrectly in certain situations (#8070).\r\n\t\t\t\t// Fragments from the fragment cache must always be cloned and never used in place.\r\n\t\t\t\tfor ( iNoClone = results.cacheable || l - 1; i < l; i++ ) {\r\n\t\t\t\t\tcallback.call(\r\n\t\t\t\t\t\ttable && jQuery.nodeName( this[i], \"table\" ) ?\r\n\t\t\t\t\t\t\tfindOrAppend( this[i], \"tbody\" ) :\r\n\t\t\t\t\t\t\tthis[i],\r\n\t\t\t\t\t\ti === iNoClone ?\r\n\t\t\t\t\t\t\tfragment :\r\n\t\t\t\t\t\t\tjQuery.clone( fragment, true, true )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Fix #11809: Avoid leaking memory\r\n\t\t\tfragment = first = null;\r\n\r\n\t\t\tif ( scripts.length ) {\r\n\t\t\t\tjQuery.each( scripts, function( i, elem ) {\r\n\t\t\t\t\tif ( elem.src ) {\r\n\t\t\t\t\t\tif ( jQuery.ajax ) {\r\n\t\t\t\t\t\t\tjQuery.ajax({\r\n\t\t\t\t\t\t\t\turl: elem.src,\r\n\t\t\t\t\t\t\t\ttype: \"GET\",\r\n\t\t\t\t\t\t\t\tdataType: \"script\",\r\n\t\t\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\t\t\tglobal: false,\r\n\t\t\t\t\t\t\t\t\"throws\": true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tjQuery.error(\"no ajax\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjQuery.globalEval( ( elem.text || elem.textContent || elem.innerHTML || \"\" ).replace( rcleanScript, \"\" ) );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( elem.parentNode ) {\r\n\t\t\t\t\t\telem.parentNode.removeChild( elem );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\nfunction findOrAppend( elem, tag ) {\r\n\treturn elem.getElementsByTagName( tag )[0] || elem.appendChild( elem.ownerDocument.createElement( tag ) );\r\n}\r\n\r\nfunction cloneCopyEvent( src, dest ) {\r\n\r\n\tif ( dest.nodeType !== 1 || !jQuery.hasData( src ) ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar type, i, l,\r\n\t\toldData = jQuery._data( src ),\r\n\t\tcurData = jQuery._data( dest, oldData ),\r\n\t\tevents = oldData.events;\r\n\r\n\tif ( events ) {\r\n\t\tdelete curData.handle;\r\n\t\tcurData.events = {};\r\n\r\n\t\tfor ( type in events ) {\r\n\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\r\n\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// make the cloned public data object a copy from the original\r\n\tif ( curData.data ) {\r\n\t\tcurData.data = jQuery.extend( {}, curData.data );\r\n\t}\r\n}\r\n\r\nfunction cloneFixAttributes( src, dest ) {\r\n\tvar nodeName;\r\n\r\n\t// We do not need to do anything for non-Elements\r\n\tif ( dest.nodeType !== 1 ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// clearAttributes removes the attributes, which we don't want,\r\n\t// but also removes the attachEvent events, which we *do* want\r\n\tif ( dest.clearAttributes ) {\r\n\t\tdest.clearAttributes();\r\n\t}\r\n\r\n\t// mergeAttributes, in contrast, only merges back on the\r\n\t// original attributes, not the events\r\n\tif ( dest.mergeAttributes ) {\r\n\t\tdest.mergeAttributes( src );\r\n\t}\r\n\r\n\tnodeName = dest.nodeName.toLowerCase();\r\n\r\n\tif ( nodeName === \"object\" ) {\r\n\t\t// IE6-10 improperly clones children of object elements using classid.\r\n\t\t// IE10 throws NoModificationAllowedError if parent is null, #12132.\r\n\t\tif ( dest.parentNode ) {\r\n\t\t\tdest.outerHTML = src.outerHTML;\r\n\t\t}\r\n\r\n\t\t// This path appears unavoidable for IE9. When cloning an object\r\n\t\t// element in IE9, the outerHTML strategy above is not sufficient.\r\n\t\t// If the src has innerHTML and the destination does not,\r\n\t\t// copy the src.innerHTML into the dest.innerHTML. #10324\r\n\t\tif ( jQuery.support.html5Clone && (src.innerHTML && !jQuery.trim(dest.innerHTML)) ) {\r\n\t\t\tdest.innerHTML = src.innerHTML;\r\n\t\t}\r\n\r\n\t} else if ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\r\n\t\t// IE6-8 fails to persist the checked state of a cloned checkbox\r\n\t\t// or radio button. Worse, IE6-7 fail to give the cloned element\r\n\t\t// a checked appearance if the defaultChecked value isn't also set\r\n\r\n\t\tdest.defaultChecked = dest.checked = src.checked;\r\n\r\n\t\t// IE6-7 get confused and end up setting the value of a cloned\r\n\t\t// checkbox/radio button to an empty string instead of \"on\"\r\n\t\tif ( dest.value !== src.value ) {\r\n\t\t\tdest.value = src.value;\r\n\t\t}\r\n\r\n\t// IE6-8 fails to return the selected option to the default selected\r\n\t// state when cloning options\r\n\t} else if ( nodeName === \"option\" ) {\r\n\t\tdest.selected = src.defaultSelected;\r\n\r\n\t// IE6-8 fails to set the defaultValue to the correct value when\r\n\t// cloning other types of input fields\r\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\r\n\t\tdest.defaultValue = src.defaultValue;\r\n\r\n\t// IE blanks contents when cloning scripts\r\n\t} else if ( nodeName === \"script\" && dest.text !== src.text ) {\r\n\t\tdest.text = src.text;\r\n\t}\r\n\r\n\t// Event data gets referenced instead of copied if the expando\r\n\t// gets copied too\r\n\tdest.removeAttribute( jQuery.expando );\r\n}\r\n\r\njQuery.buildFragment = function( args, context, scripts ) {\r\n\tvar fragment, cacheable, cachehit,\r\n\t\tfirst = args[ 0 ];\r\n\r\n\t// Set context from what may come in as undefined or a jQuery collection or a node\r\n\tcontext = context || document;\r\n\tcontext = (context[0] || context).ownerDocument || context[0] || context;\r\n\r\n\t// Ensure that an attr object doesn't incorrectly stand in as a document object\r\n\t// Chrome and Firefox seem to allow this to occur and will throw exception\r\n\t// Fixes #8950\r\n\tif ( typeof context.createDocumentFragment === \"undefined\" ) {\r\n\t\tcontext = document;\r\n\t}\r\n\r\n\t// Only cache \"small\" (1/2 KB) HTML strings that are associated with the main document\r\n\t// Cloning options loses the selected state, so don't cache them\r\n\t// IE 6 doesn't like it when you put <object> or <embed> elements in a fragment\r\n\t// Also, WebKit does not clone 'checked' attributes on cloneNode, so don't cache\r\n\t// Lastly, IE6,7,8 will not correctly reuse cached fragments that were created from unknown elems #10501\r\n\tif ( args.length === 1 && typeof first === \"string\" && first.length < 512 && context === document &&\r\n\t\tfirst.charAt(0) === \"<\" && !rnocache.test( first ) &&\r\n\t\t(jQuery.support.checkClone || !rchecked.test( first )) &&\r\n\t\t(jQuery.support.html5Clone || !rnoshimcache.test( first )) ) {\r\n\r\n\t\t// Mark cacheable and look for a hit\r\n\t\tcacheable = true;\r\n\t\tfragment = jQuery.fragments[ first ];\r\n\t\tcachehit = fragment !== undefined;\r\n\t}\r\n\r\n\tif ( !fragment ) {\r\n\t\tfragment = context.createDocumentFragment();\r\n\t\tjQuery.clean( args, context, fragment, scripts );\r\n\r\n\t\t// Update the cache, but only store false\r\n\t\t// unless this is a second parsing of the same content\r\n\t\tif ( cacheable ) {\r\n\t\t\tjQuery.fragments[ first ] = cachehit && fragment;\r\n\t\t}\r\n\t}\r\n\r\n\treturn { fragment: fragment, cacheable: cacheable };\r\n};\r\n\r\njQuery.fragments = {};\r\n\r\njQuery.each({\r\n\tappendTo: \"append\",\r\n\tprependTo: \"prepend\",\r\n\tinsertBefore: \"before\",\r\n\tinsertAfter: \"after\",\r\n\treplaceAll: \"replaceWith\"\r\n}, function( name, original ) {\r\n\tjQuery.fn[ name ] = function( selector ) {\r\n\t\tvar elems,\r\n\t\t\ti = 0,\r\n\t\t\tret = [],\r\n\t\t\tinsert = jQuery( selector ),\r\n\t\t\tl = insert.length,\r\n\t\t\tparent = this.length === 1 && this[0].parentNode;\r\n\r\n\t\tif ( (parent == null || parent && parent.nodeType === 11 && parent.childNodes.length === 1) && l === 1 ) {\r\n\t\t\tinsert[ original ]( this[0] );\r\n\t\t\treturn this;\r\n\t\t} else {\r\n\t\t\tfor ( ; i < l; i++ ) {\r\n\t\t\t\telems = ( i > 0 ? this.clone(true) : this ).get();\r\n\t\t\t\tjQuery( insert[i] )[ original ]( elems );\r\n\t\t\t\tret = ret.concat( elems );\r\n\t\t\t}\r\n\r\n\t\t\treturn this.pushStack( ret, name, insert.selector );\r\n\t\t}\r\n\t};\r\n});\r\n\r\nfunction getAll( elem ) {\r\n\tif ( typeof elem.getElementsByTagName !== \"undefined\" ) {\r\n\t\treturn elem.getElementsByTagName( \"*\" );\r\n\r\n\t} else if ( typeof elem.querySelectorAll !== \"undefined\" ) {\r\n\t\treturn elem.querySelectorAll( \"*\" );\r\n\r\n\t} else {\r\n\t\treturn [];\r\n\t}\r\n}\r\n\r\n// Used in clean, fixes the defaultChecked property\r\nfunction fixDefaultChecked( elem ) {\r\n\tif ( rcheckableType.test( elem.type ) ) {\r\n\t\telem.defaultChecked = elem.checked;\r\n\t}\r\n}\r\n\r\njQuery.extend({\r\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\r\n\t\tvar srcElements,\r\n\t\t\tdestElements,\r\n\t\t\ti,\r\n\t\t\tclone;\r\n\r\n\t\tif ( jQuery.support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test( \"<\" + elem.nodeName + \">\" ) ) {\r\n\t\t\tclone = elem.cloneNode( true );\r\n\r\n\t\t// IE<=8 does not properly clone detached, unknown element nodes\r\n\t\t} else {\r\n\t\t\tfragmentDiv.innerHTML = elem.outerHTML;\r\n\t\t\tfragmentDiv.removeChild( clone = fragmentDiv.firstChild );\r\n\t\t}\r\n\r\n\t\tif ( (!jQuery.support.noCloneEvent || !jQuery.support.noCloneChecked) &&\r\n\t\t\t\t(elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem) ) {\r\n\t\t\t// IE copies events bound via attachEvent when using cloneNode.\r\n\t\t\t// Calling detachEvent on the clone will also remove the events\r\n\t\t\t// from the original. In order to get around this, we use some\r\n\t\t\t// proprietary methods to clear the events. Thanks to MooTools\r\n\t\t\t// guys for this hotness.\r\n\r\n\t\t\tcloneFixAttributes( elem, clone );\r\n\r\n\t\t\t// Using Sizzle here is crazy slow, so we use getElementsByTagName instead\r\n\t\t\tsrcElements = getAll( elem );\r\n\t\t\tdestElements = getAll( clone );\r\n\r\n\t\t\t// Weird iteration because IE will replace the length property\r\n\t\t\t// with an element if you are cloning the body and one of the\r\n\t\t\t// elements on the page has a name or id of \"length\"\r\n\t\t\tfor ( i = 0; srcElements[i]; ++i ) {\r\n\t\t\t\t// Ensure that the destination node is not null; Fixes #9587\r\n\t\t\t\tif ( destElements[i] ) {\r\n\t\t\t\t\tcloneFixAttributes( srcElements[i], destElements[i] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Copy the events from the original to the clone\r\n\t\tif ( dataAndEvents ) {\r\n\t\t\tcloneCopyEvent( elem, clone );\r\n\r\n\t\t\tif ( deepDataAndEvents ) {\r\n\t\t\t\tsrcElements = getAll( elem );\r\n\t\t\t\tdestElements = getAll( clone );\r\n\r\n\t\t\t\tfor ( i = 0; srcElements[i]; ++i ) {\r\n\t\t\t\t\tcloneCopyEvent( srcElements[i], destElements[i] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsrcElements = destElements = null;\r\n\r\n\t\t// Return the cloned set\r\n\t\treturn clone;\r\n\t},\r\n\r\n\tclean: function( elems, context, fragment, scripts ) {\r\n\t\tvar j, safe, elem, tag, wrap, depth, div, hasBody, tbody, len, handleScript, jsTags,\r\n\t\t\ti = 0,\r\n\t\t\tret = [];\r\n\r\n\t\t// Ensure that context is a document\r\n\t\tif ( !context || typeof context.createDocumentFragment === \"undefined\" ) {\r\n\t\t\tcontext = document;\r\n\t\t}\r\n\r\n\t\t// Use the already-created safe fragment if context permits\r\n\t\tfor ( safe = context === document && safeFragment; (elem = elems[i]) != null; i++ ) {\r\n\t\t\tif ( typeof elem === \"number\" ) {\r\n\t\t\t\telem += \"\";\r\n\t\t\t}\r\n\r\n\t\t\tif ( !elem ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Convert html string into DOM nodes\r\n\t\t\tif ( typeof elem === \"string\" ) {\r\n\t\t\t\tif ( !rhtml.test( elem ) ) {\r\n\t\t\t\t\telem = context.createTextNode( elem );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Ensure a safe container in which to render the html\r\n\t\t\t\t\tsafe = safe || createSafeFragment( context );\r\n\t\t\t\t\tdiv = div || safe.appendChild( context.createElement(\"div\") );\r\n\r\n\t\t\t\t\t// Fix \"XHTML\"-style tags in all browsers\r\n\t\t\t\t\telem = elem.replace(rxhtmlTag, \"<$1></$2>\");\r\n\r\n\t\t\t\t\t// Go to html and back, then peel off extra wrappers\r\n\t\t\t\t\ttag = ( rtagName.exec( elem ) || [\"\", \"\"] )[1].toLowerCase();\r\n\t\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\r\n\t\t\t\t\tdepth = wrap[0];\r\n\t\t\t\t\tdiv.innerHTML = wrap[1] + elem + wrap[2];\r\n\r\n\t\t\t\t\t// Move to the right depth\r\n\t\t\t\t\twhile ( depth-- ) {\r\n\t\t\t\t\t\tdiv = div.lastChild;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Remove IE's autoinserted <tbody> from table fragments\r\n\t\t\t\t\tif ( !jQuery.support.tbody ) {\r\n\r\n\t\t\t\t\t\t// String was a <table>, *may* have spurious <tbody>\r\n\t\t\t\t\t\thasBody = rtbody.test(elem);\r\n\t\t\t\t\t\t\ttbody = tag === \"table\" && !hasBody ?\r\n\t\t\t\t\t\t\t\tdiv.firstChild && div.firstChild.childNodes :\r\n\r\n\t\t\t\t\t\t\t\t// String was a bare <thead> or <tfoot>\r\n\t\t\t\t\t\t\t\twrap[1] === \"<table>\" && !hasBody ?\r\n\t\t\t\t\t\t\t\t\tdiv.childNodes :\r\n\t\t\t\t\t\t\t\t\t[];\r\n\r\n\t\t\t\t\t\tfor ( j = tbody.length - 1; j >= 0 ; --j ) {\r\n\t\t\t\t\t\t\tif ( jQuery.nodeName( tbody[ j ], \"tbody\" ) && !tbody[ j ].childNodes.length ) {\r\n\t\t\t\t\t\t\t\ttbody[ j ].parentNode.removeChild( tbody[ j ] );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// IE completely kills leading whitespace when innerHTML is used\r\n\t\t\t\t\tif ( !jQuery.support.leadingWhitespace && rleadingWhitespace.test( elem ) ) {\r\n\t\t\t\t\t\tdiv.insertBefore( context.createTextNode( rleadingWhitespace.exec(elem)[0] ), div.firstChild );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telem = div.childNodes;\r\n\r\n\t\t\t\t\t// Remember the top-level container for proper cleanup\r\n\t\t\t\t\tdiv = safe.lastChild;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( elem.nodeType ) {\r\n\t\t\t\tret.push( elem );\r\n\t\t\t} else {\r\n\t\t\t\tret = jQuery.merge( ret, elem );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Fix #11356: Clear elements from safeFragment\r\n\t\tif ( div ) {\r\n\t\t\tsafe.removeChild( div );\r\n\t\t\telem = div = safe = null;\r\n\t\t}\r\n\r\n\t\t// Reset defaultChecked for any radios and checkboxes\r\n\t\t// about to be appended to the DOM in IE 6/7 (#8060)\r\n\t\tif ( !jQuery.support.appendChecked ) {\r\n\t\t\tfor ( i = 0; (elem = ret[i]) != null; i++ ) {\r\n\t\t\t\tif ( jQuery.nodeName( elem, \"input\" ) ) {\r\n\t\t\t\t\tfixDefaultChecked( elem );\r\n\t\t\t\t} else if ( typeof elem.getElementsByTagName !== \"undefined\" ) {\r\n\t\t\t\t\tjQuery.grep( elem.getElementsByTagName(\"input\"), fixDefaultChecked );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Append elements to a provided document fragment\r\n\t\tif ( fragment ) {\r\n\t\t\t// Special handling of each script element\r\n\t\t\thandleScript = function( elem ) {\r\n\t\t\t\t// Check if we consider it executable\r\n\t\t\t\tif ( !elem.type || rscriptType.test( elem.type ) ) {\r\n\t\t\t\t\t// Detach the script and store it in the scripts array (if provided) or the fragment\r\n\t\t\t\t\t// Return truthy to indicate that it has been handled\r\n\t\t\t\t\treturn scripts ?\r\n\t\t\t\t\t\tscripts.push( elem.parentNode ? elem.parentNode.removeChild( elem ) : elem ) :\r\n\t\t\t\t\t\tfragment.appendChild( elem );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tfor ( i = 0; (elem = ret[i]) != null; i++ ) {\r\n\t\t\t\t// Check if we're done after handling an executable script\r\n\t\t\t\tif ( !( jQuery.nodeName( elem, \"script\" ) && handleScript( elem ) ) ) {\r\n\t\t\t\t\t// Append to fragment and handle embedded scripts\r\n\t\t\t\t\tfragment.appendChild( elem );\r\n\t\t\t\t\tif ( typeof elem.getElementsByTagName !== \"undefined\" ) {\r\n\t\t\t\t\t\t// handleScript alters the DOM, so use jQuery.merge to ensure snapshot iteration\r\n\t\t\t\t\t\tjsTags = jQuery.grep( jQuery.merge( [], elem.getElementsByTagName(\"script\") ), handleScript );\r\n\r\n\t\t\t\t\t\t// Splice the scripts into ret after their former ancestor and advance our index beyond them\r\n\t\t\t\t\t\tret.splice.apply( ret, [i + 1, 0].concat( jsTags ) );\r\n\t\t\t\t\t\ti += jsTags.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\tcleanData: function( elems, /* internal */ acceptData ) {\r\n\t\tvar data, id, elem, type,\r\n\t\t\ti = 0,\r\n\t\t\tinternalKey = jQuery.expando,\r\n\t\t\tcache = jQuery.cache,\r\n\t\t\tdeleteExpando = jQuery.support.deleteExpando,\r\n\t\t\tspecial = jQuery.event.special;\r\n\r\n\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\r\n\r\n\t\t\tif ( acceptData || jQuery.acceptData( elem ) ) {\r\n\r\n\t\t\t\tid = elem[ internalKey ];\r\n\t\t\t\tdata = id && cache[ id ];\r\n\r\n\t\t\t\tif ( data ) {\r\n\t\t\t\t\tif ( data.events ) {\r\n\t\t\t\t\t\tfor ( type in data.events ) {\r\n\t\t\t\t\t\t\tif ( special[ type ] ) {\r\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\r\n\r\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Remove cache only if it was not already removed by jQuery.event.remove\r\n\t\t\t\t\tif ( cache[ id ] ) {\r\n\r\n\t\t\t\t\t\tdelete cache[ id ];\r\n\r\n\t\t\t\t\t\t// IE does not allow us to delete expando properties from nodes,\r\n\t\t\t\t\t\t// nor does it have a removeAttribute function on Document nodes;\r\n\t\t\t\t\t\t// we must handle all of these cases\r\n\t\t\t\t\t\tif ( deleteExpando ) {\r\n\t\t\t\t\t\t\tdelete elem[ internalKey ];\r\n\r\n\t\t\t\t\t\t} else if ( elem.removeAttribute ) {\r\n\t\t\t\t\t\t\telem.removeAttribute( internalKey );\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem[ internalKey ] = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tjQuery.deletedIds.push( id );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n// Limit scope pollution from any deprecated API\r\n(function() {\r\n\r\nvar matched, browser;\r\n\r\n// Use of jQuery.browser is frowned upon.\r\n// More details: http://api.jquery.com/jQuery.browser\r\n// jQuery.uaMatch maintained for back-compat\r\njQuery.uaMatch = function( ua ) {\r\n\tua = ua.toLowerCase();\r\n\r\n\tvar match = /(chrome)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n\t\t/(webkit)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n\t\t/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n\t\t/(msie) ([\\w.]+)/.exec( ua ) ||\r\n\t\tua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec( ua ) ||\r\n\t\t[];\r\n\r\n\treturn {\r\n\t\tbrowser: match[ 1 ] || \"\",\r\n\t\tversion: match[ 2 ] || \"0\"\r\n\t};\r\n};\r\n\r\nmatched = jQuery.uaMatch( navigator.userAgent );\r\nbrowser = {};\r\n\r\nif ( matched.browser ) {\r\n\tbrowser[ matched.browser ] = true;\r\n\tbrowser.version = matched.version;\r\n}\r\n\r\n// Deprecated, use jQuery.browser.webkit instead\r\n// Maintained for back-compat only\r\nif ( browser.webkit ) {\r\n\tbrowser.safari = true;\r\n}\r\n\r\njQuery.browser = browser;\r\n\r\njQuery.sub = function() {\r\n\tfunction jQuerySub( selector, context ) {\r\n\t\treturn new jQuerySub.fn.init( selector, context );\r\n\t}\r\n\tjQuery.extend( true, jQuerySub, this );\r\n\tjQuerySub.superclass = this;\r\n\tjQuerySub.fn = jQuerySub.prototype = this();\r\n\tjQuerySub.fn.constructor = jQuerySub;\r\n\tjQuerySub.sub = this.sub;\r\n\tjQuerySub.fn.init = function init( selector, context ) {\r\n\t\tif ( context && context instanceof jQuery && !(context instanceof jQuerySub) ) {\r\n\t\t\tcontext = jQuerySub( context );\r\n\t\t}\r\n\r\n\t\treturn jQuery.fn.init.call( this, selector, context, rootjQuerySub );\r\n\t};\r\n\tjQuerySub.fn.init.prototype = jQuerySub.fn;\r\n\tvar rootjQuerySub = jQuerySub(document);\r\n\treturn jQuerySub;\r\n};\r\n\t\r\n})();\r\nvar curCSS, iframe, iframeDoc,\r\n\tralpha = /alpha\\([^)]*\\)/i,\r\n\tropacity = /opacity=([^)]*)/,\r\n\trposition = /^(top|right|bottom|left)$/,\r\n\trmargin = /^margin/,\r\n\trnumsplit = new RegExp( \"^(\" + core_pnum + \")(.*)$\", \"i\" ),\r\n\trnumnonpx = new RegExp( \"^(\" + core_pnum + \")(?!px)[a-z%]+$\", \"i\" ),\r\n\trrelNum = new RegExp( \"^([-+])=(\" + core_pnum + \")\", \"i\" ),\r\n\telemdisplay = {},\r\n\r\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\r\n\tcssNormalTransform = {\r\n\t\tletterSpacing: 0,\r\n\t\tfontWeight: 400,\r\n\t\tlineHeight: 1\r\n\t},\r\n\r\n\tcssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ],\r\n\tcssPrefixes = [ \"Webkit\", \"O\", \"Moz\", \"ms\" ],\r\n\r\n\teventsToggle = jQuery.fn.toggle;\r\n\r\n// return a css property mapped to a potentially vendor prefixed property\r\nfunction vendorPropName( style, name ) {\r\n\r\n\t// shortcut for names that are not vendor prefixed\r\n\tif ( name in style ) {\r\n\t\treturn name;\r\n\t}\r\n\r\n\t// check for vendor prefixed names\r\n\tvar capName = name.charAt(0).toUpperCase() + name.slice(1),\r\n\t\torigName = name,\r\n\t\ti = cssPrefixes.length;\r\n\r\n\twhile ( i-- ) {\r\n\t\tname = cssPrefixes[ i ] + capName;\r\n\t\tif ( name in style ) {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t}\r\n\r\n\treturn origName;\r\n}\r\n\r\nfunction isHidden( elem, el ) {\r\n\telem = el || elem;\r\n\treturn jQuery.css( elem, \"display\" ) === \"none\" || !jQuery.contains( elem.ownerDocument, elem );\r\n}\r\n\r\nfunction showHide( elements, show ) {\r\n\tvar elem, display,\r\n\t\tvalues = [],\r\n\t\tindex = 0,\r\n\t\tlength = elements.length;\r\n\r\n\tfor ( ; index < length; index++ ) {\r\n\t\telem = elements[ index ];\r\n\t\tif ( !elem.style ) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tvalues[ index ] = jQuery._data( elem, \"olddisplay\" );\r\n\t\tif ( show ) {\r\n\t\t\t// Reset the inline display of this element to learn if it is\r\n\t\t\t// being hidden by cascaded rules or not\r\n\t\t\tif ( !values[ index ] && elem.style.display === \"none\" ) {\r\n\t\t\t\telem.style.display = \"\";\r\n\t\t\t}\r\n\r\n\t\t\t// Set elements which have been overridden with display: none\r\n\t\t\t// in a stylesheet to whatever the default browser style is\r\n\t\t\t// for such an element\r\n\t\t\tif ( elem.style.display === \"\" && isHidden( elem ) ) {\r\n\t\t\t\tvalues[ index ] = jQuery._data( elem, \"olddisplay\", css_defaultDisplay(elem.nodeName) );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdisplay = curCSS( elem, \"display\" );\r\n\r\n\t\t\tif ( !values[ index ] && display !== \"none\" ) {\r\n\t\t\t\tjQuery._data( elem, \"olddisplay\", display );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Set the display of most of the elements in a second loop\r\n\t// to avoid the constant reflow\r\n\tfor ( index = 0; index < length; index++ ) {\r\n\t\telem = elements[ index ];\r\n\t\tif ( !elem.style ) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif ( !show || elem.style.display === \"none\" || elem.style.display === \"\" ) {\r\n\t\t\telem.style.display = show ? values[ index ] || \"\" : \"none\";\r\n\t\t}\r\n\t}\r\n\r\n\treturn elements;\r\n}\r\n\r\njQuery.fn.extend({\r\n\tcss: function( name, value ) {\r\n\t\treturn jQuery.access( this, function( elem, name, value ) {\r\n\t\t\treturn value !== undefined ?\r\n\t\t\t\tjQuery.style( elem, name, value ) :\r\n\t\t\t\tjQuery.css( elem, name );\r\n\t\t}, name, value, arguments.length > 1 );\r\n\t},\r\n\tshow: function() {\r\n\t\treturn showHide( this, true );\r\n\t},\r\n\thide: function() {\r\n\t\treturn showHide( this );\r\n\t},\r\n\ttoggle: function( state, fn2 ) {\r\n\t\tvar bool = typeof state === \"boolean\";\r\n\r\n\t\tif ( jQuery.isFunction( state ) && jQuery.isFunction( fn2 ) ) {\r\n\t\t\treturn eventsToggle.apply( this, arguments );\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tif ( bool ? state : isHidden( this ) ) {\r\n\t\t\t\tjQuery( this ).show();\r\n\t\t\t} else {\r\n\t\t\t\tjQuery( this ).hide();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.extend({\r\n\t// Add in style property hooks for overriding the default\r\n\t// behavior of getting and setting a style property\r\n\tcssHooks: {\r\n\t\topacity: {\r\n\t\t\tget: function( elem, computed ) {\r\n\t\t\t\tif ( computed ) {\r\n\t\t\t\t\t// We should always get a number back from opacity\r\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\r\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Exclude the following css properties to add px\r\n\tcssNumber: {\r\n\t\t\"fillOpacity\": true,\r\n\t\t\"fontWeight\": true,\r\n\t\t\"lineHeight\": true,\r\n\t\t\"opacity\": true,\r\n\t\t\"orphans\": true,\r\n\t\t\"widows\": true,\r\n\t\t\"zIndex\": true,\r\n\t\t\"zoom\": true\r\n\t},\r\n\r\n\t// Add in properties whose names you wish to fix before\r\n\t// setting or getting the value\r\n\tcssProps: {\r\n\t\t// normalize float css property\r\n\t\t\"float\": jQuery.support.cssFloat ? \"cssFloat\" : \"styleFloat\"\r\n\t},\r\n\r\n\t// Get and set the style property on a DOM Node\r\n\tstyle: function( elem, name, value, extra ) {\r\n\t\t// Don't set styles on text and comment nodes\r\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Make sure that we're working with the right name\r\n\t\tvar ret, type, hooks,\r\n\t\t\torigName = jQuery.camelCase( name ),\r\n\t\t\tstyle = elem.style;\r\n\r\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );\r\n\r\n\t\t// gets hook for the prefixed version\r\n\t\t// followed by the unprefixed version\r\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\r\n\r\n\t\t// Check if we're setting a value\r\n\t\tif ( value !== undefined ) {\r\n\t\t\ttype = typeof value;\r\n\r\n\t\t\t// convert relative number strings (+= or -=) to relative numbers. #7345\r\n\t\t\tif ( type === \"string\" && (ret = rrelNum.exec( value )) ) {\r\n\t\t\t\tvalue = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );\r\n\t\t\t\t// Fixes bug #9237\r\n\t\t\t\ttype = \"number\";\r\n\t\t\t}\r\n\r\n\t\t\t// Make sure that NaN and null values aren't set. See: #7116\r\n\t\t\tif ( value == null || type === \"number\" && isNaN( value ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If a number was passed in, add 'px' to the (except for certain CSS properties)\r\n\t\t\tif ( type === \"number\" && !jQuery.cssNumber[ origName ] ) {\r\n\t\t\t\tvalue += \"px\";\r\n\t\t\t}\r\n\r\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\r\n\t\t\tif ( !hooks || !(\"set\" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {\r\n\t\t\t\t// Wrapped to prevent IE from throwing errors when 'invalid' values are provided\r\n\t\t\t\t// Fixes bug #5509\r\n\t\t\t\ttry {\r\n\t\t\t\t\tstyle[ name ] = value;\r\n\t\t\t\t} catch(e) {}\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t// If a hook was provided get the non-computed value from there\r\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise just get the value from the style object\r\n\t\t\treturn style[ name ];\r\n\t\t}\r\n\t},\r\n\r\n\tcss: function( elem, name, numeric, extra ) {\r\n\t\tvar val, num, hooks,\r\n\t\t\torigName = jQuery.camelCase( name );\r\n\r\n\t\t// Make sure that we're working with the right name\r\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );\r\n\r\n\t\t// gets hook for the prefixed version\r\n\t\t// followed by the unprefixed version\r\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\r\n\r\n\t\t// If a hook was provided get the computed value from there\r\n\t\tif ( hooks && \"get\" in hooks ) {\r\n\t\t\tval = hooks.get( elem, true, extra );\r\n\t\t}\r\n\r\n\t\t// Otherwise, if a way to get the computed value exists, use that\r\n\t\tif ( val === undefined ) {\r\n\t\t\tval = curCSS( elem, name );\r\n\t\t}\r\n\r\n\t\t//convert \"normal\" to computed value\r\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\r\n\t\t\tval = cssNormalTransform[ name ];\r\n\t\t}\r\n\r\n\t\t// Return, converting to number if forced or a qualifier was provided and val looks numeric\r\n\t\tif ( numeric || extra !== undefined ) {\r\n\t\t\tnum = parseFloat( val );\r\n\t\t\treturn numeric || jQuery.isNumeric( num ) ? num || 0 : val;\r\n\t\t}\r\n\t\treturn val;\r\n\t},\r\n\r\n\t// A method for quickly swapping in/out CSS properties to get correct calculations\r\n\tswap: function( elem, options, callback ) {\r\n\t\tvar ret, name,\r\n\t\t\told = {};\r\n\r\n\t\t// Remember the old values, and insert the new ones\r\n\t\tfor ( name in options ) {\r\n\t\t\told[ name ] = elem.style[ name ];\r\n\t\t\telem.style[ name ] = options[ name ];\r\n\t\t}\r\n\r\n\t\tret = callback.call( elem );\r\n\r\n\t\t// Revert the old values\r\n\t\tfor ( name in options ) {\r\n\t\t\telem.style[ name ] = old[ name ];\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t}\r\n});\r\n\r\n// NOTE: To any future maintainer, we've used both window.getComputedStyle\r\n// and getComputedStyle here to produce a better gzip size\r\nif ( window.getComputedStyle ) {\r\n\tcurCSS = function( elem, name ) {\r\n\t\tvar ret, width, minWidth, maxWidth,\r\n\t\t\tcomputed = getComputedStyle( elem, null ),\r\n\t\t\tstyle = elem.style;\r\n\r\n\t\tif ( computed ) {\r\n\r\n\t\t\tret = computed[ name ];\r\n\t\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument.documentElement, elem ) ) {\r\n\t\t\t\tret = jQuery.style( elem, name );\r\n\t\t\t}\r\n\r\n\t\t\t// A tribute to the \"awesome hack by Dean Edwards\"\r\n\t\t\t// Chrome < 17 and Safari 5.0 uses \"computed value\" instead of \"used value\" for margin-right\r\n\t\t\t// Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels\r\n\t\t\t// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values\r\n\t\t\tif ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {\r\n\t\t\t\twidth = style.width;\r\n\t\t\t\tminWidth = style.minWidth;\r\n\t\t\t\tmaxWidth = style.maxWidth;\r\n\r\n\t\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\r\n\t\t\t\tret = computed.width;\r\n\r\n\t\t\t\tstyle.width = width;\r\n\t\t\t\tstyle.minWidth = minWidth;\r\n\t\t\t\tstyle.maxWidth = maxWidth;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t};\r\n} else if ( document.documentElement.currentStyle ) {\r\n\tcurCSS = function( elem, name ) {\r\n\t\tvar left, rsLeft,\r\n\t\t\tret = elem.currentStyle && elem.currentStyle[ name ],\r\n\t\t\tstyle = elem.style;\r\n\r\n\t\t// Avoid setting ret to empty string here\r\n\t\t// so we don't default to auto\r\n\t\tif ( ret == null && style && style[ name ] ) {\r\n\t\t\tret = style[ name ];\r\n\t\t}\r\n\r\n\t\t// From the awesome hack by Dean Edwards\r\n\t\t// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\r\n\r\n\t\t// If we're not dealing with a regular pixel number\r\n\t\t// but a number that has a weird ending, we need to convert it to pixels\r\n\t\t// but not position css attributes, as those are proportional to the parent element instead\r\n\t\t// and we can't measure the parent instead because it might trigger a \"stacking dolls\" problem\r\n\t\tif ( rnumnonpx.test( ret ) && !rposition.test( name ) ) {\r\n\r\n\t\t\t// Remember the original values\r\n\t\t\tleft = style.left;\r\n\t\t\trsLeft = elem.runtimeStyle && elem.runtimeStyle.left;\r\n\r\n\t\t\t// Put in the new values to get a computed value out\r\n\t\t\tif ( rsLeft ) {\r\n\t\t\t\telem.runtimeStyle.left = elem.currentStyle.left;\r\n\t\t\t}\r\n\t\t\tstyle.left = name === \"fontSize\" ? \"1em\" : ret;\r\n\t\t\tret = style.pixelLeft + \"px\";\r\n\r\n\t\t\t// Revert the changed values\r\n\t\t\tstyle.left = left;\r\n\t\t\tif ( rsLeft ) {\r\n\t\t\t\telem.runtimeStyle.left = rsLeft;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret === \"\" ? \"auto\" : ret;\r\n\t};\r\n}\r\n\r\nfunction setPositiveNumber( elem, value, subtract ) {\r\n\tvar matches = rnumsplit.exec( value );\r\n\treturn matches ?\r\n\t\t\tMath.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || \"px\" ) :\r\n\t\t\tvalue;\r\n}\r\n\r\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox ) {\r\n\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\r\n\t\t// If we already have the right measurement, avoid augmentation\r\n\t\t4 :\r\n\t\t// Otherwise initialize for horizontal or vertical properties\r\n\t\tname === \"width\" ? 1 : 0,\r\n\r\n\t\tval = 0;\r\n\r\n\tfor ( ; i < 4; i += 2 ) {\r\n\t\t// both box models exclude margin, so add it if we want it\r\n\t\tif ( extra === \"margin\" ) {\r\n\t\t\t// we use jQuery.css instead of curCSS here\r\n\t\t\t// because of the reliableMarginRight CSS hook!\r\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true );\r\n\t\t}\r\n\r\n\t\t// From this point on we use curCSS for maximum performance (relevant in animations)\r\n\t\tif ( isBorderBox ) {\r\n\t\t\t// border-box includes padding, so remove it if we want content\r\n\t\t\tif ( extra === \"content\" ) {\r\n\t\t\t\tval -= parseFloat( curCSS( elem, \"padding\" + cssExpand[ i ] ) ) || 0;\r\n\t\t\t}\r\n\r\n\t\t\t// at this point, extra isn't border nor margin, so remove border\r\n\t\t\tif ( extra !== \"margin\" ) {\r\n\t\t\t\tval -= parseFloat( curCSS( elem, \"border\" + cssExpand[ i ] + \"Width\" ) ) || 0;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// at this point, extra isn't content, so add padding\r\n\t\t\tval += parseFloat( curCSS( elem, \"padding\" + cssExpand[ i ] ) ) || 0;\r\n\r\n\t\t\t// at this point, extra isn't content nor padding, so add border\r\n\t\t\tif ( extra !== \"padding\" ) {\r\n\t\t\t\tval += parseFloat( curCSS( elem, \"border\" + cssExpand[ i ] + \"Width\" ) ) || 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn val;\r\n}\r\n\r\nfunction getWidthOrHeight( elem, name, extra ) {\r\n\r\n\t// Start with offset property, which is equivalent to the border-box value\r\n\tvar val = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\r\n\t\tvalueIsBorderBox = true,\r\n\t\tisBorderBox = jQuery.support.boxSizing && jQuery.css( elem, \"boxSizing\" ) === \"border-box\";\r\n\r\n\tif ( val <= 0 ) {\r\n\t\t// Fall back to computed then uncomputed css if necessary\r\n\t\tval = curCSS( elem, name );\r\n\t\tif ( val < 0 || val == null ) {\r\n\t\t\tval = elem.style[ name ];\r\n\t\t}\r\n\r\n\t\t// Computed unit is not pixels. Stop here and return.\r\n\t\tif ( rnumnonpx.test(val) ) {\r\n\t\t\treturn val;\r\n\t\t}\r\n\r\n\t\t// we need the check for style in case a browser which returns unreliable values\r\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\r\n\t\tvalueIsBorderBox = isBorderBox && ( jQuery.support.boxSizingReliable || val === elem.style[ name ] );\r\n\r\n\t\t// Normalize \"\", auto, and prepare for extra\r\n\t\tval = parseFloat( val ) || 0;\r\n\t}\r\n\r\n\t// use the active box-sizing model to add/subtract irrelevant styles\r\n\treturn ( val +\r\n\t\taugmentWidthOrHeight(\r\n\t\t\telem,\r\n\t\t\tname,\r\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\r\n\t\t\tvalueIsBorderBox\r\n\t\t)\r\n\t) + \"px\";\r\n}\r\n\r\n\r\n// Try to determine the default display value of an element\r\nfunction css_defaultDisplay( nodeName ) {\r\n\tif ( elemdisplay[ nodeName ] ) {\r\n\t\treturn elemdisplay[ nodeName ];\r\n\t}\r\n\r\n\tvar elem = jQuery( \"<\" + nodeName + \">\" ).appendTo( document.body ),\r\n\t\tdisplay = elem.css(\"display\");\r\n\telem.remove();\r\n\r\n\t// If the simple way fails,\r\n\t// get element's real default display by attaching it to a temp iframe\r\n\tif ( display === \"none\" || display === \"\" ) {\r\n\t\t// Use the already-created iframe if possible\r\n\t\tiframe = document.body.appendChild(\r\n\t\t\tiframe || jQuery.extend( document.createElement(\"iframe\"), {\r\n\t\t\t\tframeBorder: 0,\r\n\t\t\t\twidth: 0,\r\n\t\t\t\theight: 0\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\t// Create a cacheable copy of the iframe document on first call.\r\n\t\t// IE and Opera will allow us to reuse the iframeDoc without re-writing the fake HTML\r\n\t\t// document to it; WebKit & Firefox won't allow reusing the iframe document.\r\n\t\tif ( !iframeDoc || !iframe.createElement ) {\r\n\t\t\tiframeDoc = ( iframe.contentWindow || iframe.contentDocument ).document;\r\n\t\t\tiframeDoc.write(\"<!doctype html><html><body>\");\r\n\t\t\tiframeDoc.close();\r\n\t\t}\r\n\r\n\t\telem = iframeDoc.body.appendChild( iframeDoc.createElement(nodeName) );\r\n\r\n\t\tdisplay = curCSS( elem, \"display\" );\r\n\t\tdocument.body.removeChild( iframe );\r\n\t}\r\n\r\n\t// Store the correct default display\r\n\telemdisplay[ nodeName ] = display;\r\n\r\n\treturn display;\r\n}\r\n\r\njQuery.each([ \"height\", \"width\" ], function( i, name ) {\r\n\tjQuery.cssHooks[ name ] = {\r\n\t\tget: function( elem, computed, extra ) {\r\n\t\t\tif ( computed ) {\r\n\t\t\t\tif ( elem.offsetWidth !== 0 || curCSS( elem, \"display\" ) !== \"none\" ) {\r\n\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn jQuery.swap( elem, cssShow, function() {\r\n\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tset: function( elem, value, extra ) {\r\n\t\t\treturn setPositiveNumber( elem, value, extra ?\r\n\t\t\t\taugmentWidthOrHeight(\r\n\t\t\t\t\telem,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\textra,\r\n\t\t\t\t\tjQuery.support.boxSizing && jQuery.css( elem, \"boxSizing\" ) === \"border-box\"\r\n\t\t\t\t) : 0\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n});\r\n\r\nif ( !jQuery.support.opacity ) {\r\n\tjQuery.cssHooks.opacity = {\r\n\t\tget: function( elem, computed ) {\r\n\t\t\t// IE uses filters for opacity\r\n\t\t\treturn ropacity.test( (computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || \"\" ) ?\r\n\t\t\t\t( 0.01 * parseFloat( RegExp.$1 ) ) + \"\" :\r\n\t\t\t\tcomputed ? \"1\" : \"\";\r\n\t\t},\r\n\r\n\t\tset: function( elem, value ) {\r\n\t\t\tvar style = elem.style,\r\n\t\t\t\tcurrentStyle = elem.currentStyle,\r\n\t\t\t\topacity = jQuery.isNumeric( value ) ? \"alpha(opacity=\" + value * 100 + \")\" : \"\",\r\n\t\t\t\tfilter = currentStyle && currentStyle.filter || style.filter || \"\";\r\n\r\n\t\t\t// IE has trouble with opacity if it does not have layout\r\n\t\t\t// Force it by setting the zoom level\r\n\t\t\tstyle.zoom = 1;\r\n\r\n\t\t\t// if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652\r\n\t\t\tif ( value >= 1 && jQuery.trim( filter.replace( ralpha, \"\" ) ) === \"\" &&\r\n\t\t\t\tstyle.removeAttribute ) {\r\n\r\n\t\t\t\t// Setting style.filter to null, \"\" & \" \" still leave \"filter:\" in the cssText\r\n\t\t\t\t// if \"filter:\" is present at all, clearType is disabled, we want to avoid this\r\n\t\t\t\t// style.removeAttribute is IE Only, but so apparently is this code path...\r\n\t\t\t\tstyle.removeAttribute( \"filter\" );\r\n\r\n\t\t\t\t// if there there is no filter style applied in a css rule, we are done\r\n\t\t\t\tif ( currentStyle && !currentStyle.filter ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// otherwise, set new filter values\r\n\t\t\tstyle.filter = ralpha.test( filter ) ?\r\n\t\t\t\tfilter.replace( ralpha, opacity ) :\r\n\t\t\t\tfilter + \" \" + opacity;\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// These hooks cannot be added until DOM ready because the support test\r\n// for it is not run until after DOM ready\r\njQuery(function() {\r\n\tif ( !jQuery.support.reliableMarginRight ) {\r\n\t\tjQuery.cssHooks.marginRight = {\r\n\t\t\tget: function( elem, computed ) {\r\n\t\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\r\n\t\t\t\t// Work around by temporarily setting element display to inline-block\r\n\t\t\t\treturn jQuery.swap( elem, { \"display\": \"inline-block\" }, function() {\r\n\t\t\t\t\tif ( computed ) {\r\n\t\t\t\t\t\treturn curCSS( elem, \"marginRight\" );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\r\n\t// getComputedStyle returns percent when specified for top/left/bottom/right\r\n\t// rather than make the css module depend on the offset module, we just check for it here\r\n\tif ( !jQuery.support.pixelPosition && jQuery.fn.position ) {\r\n\t\tjQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\r\n\t\t\tjQuery.cssHooks[ prop ] = {\r\n\t\t\t\tget: function( elem, computed ) {\r\n\t\t\t\t\tif ( computed ) {\r\n\t\t\t\t\t\tvar ret = curCSS( elem, prop );\r\n\t\t\t\t\t\t// if curCSS returns percentage, fallback to offset\r\n\t\t\t\t\t\treturn rnumnonpx.test( ret ) ? jQuery( elem ).position()[ prop ] + \"px\" : ret;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n});\r\n\r\nif ( jQuery.expr && jQuery.expr.filters ) {\r\n\tjQuery.expr.filters.hidden = function( elem ) {\r\n\t\treturn ( elem.offsetWidth === 0 && elem.offsetHeight === 0 ) || (!jQuery.support.reliableHiddenOffsets && ((elem.style && elem.style.display) || curCSS( elem, \"display\" )) === \"none\");\r\n\t};\r\n\r\n\tjQuery.expr.filters.visible = function( elem ) {\r\n\t\treturn !jQuery.expr.filters.hidden( elem );\r\n\t};\r\n}\r\n\r\n// These hooks are used by animate to expand properties\r\njQuery.each({\r\n\tmargin: \"\",\r\n\tpadding: \"\",\r\n\tborder: \"Width\"\r\n}, function( prefix, suffix ) {\r\n\tjQuery.cssHooks[ prefix + suffix ] = {\r\n\t\texpand: function( value ) {\r\n\t\t\tvar i,\r\n\r\n\t\t\t\t// assumes a single number if not a string\r\n\t\t\t\tparts = typeof value === \"string\" ? value.split(\" \") : [ value ],\r\n\t\t\t\texpanded = {};\r\n\r\n\t\t\tfor ( i = 0; i < 4; i++ ) {\r\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\r\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\r\n\t\t\t}\r\n\r\n\t\t\treturn expanded;\r\n\t\t}\r\n\t};\r\n\r\n\tif ( !rmargin.test( prefix ) ) {\r\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\r\n\t}\r\n});\r\nvar r20 = /%20/g,\r\n\trbracket = /\\[\\]$/,\r\n\trCRLF = /\\r?\\n/g,\r\n\trinput = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,\r\n\trselectTextarea = /^(?:select|textarea)/i;\r\n\r\njQuery.fn.extend({\r\n\tserialize: function() {\r\n\t\treturn jQuery.param( this.serializeArray() );\r\n\t},\r\n\tserializeArray: function() {\r\n\t\treturn this.map(function(){\r\n\t\t\treturn this.elements ? jQuery.makeArray( this.elements ) : this;\r\n\t\t})\r\n\t\t.filter(function(){\r\n\t\t\treturn this.name && !this.disabled &&\r\n\t\t\t\t( this.checked || rselectTextarea.test( this.nodeName ) ||\r\n\t\t\t\t\trinput.test( this.type ) );\r\n\t\t})\r\n\t\t.map(function( i, elem ){\r\n\t\t\tvar val = jQuery( this ).val();\r\n\r\n\t\t\treturn val == null ?\r\n\t\t\t\tnull :\r\n\t\t\t\tjQuery.isArray( val ) ?\r\n\t\t\t\t\tjQuery.map( val, function( val, i ){\r\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\r\n\t\t\t\t\t}) :\r\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\r\n\t\t}).get();\r\n\t}\r\n});\r\n\r\n//Serialize an array of form elements or a set of\r\n//key/values into a query string\r\njQuery.param = function( a, traditional ) {\r\n\tvar prefix,\r\n\t\ts = [],\r\n\t\tadd = function( key, value ) {\r\n\t\t\t// If value is a function, invoke it and return its value\r\n\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\r\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\r\n\t\t};\r\n\r\n\t// Set traditional to true for jQuery <= 1.3.2 behavior.\r\n\tif ( traditional === undefined ) {\r\n\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\r\n\t}\r\n\r\n\t// If an array was passed in, assume that it is an array of form elements.\r\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\r\n\t\t// Serialize the form elements\r\n\t\tjQuery.each( a, function() {\r\n\t\t\tadd( this.name, this.value );\r\n\t\t});\r\n\r\n\t} else {\r\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\r\n\t\t// did it), otherwise encode params recursively.\r\n\t\tfor ( prefix in a ) {\r\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the resulting serialization\r\n\treturn s.join( \"&\" ).replace( r20, \"+\" );\r\n};\r\n\r\nfunction buildParams( prefix, obj, traditional, add ) {\r\n\tvar name;\r\n\r\n\tif ( jQuery.isArray( obj ) ) {\r\n\t\t// Serialize array item.\r\n\t\tjQuery.each( obj, function( i, v ) {\r\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\r\n\t\t\t\t// Treat each array item as a scalar.\r\n\t\t\t\tadd( prefix, v );\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// If array item is non-scalar (array or object), encode its\r\n\t\t\t\t// numeric index to resolve deserialization ambiguity issues.\r\n\t\t\t\t// Note that rack (as of 1.0.0) can't currently deserialize\r\n\t\t\t\t// nested arrays properly, and attempting to do so may cause\r\n\t\t\t\t// a server error. Possible fixes are to modify rack's\r\n\t\t\t\t// deserialization algorithm or to provide an option or flag\r\n\t\t\t\t// to force array serialization to be shallow.\r\n\t\t\t\tbuildParams( prefix + \"[\" + ( typeof v === \"object\" ? i : \"\" ) + \"]\", v, traditional, add );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\r\n\t\t// Serialize object item.\r\n\t\tfor ( name in obj ) {\r\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\r\n\t\t}\r\n\r\n\t} else {\r\n\t\t// Serialize scalar item.\r\n\t\tadd( prefix, obj );\r\n\t}\r\n}\r\nvar // Document location\r\n\tajaxLocation,\r\n\t// Document location segments\r\n\tajaxLocParts,\r\n\r\n\trhash = /#.*$/,\r\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg, // IE leaves an \\r character at EOL\r\n\t// #7653, #8125, #8152: local protocol detection\r\n\trlocalProtocol = /^(?:about|app|app\\-storage|.+\\-extension|file|res|widget):$/,\r\n\trnoContent = /^(?:GET|HEAD)$/,\r\n\trprotocol = /^\\/\\//,\r\n\trquery = /\\?/,\r\n\trscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\r\n\trts = /([?&])_=[^&]*/,\r\n\trurl = /^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,\r\n\r\n\t// Keep a copy of the old load method\r\n\t_load = jQuery.fn.load,\r\n\r\n\t/* Prefilters\r\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\r\n\t * 2) These are called:\r\n\t *    - BEFORE asking for a transport\r\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\r\n\t * 3) key is the dataType\r\n\t * 4) the catchall symbol \"*\" can be used\r\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\r\n\t */\r\n\tprefilters = {},\r\n\r\n\t/* Transports bindings\r\n\t * 1) key is the dataType\r\n\t * 2) the catchall symbol \"*\" can be used\r\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\r\n\t */\r\n\ttransports = {},\r\n\r\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\r\n\tallTypes = [\"*/\"] + [\"*\"];\r\n\r\n// #8138, IE may throw an exception when accessing\r\n// a field from window.location if document.domain has been set\r\ntry {\r\n\tajaxLocation = location.href;\r\n} catch( e ) {\r\n\t// Use the href attribute of an A element\r\n\t// since IE will modify it given document.location\r\n\tajaxLocation = document.createElement( \"a\" );\r\n\tajaxLocation.href = \"\";\r\n\tajaxLocation = ajaxLocation.href;\r\n}\r\n\r\n// Segment location into parts\r\najaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];\r\n\r\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\r\nfunction addToPrefiltersOrTransports( structure ) {\r\n\r\n\t// dataTypeExpression is optional and defaults to \"*\"\r\n\treturn function( dataTypeExpression, func ) {\r\n\r\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\r\n\t\t\tfunc = dataTypeExpression;\r\n\t\t\tdataTypeExpression = \"*\";\r\n\t\t}\r\n\r\n\t\tvar dataType, list, placeBefore,\r\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().split( core_rspace ),\r\n\t\t\ti = 0,\r\n\t\t\tlength = dataTypes.length;\r\n\r\n\t\tif ( jQuery.isFunction( func ) ) {\r\n\t\t\t// For each dataType in the dataTypeExpression\r\n\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\tdataType = dataTypes[ i ];\r\n\t\t\t\t// We control if we're asked to add before\r\n\t\t\t\t// any existing element\r\n\t\t\t\tplaceBefore = /^\\+/.test( dataType );\r\n\t\t\t\tif ( placeBefore ) {\r\n\t\t\t\t\tdataType = dataType.substr( 1 ) || \"*\";\r\n\t\t\t\t}\r\n\t\t\t\tlist = structure[ dataType ] = structure[ dataType ] || [];\r\n\t\t\t\t// then we add to the structure accordingly\r\n\t\t\t\tlist[ placeBefore ? \"unshift\" : \"push\" ]( func );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// Base inspection function for prefilters and transports\r\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR,\r\n\t\tdataType /* internal */, inspected /* internal */ ) {\r\n\r\n\tdataType = dataType || options.dataTypes[ 0 ];\r\n\tinspected = inspected || {};\r\n\r\n\tinspected[ dataType ] = true;\r\n\r\n\tvar selection,\r\n\t\tlist = structure[ dataType ],\r\n\t\ti = 0,\r\n\t\tlength = list ? list.length : 0,\r\n\t\texecuteOnly = ( structure === prefilters );\r\n\r\n\tfor ( ; i < length && ( executeOnly || !selection ); i++ ) {\r\n\t\tselection = list[ i ]( options, originalOptions, jqXHR );\r\n\t\t// If we got redirected to another dataType\r\n\t\t// we try there if executing only and not done already\r\n\t\tif ( typeof selection === \"string\" ) {\r\n\t\t\tif ( !executeOnly || inspected[ selection ] ) {\r\n\t\t\t\tselection = undefined;\r\n\t\t\t} else {\r\n\t\t\t\toptions.dataTypes.unshift( selection );\r\n\t\t\t\tselection = inspectPrefiltersOrTransports(\r\n\t\t\t\t\t\tstructure, options, originalOptions, jqXHR, selection, inspected );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// If we're only executing or nothing was selected\r\n\t// we try the catchall dataType if not done already\r\n\tif ( ( executeOnly || !selection ) && !inspected[ \"*\" ] ) {\r\n\t\tselection = inspectPrefiltersOrTransports(\r\n\t\t\t\tstructure, options, originalOptions, jqXHR, \"*\", inspected );\r\n\t}\r\n\t// unnecessary when only executing (prefilters)\r\n\t// but it'll be ignored by the caller in that case\r\n\treturn selection;\r\n}\r\n\r\n// A special extend for ajax options\r\n// that takes \"flat\" options (not to be deep extended)\r\n// Fixes #9887\r\nfunction ajaxExtend( target, src ) {\r\n\tvar key, deep,\r\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\r\n\tfor ( key in src ) {\r\n\t\tif ( src[ key ] !== undefined ) {\r\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\r\n\t\t}\r\n\t}\r\n\tif ( deep ) {\r\n\t\tjQuery.extend( true, target, deep );\r\n\t}\r\n}\r\n\r\njQuery.fn.load = function( url, params, callback ) {\r\n\tif ( typeof url !== \"string\" && _load ) {\r\n\t\treturn _load.apply( this, arguments );\r\n\t}\r\n\r\n\t// Don't do a request if no elements are being requested\r\n\tif ( !this.length ) {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tvar selector, type, response,\r\n\t\tself = this,\r\n\t\toff = url.indexOf(\" \");\r\n\r\n\tif ( off >= 0 ) {\r\n\t\tselector = url.slice( off, url.length );\r\n\t\turl = url.slice( 0, off );\r\n\t}\r\n\r\n\t// If it's a function\r\n\tif ( jQuery.isFunction( params ) ) {\r\n\r\n\t\t// We assume that it's the callback\r\n\t\tcallback = params;\r\n\t\tparams = undefined;\r\n\r\n\t// Otherwise, build a param string\r\n\t} else if ( typeof params === \"object\" ) {\r\n\t\ttype = \"POST\";\r\n\t}\r\n\r\n\t// Request the remote document\r\n\tjQuery.ajax({\r\n\t\turl: url,\r\n\r\n\t\t// if \"type\" variable is undefined, then \"GET\" method will be used\r\n\t\ttype: type,\r\n\t\tdataType: \"html\",\r\n\t\tdata: params,\r\n\t\tcomplete: function( jqXHR, status ) {\r\n\t\t\tif ( callback ) {\r\n\t\t\t\tself.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );\r\n\t\t\t}\r\n\t\t}\r\n\t}).done(function( responseText ) {\r\n\r\n\t\t// Save response for use in complete callback\r\n\t\tresponse = arguments;\r\n\r\n\t\t// See if a selector was specified\r\n\t\tself.html( selector ?\r\n\r\n\t\t\t// Create a dummy div to hold the results\r\n\t\t\tjQuery(\"<div>\")\r\n\r\n\t\t\t\t// inject the contents of the document in, removing the scripts\r\n\t\t\t\t// to avoid any 'Permission Denied' errors in IE\r\n\t\t\t\t.append( responseText.replace( rscript, \"\" ) )\r\n\r\n\t\t\t\t// Locate the specified elements\r\n\t\t\t\t.find( selector ) :\r\n\r\n\t\t\t// If not, just inject the full result\r\n\t\t\tresponseText );\r\n\r\n\t});\r\n\r\n\treturn this;\r\n};\r\n\r\n// Attach a bunch of functions for handling common AJAX events\r\njQuery.each( \"ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend\".split( \" \" ), function( i, o ){\r\n\tjQuery.fn[ o ] = function( f ){\r\n\t\treturn this.on( o, f );\r\n\t};\r\n});\r\n\r\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\r\n\tjQuery[ method ] = function( url, data, callback, type ) {\r\n\t\t// shift arguments if data argument was omitted\r\n\t\tif ( jQuery.isFunction( data ) ) {\r\n\t\t\ttype = type || callback;\r\n\t\t\tcallback = data;\r\n\t\t\tdata = undefined;\r\n\t\t}\r\n\r\n\t\treturn jQuery.ajax({\r\n\t\t\ttype: method,\r\n\t\t\turl: url,\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: callback,\r\n\t\t\tdataType: type\r\n\t\t});\r\n\t};\r\n});\r\n\r\njQuery.extend({\r\n\r\n\tgetScript: function( url, callback ) {\r\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\r\n\t},\r\n\r\n\tgetJSON: function( url, data, callback ) {\r\n\t\treturn jQuery.get( url, data, callback, \"json\" );\r\n\t},\r\n\r\n\t// Creates a full fledged settings object into target\r\n\t// with both ajaxSettings and settings fields.\r\n\t// If target is omitted, writes into ajaxSettings.\r\n\tajaxSetup: function( target, settings ) {\r\n\t\tif ( settings ) {\r\n\t\t\t// Building a settings object\r\n\t\t\tajaxExtend( target, jQuery.ajaxSettings );\r\n\t\t} else {\r\n\t\t\t// Extending ajaxSettings\r\n\t\t\tsettings = target;\r\n\t\t\ttarget = jQuery.ajaxSettings;\r\n\t\t}\r\n\t\tajaxExtend( target, settings );\r\n\t\treturn target;\r\n\t},\r\n\r\n\tajaxSettings: {\r\n\t\turl: ajaxLocation,\r\n\t\tisLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),\r\n\t\tglobal: true,\r\n\t\ttype: \"GET\",\r\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n\t\tprocessData: true,\r\n\t\tasync: true,\r\n\t\t/*\r\n\t\ttimeout: 0,\r\n\t\tdata: null,\r\n\t\tdataType: null,\r\n\t\tusername: null,\r\n\t\tpassword: null,\r\n\t\tcache: null,\r\n\t\tthrows: false,\r\n\t\ttraditional: false,\r\n\t\theaders: {},\r\n\t\t*/\r\n\r\n\t\taccepts: {\r\n\t\t\txml: \"application/xml, text/xml\",\r\n\t\t\thtml: \"text/html\",\r\n\t\t\ttext: \"text/plain\",\r\n\t\t\tjson: \"application/json, text/javascript\",\r\n\t\t\t\"*\": allTypes\r\n\t\t},\r\n\r\n\t\tcontents: {\r\n\t\t\txml: /xml/,\r\n\t\t\thtml: /html/,\r\n\t\t\tjson: /json/\r\n\t\t},\r\n\r\n\t\tresponseFields: {\r\n\t\t\txml: \"responseXML\",\r\n\t\t\ttext: \"responseText\"\r\n\t\t},\r\n\r\n\t\t// List of data converters\r\n\t\t// 1) key format is \"source_type destination_type\" (a single space in-between)\r\n\t\t// 2) the catchall symbol \"*\" can be used for source_type\r\n\t\tconverters: {\r\n\r\n\t\t\t// Convert anything to text\r\n\t\t\t\"* text\": window.String,\r\n\r\n\t\t\t// Text to html (true = no transformation)\r\n\t\t\t\"text html\": true,\r\n\r\n\t\t\t// Evaluate text as a json expression\r\n\t\t\t\"text json\": jQuery.parseJSON,\r\n\r\n\t\t\t// Parse text as xml\r\n\t\t\t\"text xml\": jQuery.parseXML\r\n\t\t},\r\n\r\n\t\t// For options that shouldn't be deep extended:\r\n\t\t// you can add your own custom options here if\r\n\t\t// and when you create one that shouldn't be\r\n\t\t// deep extended (see ajaxExtend)\r\n\t\tflatOptions: {\r\n\t\t\tcontext: true,\r\n\t\t\turl: true\r\n\t\t}\r\n\t},\r\n\r\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\r\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\r\n\r\n\t// Main method\r\n\tajax: function( url, options ) {\r\n\r\n\t\t// If url is an object, simulate pre-1.5 signature\r\n\t\tif ( typeof url === \"object\" ) {\r\n\t\t\toptions = url;\r\n\t\t\turl = undefined;\r\n\t\t}\r\n\r\n\t\t// Force options to be an object\r\n\t\toptions = options || {};\r\n\r\n\t\tvar // ifModified key\r\n\t\t\tifModifiedKey,\r\n\t\t\t// Response headers\r\n\t\t\tresponseHeadersString,\r\n\t\t\tresponseHeaders,\r\n\t\t\t// transport\r\n\t\t\ttransport,\r\n\t\t\t// timeout handle\r\n\t\t\ttimeoutTimer,\r\n\t\t\t// Cross-domain detection vars\r\n\t\t\tparts,\r\n\t\t\t// To know if global events are to be dispatched\r\n\t\t\tfireGlobals,\r\n\t\t\t// Loop variable\r\n\t\t\ti,\r\n\t\t\t// Create the final options object\r\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\r\n\t\t\t// Callbacks context\r\n\t\t\tcallbackContext = s.context || s,\r\n\t\t\t// Context for global events\r\n\t\t\t// It's the callbackContext if one was provided in the options\r\n\t\t\t// and if it's a DOM node or a jQuery collection\r\n\t\t\tglobalEventContext = callbackContext !== s &&\r\n\t\t\t\t( callbackContext.nodeType || callbackContext instanceof jQuery ) ?\r\n\t\t\t\t\t\tjQuery( callbackContext ) : jQuery.event,\r\n\t\t\t// Deferreds\r\n\t\t\tdeferred = jQuery.Deferred(),\r\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\r\n\t\t\t// Status-dependent callbacks\r\n\t\t\tstatusCode = s.statusCode || {},\r\n\t\t\t// Headers (they are sent all at once)\r\n\t\t\trequestHeaders = {},\r\n\t\t\trequestHeadersNames = {},\r\n\t\t\t// The jqXHR state\r\n\t\t\tstate = 0,\r\n\t\t\t// Default abort message\r\n\t\t\tstrAbort = \"canceled\",\r\n\t\t\t// Fake xhr\r\n\t\t\tjqXHR = {\r\n\r\n\t\t\t\treadyState: 0,\r\n\r\n\t\t\t\t// Caches the header\r\n\t\t\t\tsetRequestHeader: function( name, value ) {\r\n\t\t\t\t\tif ( !state ) {\r\n\t\t\t\t\t\tvar lname = name.toLowerCase();\r\n\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\r\n\t\t\t\t\t\trequestHeaders[ name ] = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Raw string\r\n\t\t\t\tgetAllResponseHeaders: function() {\r\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Builds headers hashtable if needed\r\n\t\t\t\tgetResponseHeader: function( key ) {\r\n\t\t\t\t\tvar match;\r\n\t\t\t\t\tif ( state === 2 ) {\r\n\t\t\t\t\t\tif ( !responseHeaders ) {\r\n\t\t\t\t\t\t\tresponseHeaders = {};\r\n\t\t\t\t\t\t\twhile( ( match = rheaders.exec( responseHeadersString ) ) ) {\r\n\t\t\t\t\t\t\t\tresponseHeaders[ match[1].toLowerCase() ] = match[ 2 ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn match === undefined ? null : match;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Overrides response content-type header\r\n\t\t\t\toverrideMimeType: function( type ) {\r\n\t\t\t\t\tif ( !state ) {\r\n\t\t\t\t\t\ts.mimeType = type;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Cancel the request\r\n\t\t\t\tabort: function( statusText ) {\r\n\t\t\t\t\tstatusText = statusText || strAbort;\r\n\t\t\t\t\tif ( transport ) {\r\n\t\t\t\t\t\ttransport.abort( statusText );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdone( 0, statusText );\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t// Callback for when everything is done\r\n\t\t// It is defined here because jslint complains if it is declared\r\n\t\t// at the end of the function (which would be more logical and readable)\r\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\r\n\t\t\tvar isSuccess, success, error, response, modified,\r\n\t\t\t\tstatusText = nativeStatusText;\r\n\r\n\t\t\t// Called once\r\n\t\t\tif ( state === 2 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// State is \"done\" now\r\n\t\t\tstate = 2;\r\n\r\n\t\t\t// Clear timeout if it exists\r\n\t\t\tif ( timeoutTimer ) {\r\n\t\t\t\tclearTimeout( timeoutTimer );\r\n\t\t\t}\r\n\r\n\t\t\t// Dereference transport for early garbage collection\r\n\t\t\t// (no matter how long the jqXHR object will be used)\r\n\t\t\ttransport = undefined;\r\n\r\n\t\t\t// Cache response headers\r\n\t\t\tresponseHeadersString = headers || \"\";\r\n\r\n\t\t\t// Set readyState\r\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\r\n\r\n\t\t\t// Get response data\r\n\t\t\tif ( responses ) {\r\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\r\n\t\t\t}\r\n\r\n\t\t\t// If successful, handle type chaining\r\n\t\t\tif ( status >= 200 && status < 300 || status === 304 ) {\r\n\r\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\r\n\t\t\t\tif ( s.ifModified ) {\r\n\r\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Last-Modified\");\r\n\t\t\t\t\tif ( modified ) {\r\n\t\t\t\t\t\tjQuery.lastModified[ ifModifiedKey ] = modified;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Etag\");\r\n\t\t\t\t\tif ( modified ) {\r\n\t\t\t\t\t\tjQuery.etag[ ifModifiedKey ] = modified;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If not modified\r\n\t\t\t\tif ( status === 304 ) {\r\n\r\n\t\t\t\t\tstatusText = \"notmodified\";\r\n\t\t\t\t\tisSuccess = true;\r\n\r\n\t\t\t\t// If we have data\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tisSuccess = ajaxConvert( s, response );\r\n\t\t\t\t\tstatusText = isSuccess.state;\r\n\t\t\t\t\tsuccess = isSuccess.data;\r\n\t\t\t\t\terror = isSuccess.error;\r\n\t\t\t\t\tisSuccess = !error;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// We extract error from statusText\r\n\t\t\t\t// then normalize statusText and status for non-aborts\r\n\t\t\t\terror = statusText;\r\n\t\t\t\tif ( !statusText || status ) {\r\n\t\t\t\t\tstatusText = \"error\";\r\n\t\t\t\t\tif ( status < 0 ) {\r\n\t\t\t\t\t\tstatus = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Set data for the fake xhr object\r\n\t\t\tjqXHR.status = status;\r\n\t\t\tjqXHR.statusText = \"\" + ( nativeStatusText || statusText );\r\n\r\n\t\t\t// Success/Error\r\n\t\t\tif ( isSuccess ) {\r\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\r\n\t\t\t}\r\n\r\n\t\t\t// Status-dependent callbacks\r\n\t\t\tjqXHR.statusCode( statusCode );\r\n\t\t\tstatusCode = undefined;\r\n\r\n\t\t\tif ( fireGlobals ) {\r\n\t\t\t\tglobalEventContext.trigger( \"ajax\" + ( isSuccess ? \"Success\" : \"Error\" ),\r\n\t\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\r\n\t\t\t}\r\n\r\n\t\t\t// Complete\r\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\r\n\r\n\t\t\tif ( fireGlobals ) {\r\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\r\n\t\t\t\t// Handle the global AJAX counter\r\n\t\t\t\tif ( !( --jQuery.active ) ) {\r\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Attach deferreds\r\n\t\tdeferred.promise( jqXHR );\r\n\t\tjqXHR.success = jqXHR.done;\r\n\t\tjqXHR.error = jqXHR.fail;\r\n\t\tjqXHR.complete = completeDeferred.add;\r\n\r\n\t\t// Status-dependent callbacks\r\n\t\tjqXHR.statusCode = function( map ) {\r\n\t\t\tif ( map ) {\r\n\t\t\t\tvar tmp;\r\n\t\t\t\tif ( state < 2 ) {\r\n\t\t\t\t\tfor ( tmp in map ) {\r\n\t\t\t\t\t\tstatusCode[ tmp ] = [ statusCode[tmp], map[tmp] ];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttmp = map[ jqXHR.status ];\r\n\t\t\t\t\tjqXHR.always( tmp );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\t// Remove hash character (#7531: and string promotion)\r\n\t\t// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)\r\n\t\t// We also use the url parameter if available\r\n\t\ts.url = ( ( url || s.url ) + \"\" ).replace( rhash, \"\" ).replace( rprotocol, ajaxLocParts[ 1 ] + \"//\" );\r\n\r\n\t\t// Extract dataTypes list\r\n\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().split( core_rspace );\r\n\r\n\t\t// Determine if a cross-domain request is in order\r\n\t\tif ( s.crossDomain == null ) {\r\n\t\t\tparts = rurl.exec( s.url.toLowerCase() );\r\n\t\t\ts.crossDomain = !!( parts &&\r\n\t\t\t\t( parts[ 1 ] != ajaxLocParts[ 1 ] || parts[ 2 ] != ajaxLocParts[ 2 ] ||\r\n\t\t\t\t\t( parts[ 3 ] || ( parts[ 1 ] === \"http:\" ? 80 : 443 ) ) !=\r\n\t\t\t\t\t\t( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === \"http:\" ? 80 : 443 ) ) )\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// Convert data if not already a string\r\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\r\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\r\n\t\t}\r\n\r\n\t\t// Apply prefilters\r\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\r\n\r\n\t\t// If request was aborted inside a prefilter, stop there\r\n\t\tif ( state === 2 ) {\r\n\t\t\treturn jqXHR;\r\n\t\t}\r\n\r\n\t\t// We can fire global events as of now if asked to\r\n\t\tfireGlobals = s.global;\r\n\r\n\t\t// Uppercase the type\r\n\t\ts.type = s.type.toUpperCase();\r\n\r\n\t\t// Determine if request has content\r\n\t\ts.hasContent = !rnoContent.test( s.type );\r\n\r\n\t\t// Watch for a new set of requests\r\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\r\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\r\n\t\t}\r\n\r\n\t\t// More options handling for requests with no content\r\n\t\tif ( !s.hasContent ) {\r\n\r\n\t\t\t// If data is available, append data to url\r\n\t\t\tif ( s.data ) {\r\n\t\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.data;\r\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\r\n\t\t\t\tdelete s.data;\r\n\t\t\t}\r\n\r\n\t\t\t// Get ifModifiedKey before adding the anti-cache parameter\r\n\t\t\tifModifiedKey = s.url;\r\n\r\n\t\t\t// Add anti-cache in url if needed\r\n\t\t\tif ( s.cache === false ) {\r\n\r\n\t\t\t\tvar ts = jQuery.now(),\r\n\t\t\t\t\t// try replacing _= if it is there\r\n\t\t\t\t\tret = s.url.replace( rts, \"$1_=\" + ts );\r\n\r\n\t\t\t\t// if nothing was replaced, add timestamp to the end\r\n\t\t\t\ts.url = ret + ( ( ret === s.url ) ? ( rquery.test( s.url ) ? \"&\" : \"?\" ) + \"_=\" + ts : \"\" );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set the correct header, if data is being sent\r\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\r\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\r\n\t\t}\r\n\r\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\r\n\t\tif ( s.ifModified ) {\r\n\t\t\tifModifiedKey = ifModifiedKey || s.url;\r\n\t\t\tif ( jQuery.lastModified[ ifModifiedKey ] ) {\r\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ ifModifiedKey ] );\r\n\t\t\t}\r\n\t\t\tif ( jQuery.etag[ ifModifiedKey ] ) {\r\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ ifModifiedKey ] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set the Accepts header for the server, depending on the dataType\r\n\t\tjqXHR.setRequestHeader(\r\n\t\t\t\"Accept\",\r\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?\r\n\t\t\t\ts.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\r\n\t\t\t\ts.accepts[ \"*\" ]\r\n\t\t);\r\n\r\n\t\t// Check for headers option\r\n\t\tfor ( i in s.headers ) {\r\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\r\n\t\t}\r\n\r\n\t\t// Allow custom headers/mimetypes and early abort\r\n\t\tif ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\r\n\t\t\t\t// Abort if not done already and return\r\n\t\t\t\treturn jqXHR.abort();\r\n\r\n\t\t}\r\n\r\n\t\t// aborting is no longer a cancellation\r\n\t\tstrAbort = \"abort\";\r\n\r\n\t\t// Install callbacks on deferreds\r\n\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\r\n\t\t\tjqXHR[ i ]( s[ i ] );\r\n\t\t}\r\n\r\n\t\t// Get transport\r\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\r\n\r\n\t\t// If no transport, we auto-abort\r\n\t\tif ( !transport ) {\r\n\t\t\tdone( -1, \"No Transport\" );\r\n\t\t} else {\r\n\t\t\tjqXHR.readyState = 1;\r\n\t\t\t// Send global event\r\n\t\t\tif ( fireGlobals ) {\r\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\r\n\t\t\t}\r\n\t\t\t// Timeout\r\n\t\t\tif ( s.async && s.timeout > 0 ) {\r\n\t\t\t\ttimeoutTimer = setTimeout( function(){\r\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\r\n\t\t\t\t}, s.timeout );\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tstate = 1;\r\n\t\t\t\ttransport.send( requestHeaders, done );\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// Propagate exception as error if not done\r\n\t\t\t\tif ( state < 2 ) {\r\n\t\t\t\t\tdone( -1, e );\r\n\t\t\t\t// Simply rethrow otherwise\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn jqXHR;\r\n\t},\r\n\r\n\t// Counter for holding the number of active queries\r\n\tactive: 0,\r\n\r\n\t// Last-Modified header cache for next request\r\n\tlastModified: {},\r\n\tetag: {}\r\n\r\n});\r\n\r\n/* Handles responses to an ajax request:\r\n * - sets all responseXXX fields accordingly\r\n * - finds the right dataType (mediates between content-type and expected dataType)\r\n * - returns the corresponding response\r\n */\r\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\r\n\r\n\tvar ct, type, finalDataType, firstDataType,\r\n\t\tcontents = s.contents,\r\n\t\tdataTypes = s.dataTypes,\r\n\t\tresponseFields = s.responseFields;\r\n\r\n\t// Fill responseXXX fields\r\n\tfor ( type in responseFields ) {\r\n\t\tif ( type in responses ) {\r\n\t\t\tjqXHR[ responseFields[type] ] = responses[ type ];\r\n\t\t}\r\n\t}\r\n\r\n\t// Remove auto dataType and get content-type in the process\r\n\twhile( dataTypes[ 0 ] === \"*\" ) {\r\n\t\tdataTypes.shift();\r\n\t\tif ( ct === undefined ) {\r\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"content-type\" );\r\n\t\t}\r\n\t}\r\n\r\n\t// Check if we're dealing with a known content-type\r\n\tif ( ct ) {\r\n\t\tfor ( type in contents ) {\r\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\r\n\t\t\t\tdataTypes.unshift( type );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Check to see if we have a response for the expected dataType\r\n\tif ( dataTypes[ 0 ] in responses ) {\r\n\t\tfinalDataType = dataTypes[ 0 ];\r\n\t} else {\r\n\t\t// Try convertible dataTypes\r\n\t\tfor ( type in responses ) {\r\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[0] ] ) {\r\n\t\t\t\tfinalDataType = type;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif ( !firstDataType ) {\r\n\t\t\t\tfirstDataType = type;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Or just use first one\r\n\t\tfinalDataType = finalDataType || firstDataType;\r\n\t}\r\n\r\n\t// If we found a dataType\r\n\t// We add the dataType to the list if needed\r\n\t// and return the corresponding response\r\n\tif ( finalDataType ) {\r\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\r\n\t\t\tdataTypes.unshift( finalDataType );\r\n\t\t}\r\n\t\treturn responses[ finalDataType ];\r\n\t}\r\n}\r\n\r\n// Chain conversions given the request and the original response\r\nfunction ajaxConvert( s, response ) {\r\n\r\n\tvar conv, conv2, current, tmp,\r\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\r\n\t\tdataTypes = s.dataTypes.slice(),\r\n\t\tprev = dataTypes[ 0 ],\r\n\t\tconverters = {},\r\n\t\ti = 0;\r\n\r\n\t// Apply the dataFilter if provided\r\n\tif ( s.dataFilter ) {\r\n\t\tresponse = s.dataFilter( response, s.dataType );\r\n\t}\r\n\r\n\t// Create converters map with lowercased keys\r\n\tif ( dataTypes[ 1 ] ) {\r\n\t\tfor ( conv in s.converters ) {\r\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\r\n\t\t}\r\n\t}\r\n\r\n\t// Convert to each sequential dataType, tolerating list modification\r\n\tfor ( ; (current = dataTypes[++i]); ) {\r\n\r\n\t\t// There's only work to do if current dataType is non-auto\r\n\t\tif ( current !== \"*\" ) {\r\n\r\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\r\n\t\t\tif ( prev !== \"*\" && prev !== current ) {\r\n\r\n\t\t\t\t// Seek a direct converter\r\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\r\n\r\n\t\t\t\t// If none found, seek a pair\r\n\t\t\t\tif ( !conv ) {\r\n\t\t\t\t\tfor ( conv2 in converters ) {\r\n\r\n\t\t\t\t\t\t// If conv2 outputs current\r\n\t\t\t\t\t\ttmp = conv2.split(\" \");\r\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\r\n\r\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\r\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\r\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\r\n\t\t\t\t\t\t\tif ( conv ) {\r\n\t\t\t\t\t\t\t\t// Condense equivalence converters\r\n\t\t\t\t\t\t\t\tif ( conv === true ) {\r\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\r\n\r\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\r\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\r\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\r\n\t\t\t\t\t\t\t\t\tdataTypes.splice( i--, 0, current );\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Apply converter (if not an equivalence)\r\n\t\t\t\tif ( conv !== true ) {\r\n\r\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\r\n\t\t\t\t\tif ( conv && s[\"throws\"] ) {\r\n\t\t\t\t\t\tresponse = conv( response );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tresponse = conv( response );\r\n\t\t\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t\t\treturn { state: \"parsererror\", error: conv ? e : \"No conversion from \" + prev + \" to \" + current };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Update prev for next iteration\r\n\t\t\tprev = current;\r\n\t\t}\r\n\t}\r\n\r\n\treturn { state: \"success\", data: response };\r\n}\r\nvar oldCallbacks = [],\r\n\trquestion = /\\?/,\r\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/,\r\n\tnonce = jQuery.now();\r\n\r\n// Default jsonp settings\r\njQuery.ajaxSetup({\r\n\tjsonp: \"callback\",\r\n\tjsonpCallback: function() {\r\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\r\n\t\tthis[ callback ] = true;\r\n\t\treturn callback;\r\n\t}\r\n});\r\n\r\n// Detect, normalize options and install callbacks for jsonp requests\r\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\r\n\r\n\tvar callbackName, overwritten, responseContainer,\r\n\t\tdata = s.data,\r\n\t\turl = s.url,\r\n\t\thasCallback = s.jsonp !== false,\r\n\t\treplaceInUrl = hasCallback && rjsonp.test( url ),\r\n\t\treplaceInData = hasCallback && !replaceInUrl && typeof data === \"string\" &&\r\n\t\t\t!( s.contentType || \"\" ).indexOf(\"application/x-www-form-urlencoded\") &&\r\n\t\t\trjsonp.test( data );\r\n\r\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\r\n\tif ( s.dataTypes[ 0 ] === \"jsonp\" || replaceInUrl || replaceInData ) {\r\n\r\n\t\t// Get callback name, remembering preexisting value associated with it\r\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\r\n\t\t\ts.jsonpCallback() :\r\n\t\t\ts.jsonpCallback;\r\n\t\toverwritten = window[ callbackName ];\r\n\r\n\t\t// Insert callback into url or form data\r\n\t\tif ( replaceInUrl ) {\r\n\t\t\ts.url = url.replace( rjsonp, \"$1\" + callbackName );\r\n\t\t} else if ( replaceInData ) {\r\n\t\t\ts.data = data.replace( rjsonp, \"$1\" + callbackName );\r\n\t\t} else if ( hasCallback ) {\r\n\t\t\ts.url += ( rquestion.test( url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\r\n\t\t}\r\n\r\n\t\t// Use data converter to retrieve json after script execution\r\n\t\ts.converters[\"script json\"] = function() {\r\n\t\t\tif ( !responseContainer ) {\r\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\r\n\t\t\t}\r\n\t\t\treturn responseContainer[ 0 ];\r\n\t\t};\r\n\r\n\t\t// force json dataType\r\n\t\ts.dataTypes[ 0 ] = \"json\";\r\n\r\n\t\t// Install callback\r\n\t\twindow[ callbackName ] = function() {\r\n\t\t\tresponseContainer = arguments;\r\n\t\t};\r\n\r\n\t\t// Clean-up function (fires after converters)\r\n\t\tjqXHR.always(function() {\r\n\t\t\t// Restore preexisting value\r\n\t\t\twindow[ callbackName ] = overwritten;\r\n\r\n\t\t\t// Save back as free\r\n\t\t\tif ( s[ callbackName ] ) {\r\n\t\t\t\t// make sure that re-using the options doesn't screw things around\r\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\r\n\r\n\t\t\t\t// save the callback name for future use\r\n\t\t\t\toldCallbacks.push( callbackName );\r\n\t\t\t}\r\n\r\n\t\t\t// Call if it was a function and we have a response\r\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\r\n\t\t\t\toverwritten( responseContainer[ 0 ] );\r\n\t\t\t}\r\n\r\n\t\t\tresponseContainer = overwritten = undefined;\r\n\t\t});\r\n\r\n\t\t// Delegate to script\r\n\t\treturn \"script\";\r\n\t}\r\n});\r\n// Install script dataType\r\njQuery.ajaxSetup({\r\n\taccepts: {\r\n\t\tscript: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\r\n\t},\r\n\tcontents: {\r\n\t\tscript: /javascript|ecmascript/\r\n\t},\r\n\tconverters: {\r\n\t\t\"text script\": function( text ) {\r\n\t\t\tjQuery.globalEval( text );\r\n\t\t\treturn text;\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Handle cache's special case and global\r\njQuery.ajaxPrefilter( \"script\", function( s ) {\r\n\tif ( s.cache === undefined ) {\r\n\t\ts.cache = false;\r\n\t}\r\n\tif ( s.crossDomain ) {\r\n\t\ts.type = \"GET\";\r\n\t\ts.global = false;\r\n\t}\r\n});\r\n\r\n// Bind script tag hack transport\r\njQuery.ajaxTransport( \"script\", function(s) {\r\n\r\n\t// This transport only deals with cross domain requests\r\n\tif ( s.crossDomain ) {\r\n\r\n\t\tvar script,\r\n\t\t\thead = document.head || document.getElementsByTagName( \"head\" )[0] || document.documentElement;\r\n\r\n\t\treturn {\r\n\r\n\t\t\tsend: function( _, callback ) {\r\n\r\n\t\t\t\tscript = document.createElement( \"script\" );\r\n\r\n\t\t\t\tscript.async = \"async\";\r\n\r\n\t\t\t\tif ( s.scriptCharset ) {\r\n\t\t\t\t\tscript.charset = s.scriptCharset;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscript.src = s.url;\r\n\r\n\t\t\t\t// Attach handlers for all browsers\r\n\t\t\t\tscript.onload = script.onreadystatechange = function( _, isAbort ) {\r\n\r\n\t\t\t\t\tif ( isAbort || !script.readyState || /loaded|complete/.test( script.readyState ) ) {\r\n\r\n\t\t\t\t\t\t// Handle memory leak in IE\r\n\t\t\t\t\t\tscript.onload = script.onreadystatechange = null;\r\n\r\n\t\t\t\t\t\t// Remove the script\r\n\t\t\t\t\t\tif ( head && script.parentNode ) {\r\n\t\t\t\t\t\t\thead.removeChild( script );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Dereference the script\r\n\t\t\t\t\t\tscript = undefined;\r\n\r\n\t\t\t\t\t\t// Callback if not abort\r\n\t\t\t\t\t\tif ( !isAbort ) {\r\n\t\t\t\t\t\t\tcallback( 200, \"success\" );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t// Use insertBefore instead of appendChild  to circumvent an IE6 bug.\r\n\t\t\t\t// This arises when a base node is used (#2709 and #4378).\r\n\t\t\t\thead.insertBefore( script, head.firstChild );\r\n\t\t\t},\r\n\r\n\t\t\tabort: function() {\r\n\t\t\t\tif ( script ) {\r\n\t\t\t\t\tscript.onload( 0, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n});\r\nvar xhrCallbacks,\r\n\t// #5280: Internet Explorer will keep connections alive if we don't abort on unload\r\n\txhrOnUnloadAbort = window.ActiveXObject ? function() {\r\n\t\t// Abort all pending requests\r\n\t\tfor ( var key in xhrCallbacks ) {\r\n\t\t\txhrCallbacks[ key ]( 0, 1 );\r\n\t\t}\r\n\t} : false,\r\n\txhrId = 0;\r\n\r\n// Functions to create xhrs\r\nfunction createStandardXHR() {\r\n\ttry {\r\n\t\treturn new window.XMLHttpRequest();\r\n\t} catch( e ) {}\r\n}\r\n\r\nfunction createActiveXHR() {\r\n\ttry {\r\n\t\treturn new window.ActiveXObject( \"Microsoft.XMLHTTP\" );\r\n\t} catch( e ) {}\r\n}\r\n\r\n// Create the request object\r\n// (This is still attached to ajaxSettings for backward compatibility)\r\njQuery.ajaxSettings.xhr = window.ActiveXObject ?\r\n\t/* Microsoft failed to properly\r\n\t * implement the XMLHttpRequest in IE7 (can't request local files),\r\n\t * so we use the ActiveXObject when it is available\r\n\t * Additionally XMLHttpRequest can be disabled in IE7/IE8 so\r\n\t * we need a fallback.\r\n\t */\r\n\tfunction() {\r\n\t\treturn !this.isLocal && createStandardXHR() || createActiveXHR();\r\n\t} :\r\n\t// For all other browsers, use the standard XMLHttpRequest object\r\n\tcreateStandardXHR;\r\n\r\n// Determine support properties\r\n(function( xhr ) {\r\n\tjQuery.extend( jQuery.support, {\r\n\t\tajax: !!xhr,\r\n\t\tcors: !!xhr && ( \"withCredentials\" in xhr )\r\n\t});\r\n})( jQuery.ajaxSettings.xhr() );\r\n\r\n// Create transport if the browser can provide an xhr\r\nif ( jQuery.support.ajax ) {\r\n\r\n\tjQuery.ajaxTransport(function( s ) {\r\n\t\t// Cross domain only allowed if supported through XMLHttpRequest\r\n\t\tif ( !s.crossDomain || jQuery.support.cors ) {\r\n\r\n\t\t\tvar callback;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tsend: function( headers, complete ) {\r\n\r\n\t\t\t\t\t// Get a new xhr\r\n\t\t\t\t\tvar handle, i,\r\n\t\t\t\t\t\txhr = s.xhr();\r\n\r\n\t\t\t\t\t// Open the socket\r\n\t\t\t\t\t// Passing null username, generates a login popup on Opera (#2865)\r\n\t\t\t\t\tif ( s.username ) {\r\n\t\t\t\t\t\txhr.open( s.type, s.url, s.async, s.username, s.password );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\txhr.open( s.type, s.url, s.async );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Apply custom fields if provided\r\n\t\t\t\t\tif ( s.xhrFields ) {\r\n\t\t\t\t\t\tfor ( i in s.xhrFields ) {\r\n\t\t\t\t\t\t\txhr[ i ] = s.xhrFields[ i ];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Override mime type if needed\r\n\t\t\t\t\tif ( s.mimeType && xhr.overrideMimeType ) {\r\n\t\t\t\t\t\txhr.overrideMimeType( s.mimeType );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// X-Requested-With header\r\n\t\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\r\n\t\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\r\n\t\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\r\n\t\t\t\t\t// For same-domain requests, won't change header if already provided.\r\n\t\t\t\t\tif ( !s.crossDomain && !headers[\"X-Requested-With\"] ) {\r\n\t\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Need an extra try/catch for cross domain requests in Firefox 3\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tfor ( i in headers ) {\r\n\t\t\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch( _ ) {}\r\n\r\n\t\t\t\t\t// Do send the request\r\n\t\t\t\t\t// This may raise an exception which is actually\r\n\t\t\t\t\t// handled in jQuery.ajax (so no try/catch here)\r\n\t\t\t\t\txhr.send( ( s.hasContent && s.data ) || null );\r\n\r\n\t\t\t\t\t// Listener\r\n\t\t\t\t\tcallback = function( _, isAbort ) {\r\n\r\n\t\t\t\t\t\tvar status,\r\n\t\t\t\t\t\t\tstatusText,\r\n\t\t\t\t\t\t\tresponseHeaders,\r\n\t\t\t\t\t\t\tresponses,\r\n\t\t\t\t\t\t\txml;\r\n\r\n\t\t\t\t\t\t// Firefox throws exceptions when accessing properties\r\n\t\t\t\t\t\t// of an xhr when a network error occurred\r\n\t\t\t\t\t\t// http://helpful.knobs-dials.com/index.php/Component_returned_failure_code:_0x80040111_(NS_ERROR_NOT_AVAILABLE)\r\n\t\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\t\t// Was never called and is aborted or complete\r\n\t\t\t\t\t\t\tif ( callback && ( isAbort || xhr.readyState === 4 ) ) {\r\n\r\n\t\t\t\t\t\t\t\t// Only called once\r\n\t\t\t\t\t\t\t\tcallback = undefined;\r\n\r\n\t\t\t\t\t\t\t\t// Do not keep as active anymore\r\n\t\t\t\t\t\t\t\tif ( handle ) {\r\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = jQuery.noop;\r\n\t\t\t\t\t\t\t\t\tif ( xhrOnUnloadAbort ) {\r\n\t\t\t\t\t\t\t\t\t\tdelete xhrCallbacks[ handle ];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// If it's an abort\r\n\t\t\t\t\t\t\t\tif ( isAbort ) {\r\n\t\t\t\t\t\t\t\t\t// Abort it manually if needed\r\n\t\t\t\t\t\t\t\t\tif ( xhr.readyState !== 4 ) {\r\n\t\t\t\t\t\t\t\t\t\txhr.abort();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tstatus = xhr.status;\r\n\t\t\t\t\t\t\t\t\tresponseHeaders = xhr.getAllResponseHeaders();\r\n\t\t\t\t\t\t\t\t\tresponses = {};\r\n\t\t\t\t\t\t\t\t\txml = xhr.responseXML;\r\n\r\n\t\t\t\t\t\t\t\t\t// Construct response list\r\n\t\t\t\t\t\t\t\t\tif ( xml && xml.documentElement /* #4958 */ ) {\r\n\t\t\t\t\t\t\t\t\t\tresponses.xml = xml;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// When requesting binary data, IE6-9 will throw an exception\r\n\t\t\t\t\t\t\t\t\t// on any attempt to access responseText (#11426)\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tresponses.text = xhr.responseText;\r\n\t\t\t\t\t\t\t\t\t} catch( _ ) {\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Firefox throws an exception when accessing\r\n\t\t\t\t\t\t\t\t\t// statusText for faulty cross-domain requests\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tstatusText = xhr.statusText;\r\n\t\t\t\t\t\t\t\t\t} catch( e ) {\r\n\t\t\t\t\t\t\t\t\t\t// We normalize with Webkit giving an empty statusText\r\n\t\t\t\t\t\t\t\t\t\tstatusText = \"\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Filter status for non standard behaviors\r\n\r\n\t\t\t\t\t\t\t\t\t// If the request is local and we have data: assume a success\r\n\t\t\t\t\t\t\t\t\t// (success with no data won't get notified, that's the best we\r\n\t\t\t\t\t\t\t\t\t// can do given current implementations)\r\n\t\t\t\t\t\t\t\t\tif ( !status && s.isLocal && !s.crossDomain ) {\r\n\t\t\t\t\t\t\t\t\t\tstatus = responses.text ? 200 : 404;\r\n\t\t\t\t\t\t\t\t\t// IE - #1450: sometimes returns 1223 when it should be 204\r\n\t\t\t\t\t\t\t\t\t} else if ( status === 1223 ) {\r\n\t\t\t\t\t\t\t\t\t\tstatus = 204;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch( firefoxAccessException ) {\r\n\t\t\t\t\t\t\tif ( !isAbort ) {\r\n\t\t\t\t\t\t\t\tcomplete( -1, firefoxAccessException );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Call complete if needed\r\n\t\t\t\t\t\tif ( responses ) {\r\n\t\t\t\t\t\t\tcomplete( status, statusText, responses, responseHeaders );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif ( !s.async ) {\r\n\t\t\t\t\t\t// if we're in sync mode we fire the callback\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t} else if ( xhr.readyState === 4 ) {\r\n\t\t\t\t\t\t// (IE6 & IE7) if it's in cache and has been\r\n\t\t\t\t\t\t// retrieved directly we need to fire the callback\r\n\t\t\t\t\t\tsetTimeout( callback, 0 );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thandle = ++xhrId;\r\n\t\t\t\t\t\tif ( xhrOnUnloadAbort ) {\r\n\t\t\t\t\t\t\t// Create the active xhrs callbacks list if needed\r\n\t\t\t\t\t\t\t// and attach the unload handler\r\n\t\t\t\t\t\t\tif ( !xhrCallbacks ) {\r\n\t\t\t\t\t\t\t\txhrCallbacks = {};\r\n\t\t\t\t\t\t\t\tjQuery( window ).unload( xhrOnUnloadAbort );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Add to list of active xhrs callbacks\r\n\t\t\t\t\t\t\txhrCallbacks[ handle ] = callback;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\txhr.onreadystatechange = callback;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tabort: function() {\r\n\t\t\t\t\tif ( callback ) {\r\n\t\t\t\t\t\tcallback(0,1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n}\r\nvar fxNow, timerId,\r\n\trfxtypes = /^(?:toggle|show|hide)$/,\r\n\trfxnum = new RegExp( \"^(?:([-+])=|)(\" + core_pnum + \")([a-z%]*)$\", \"i\" ),\r\n\trrun = /queueHooks$/,\r\n\tanimationPrefilters = [ defaultPrefilter ],\r\n\ttweeners = {\r\n\t\t\"*\": [function( prop, value ) {\r\n\t\t\tvar end, unit, prevScale,\r\n\t\t\t\ttween = this.createTween( prop, value ),\r\n\t\t\t\tparts = rfxnum.exec( value ),\r\n\t\t\t\ttarget = tween.cur(),\r\n\t\t\t\tstart = +target || 0,\r\n\t\t\t\tscale = 1;\r\n\r\n\t\t\tif ( parts ) {\r\n\t\t\t\tend = +parts[2];\r\n\t\t\t\tunit = parts[3] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\r\n\r\n\t\t\t\t// We need to compute starting value\r\n\t\t\t\tif ( unit !== \"px\" && start ) {\r\n\t\t\t\t\t// Iteratively approximate from a nonzero starting point\r\n\t\t\t\t\t// Prefer the current property, because this process will be trivial if it uses the same units\r\n\t\t\t\t\t// Fallback to end or a simple constant\r\n\t\t\t\t\tstart = jQuery.css( tween.elem, prop, true ) || end || 1;\r\n\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\t// If previous iteration zeroed out, double until we get *something*\r\n\t\t\t\t\t\t// Use a string for doubling factor so we don't accidentally see scale as unchanged below\r\n\t\t\t\t\t\tprevScale = scale = scale || \".5\";\r\n\r\n\t\t\t\t\t\t// Adjust and apply\r\n\t\t\t\t\t\tstart = start / scale;\r\n\t\t\t\t\t\tjQuery.style( tween.elem, prop, start + unit );\r\n\r\n\t\t\t\t\t\t// Update scale, tolerating zeroes from tween.cur()\r\n\t\t\t\t\t\tscale = tween.cur() / target;\r\n\r\n\t\t\t\t\t// Stop looping if we've hit the mark or scale is unchanged\r\n\t\t\t\t\t} while ( scale !== 1 && scale !== prevScale );\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttween.unit = unit;\r\n\t\t\t\ttween.start = start;\r\n\t\t\t\t// If a +=/-= token was provided, we're doing a relative animation\r\n\t\t\t\ttween.end = parts[1] ? start + ( parts[1] + 1 ) * end : end;\r\n\t\t\t}\r\n\t\t\treturn tween;\r\n\t\t}]\r\n\t};\r\n\r\n// Animations created synchronously will run synchronously\r\nfunction createFxNow() {\r\n\tsetTimeout(function() {\r\n\t\tfxNow = undefined;\r\n\t}, 0 );\r\n\treturn ( fxNow = jQuery.now() );\r\n}\r\n\r\nfunction createTweens( animation, props ) {\r\n\tjQuery.each( props, function( prop, value ) {\r\n\t\tvar collection = ( tweeners[ prop ] || [] ).concat( tweeners[ \"*\" ] ),\r\n\t\t\tindex = 0,\r\n\t\t\tlength = collection.length;\r\n\t\tfor ( ; index < length; index++ ) {\r\n\t\t\tif ( collection[ index ].call( animation, prop, value ) ) {\r\n\r\n\t\t\t\t// we're done with this property\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction Animation( elem, properties, options ) {\r\n\tvar result,\r\n\t\tindex = 0,\r\n\t\ttweenerIndex = 0,\r\n\t\tlength = animationPrefilters.length,\r\n\t\tdeferred = jQuery.Deferred().always( function() {\r\n\t\t\t// don't match elem in the :animated selector\r\n\t\t\tdelete tick.elem;\r\n\t\t}),\r\n\t\ttick = function() {\r\n\t\t\tvar currentTime = fxNow || createFxNow(),\r\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\r\n\t\t\t\tpercent = 1 - ( remaining / animation.duration || 0 ),\r\n\t\t\t\tindex = 0,\r\n\t\t\t\tlength = animation.tweens.length;\r\n\r\n\t\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\t\tanimation.tweens[ index ].run( percent );\r\n\t\t\t}\r\n\r\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ]);\r\n\r\n\t\t\tif ( percent < 1 && length ) {\r\n\t\t\t\treturn remaining;\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tanimation = deferred.promise({\r\n\t\t\telem: elem,\r\n\t\t\tprops: jQuery.extend( {}, properties ),\r\n\t\t\topts: jQuery.extend( true, { specialEasing: {} }, options ),\r\n\t\t\toriginalProperties: properties,\r\n\t\t\toriginalOptions: options,\r\n\t\t\tstartTime: fxNow || createFxNow(),\r\n\t\t\tduration: options.duration,\r\n\t\t\ttweens: [],\r\n\t\t\tcreateTween: function( prop, end, easing ) {\r\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\r\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\r\n\t\t\t\tanimation.tweens.push( tween );\r\n\t\t\t\treturn tween;\r\n\t\t\t},\r\n\t\t\tstop: function( gotoEnd ) {\r\n\t\t\t\tvar index = 0,\r\n\t\t\t\t\t// if we are going to the end, we want to run all the tweens\r\n\t\t\t\t\t// otherwise we skip this part\r\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\r\n\r\n\t\t\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// resolve when we played the last frame\r\n\t\t\t\t// otherwise, reject\r\n\t\t\t\tif ( gotoEnd ) {\r\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t}),\r\n\t\tprops = animation.props;\r\n\r\n\tpropFilter( props, animation.opts.specialEasing );\r\n\r\n\tfor ( ; index < length ; index++ ) {\r\n\t\tresult = animationPrefilters[ index ].call( animation, elem, props, animation.opts );\r\n\t\tif ( result ) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\tcreateTweens( animation, props );\r\n\r\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\r\n\t\tanimation.opts.start.call( elem, animation );\r\n\t}\r\n\r\n\tjQuery.fx.timer(\r\n\t\tjQuery.extend( tick, {\r\n\t\t\tanim: animation,\r\n\t\t\tqueue: animation.opts.queue,\r\n\t\t\telem: elem\r\n\t\t})\r\n\t);\r\n\r\n\t// attach callbacks from options\r\n\treturn animation.progress( animation.opts.progress )\r\n\t\t.done( animation.opts.done, animation.opts.complete )\r\n\t\t.fail( animation.opts.fail )\r\n\t\t.always( animation.opts.always );\r\n}\r\n\r\nfunction propFilter( props, specialEasing ) {\r\n\tvar index, name, easing, value, hooks;\r\n\r\n\t// camelCase, specialEasing and expand cssHook pass\r\n\tfor ( index in props ) {\r\n\t\tname = jQuery.camelCase( index );\r\n\t\teasing = specialEasing[ name ];\r\n\t\tvalue = props[ index ];\r\n\t\tif ( jQuery.isArray( value ) ) {\r\n\t\t\teasing = value[ 1 ];\r\n\t\t\tvalue = props[ index ] = value[ 0 ];\r\n\t\t}\r\n\r\n\t\tif ( index !== name ) {\r\n\t\t\tprops[ name ] = value;\r\n\t\t\tdelete props[ index ];\r\n\t\t}\r\n\r\n\t\thooks = jQuery.cssHooks[ name ];\r\n\t\tif ( hooks && \"expand\" in hooks ) {\r\n\t\t\tvalue = hooks.expand( value );\r\n\t\t\tdelete props[ name ];\r\n\r\n\t\t\t// not quite $.extend, this wont overwrite keys already present.\r\n\t\t\t// also - reusing 'index' from above because we have the correct \"name\"\r\n\t\t\tfor ( index in value ) {\r\n\t\t\t\tif ( !( index in props ) ) {\r\n\t\t\t\t\tprops[ index ] = value[ index ];\r\n\t\t\t\t\tspecialEasing[ index ] = easing;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tspecialEasing[ name ] = easing;\r\n\t\t}\r\n\t}\r\n}\r\n\r\njQuery.Animation = jQuery.extend( Animation, {\r\n\r\n\ttweener: function( props, callback ) {\r\n\t\tif ( jQuery.isFunction( props ) ) {\r\n\t\t\tcallback = props;\r\n\t\t\tprops = [ \"*\" ];\r\n\t\t} else {\r\n\t\t\tprops = props.split(\" \");\r\n\t\t}\r\n\r\n\t\tvar prop,\r\n\t\t\tindex = 0,\r\n\t\t\tlength = props.length;\r\n\r\n\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\tprop = props[ index ];\r\n\t\t\ttweeners[ prop ] = tweeners[ prop ] || [];\r\n\t\t\ttweeners[ prop ].unshift( callback );\r\n\t\t}\r\n\t},\r\n\r\n\tprefilter: function( callback, prepend ) {\r\n\t\tif ( prepend ) {\r\n\t\t\tanimationPrefilters.unshift( callback );\r\n\t\t} else {\r\n\t\t\tanimationPrefilters.push( callback );\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction defaultPrefilter( elem, props, opts ) {\r\n\tvar index, prop, value, length, dataShow, tween, hooks, oldfire,\r\n\t\tanim = this,\r\n\t\tstyle = elem.style,\r\n\t\torig = {},\r\n\t\thandled = [],\r\n\t\thidden = elem.nodeType && isHidden( elem );\r\n\r\n\t// handle queue: false promises\r\n\tif ( !opts.queue ) {\r\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\r\n\t\tif ( hooks.unqueued == null ) {\r\n\t\t\thooks.unqueued = 0;\r\n\t\t\toldfire = hooks.empty.fire;\r\n\t\t\thooks.empty.fire = function() {\r\n\t\t\t\tif ( !hooks.unqueued ) {\r\n\t\t\t\t\toldfire();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\thooks.unqueued++;\r\n\r\n\t\tanim.always(function() {\r\n\t\t\t// doing this makes sure that the complete handler will be called\r\n\t\t\t// before this completes\r\n\t\t\tanim.always(function() {\r\n\t\t\t\thooks.unqueued--;\r\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\r\n\t\t\t\t\thooks.empty.fire();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// height/width overflow pass\r\n\tif ( elem.nodeType === 1 && ( \"height\" in props || \"width\" in props ) ) {\r\n\t\t// Make sure that nothing sneaks out\r\n\t\t// Record all 3 overflow attributes because IE does not\r\n\t\t// change the overflow attribute when overflowX and\r\n\t\t// overflowY are set to the same value\r\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\r\n\r\n\t\t// Set display property to inline-block for height/width\r\n\t\t// animations on inline elements that are having width/height animated\r\n\t\tif ( jQuery.css( elem, \"display\" ) === \"inline\" &&\r\n\t\t\t\tjQuery.css( elem, \"float\" ) === \"none\" ) {\r\n\r\n\t\t\t// inline-level elements accept inline-block;\r\n\t\t\t// block-level elements need to be inline with layout\r\n\t\t\tif ( !jQuery.support.inlineBlockNeedsLayout || css_defaultDisplay( elem.nodeName ) === \"inline\" ) {\r\n\t\t\t\tstyle.display = \"inline-block\";\r\n\r\n\t\t\t} else {\r\n\t\t\t\tstyle.zoom = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif ( opts.overflow ) {\r\n\t\tstyle.overflow = \"hidden\";\r\n\t\tif ( !jQuery.support.shrinkWrapBlocks ) {\r\n\t\t\tanim.done(function() {\r\n\t\t\t\tstyle.overflow = opts.overflow[ 0 ];\r\n\t\t\t\tstyle.overflowX = opts.overflow[ 1 ];\r\n\t\t\t\tstyle.overflowY = opts.overflow[ 2 ];\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// show/hide pass\r\n\tfor ( index in props ) {\r\n\t\tvalue = props[ index ];\r\n\t\tif ( rfxtypes.exec( value ) ) {\r\n\t\t\tdelete props[ index ];\r\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\thandled.push( index );\r\n\t\t}\r\n\t}\r\n\r\n\tlength = handled.length;\r\n\tif ( length ) {\r\n\t\tdataShow = jQuery._data( elem, \"fxshow\" ) || jQuery._data( elem, \"fxshow\", {} );\r\n\t\tif ( hidden ) {\r\n\t\t\tjQuery( elem ).show();\r\n\t\t} else {\r\n\t\t\tanim.done(function() {\r\n\t\t\t\tjQuery( elem ).hide();\r\n\t\t\t});\r\n\t\t}\r\n\t\tanim.done(function() {\r\n\t\t\tvar prop;\r\n\t\t\tjQuery.removeData( elem, \"fxshow\", true );\r\n\t\t\tfor ( prop in orig ) {\r\n\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\r\n\t\t\t}\r\n\t\t});\r\n\t\tfor ( index = 0 ; index < length ; index++ ) {\r\n\t\t\tprop = handled[ index ];\r\n\t\t\ttween = anim.createTween( prop, hidden ? dataShow[ prop ] : 0 );\r\n\t\t\torig[ prop ] = dataShow[ prop ] || jQuery.style( elem, prop );\r\n\r\n\t\t\tif ( !( prop in dataShow ) ) {\r\n\t\t\t\tdataShow[ prop ] = tween.start;\r\n\t\t\t\tif ( hidden ) {\r\n\t\t\t\t\ttween.end = tween.start;\r\n\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction Tween( elem, options, prop, end, easing ) {\r\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\r\n}\r\njQuery.Tween = Tween;\r\n\r\nTween.prototype = {\r\n\tconstructor: Tween,\r\n\tinit: function( elem, options, prop, end, easing, unit ) {\r\n\t\tthis.elem = elem;\r\n\t\tthis.prop = prop;\r\n\t\tthis.easing = easing || \"swing\";\r\n\t\tthis.options = options;\r\n\t\tthis.start = this.now = this.cur();\r\n\t\tthis.end = end;\r\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\r\n\t},\r\n\tcur: function() {\r\n\t\tvar hooks = Tween.propHooks[ this.prop ];\r\n\r\n\t\treturn hooks && hooks.get ?\r\n\t\t\thooks.get( this ) :\r\n\t\t\tTween.propHooks._default.get( this );\r\n\t},\r\n\trun: function( percent ) {\r\n\t\tvar eased,\r\n\t\t\thooks = Tween.propHooks[ this.prop ];\r\n\r\n\t\tthis.pos = eased = jQuery.easing[ this.easing ]( percent, this.options.duration * percent, 0, 1, this.options.duration );\r\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\r\n\r\n\t\tif ( this.options.step ) {\r\n\t\t\tthis.options.step.call( this.elem, this.now, this );\r\n\t\t}\r\n\r\n\t\tif ( hooks && hooks.set ) {\r\n\t\t\thooks.set( this );\r\n\t\t} else {\r\n\t\t\tTween.propHooks._default.set( this );\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n};\r\n\r\nTween.prototype.init.prototype = Tween.prototype;\r\n\r\nTween.propHooks = {\r\n\t_default: {\r\n\t\tget: function( tween ) {\r\n\t\t\tvar result;\r\n\r\n\t\t\tif ( tween.elem[ tween.prop ] != null &&\r\n\t\t\t\t(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {\r\n\t\t\t\treturn tween.elem[ tween.prop ];\r\n\t\t\t}\r\n\r\n\t\t\t// passing any value as a 4th parameter to .css will automatically\r\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails\r\n\t\t\t// so, simple values such as \"10px\" are parsed to Float.\r\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as is.\r\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, false, \"\" );\r\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\r\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\r\n\t\t},\r\n\t\tset: function( tween ) {\r\n\t\t\t// use step hook for back compat - use cssHook if its there - use .style if its\r\n\t\t\t// available and use plain properties where available\r\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\r\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\r\n\t\t\t} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {\r\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\r\n\t\t\t} else {\r\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Remove in 2.0 - this supports IE8's panic based approach\r\n// to setting things on disconnected nodes\r\n\r\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\r\n\tset: function( tween ) {\r\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\r\n\t\t\ttween.elem[ tween.prop ] = tween.now;\r\n\t\t}\r\n\t}\r\n};\r\n\r\njQuery.each([ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\r\n\tvar cssFn = jQuery.fn[ name ];\r\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\r\n\t\treturn speed == null || typeof speed === \"boolean\" ||\r\n\t\t\t// special check for .toggle( handler, handler, ... )\r\n\t\t\t( !i && jQuery.isFunction( speed ) && jQuery.isFunction( easing ) ) ?\r\n\t\t\tcssFn.apply( this, arguments ) :\r\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\r\n\t};\r\n});\r\n\r\njQuery.fn.extend({\r\n\tfadeTo: function( speed, to, easing, callback ) {\r\n\r\n\t\t// show any hidden elements after setting opacity to 0\r\n\t\treturn this.filter( isHidden ).css( \"opacity\", 0 ).show()\r\n\r\n\t\t\t// animate to the value specified\r\n\t\t\t.end().animate({ opacity: to }, speed, easing, callback );\r\n\t},\r\n\tanimate: function( prop, speed, easing, callback ) {\r\n\t\tvar empty = jQuery.isEmptyObject( prop ),\r\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\r\n\t\t\tdoAnimation = function() {\r\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\r\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\r\n\r\n\t\t\t\t// Empty animations resolve immediately\r\n\t\t\t\tif ( empty ) {\r\n\t\t\t\t\tanim.stop( true );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\treturn empty || optall.queue === false ?\r\n\t\t\tthis.each( doAnimation ) :\r\n\t\t\tthis.queue( optall.queue, doAnimation );\r\n\t},\r\n\tstop: function( type, clearQueue, gotoEnd ) {\r\n\t\tvar stopQueue = function( hooks ) {\r\n\t\t\tvar stop = hooks.stop;\r\n\t\t\tdelete hooks.stop;\r\n\t\t\tstop( gotoEnd );\r\n\t\t};\r\n\r\n\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\tgotoEnd = clearQueue;\r\n\t\t\tclearQueue = type;\r\n\t\t\ttype = undefined;\r\n\t\t}\r\n\t\tif ( clearQueue && type !== false ) {\r\n\t\t\tthis.queue( type || \"fx\", [] );\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar dequeue = true,\r\n\t\t\t\tindex = type != null && type + \"queueHooks\",\r\n\t\t\t\ttimers = jQuery.timers,\r\n\t\t\t\tdata = jQuery._data( this );\r\n\r\n\t\t\tif ( index ) {\r\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\r\n\t\t\t\t\tstopQueue( data[ index ] );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( index in data ) {\r\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\r\n\t\t\t\t\t\tstopQueue( data[ index ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor ( index = timers.length; index--; ) {\r\n\t\t\t\tif ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {\r\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\r\n\t\t\t\t\tdequeue = false;\r\n\t\t\t\t\ttimers.splice( index, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// start the next in the queue if the last step wasn't forced\r\n\t\t\t// timers currently will call their complete callbacks, which will dequeue\r\n\t\t\t// but only if they were gotoEnd\r\n\t\t\tif ( dequeue || !gotoEnd ) {\r\n\t\t\t\tjQuery.dequeue( this, type );\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\n// Generate parameters to create a standard animation\r\nfunction genFx( type, includeWidth ) {\r\n\tvar which,\r\n\t\tattrs = { height: type },\r\n\t\ti = 0;\r\n\r\n\t// if we include width, step value is 1 to do all cssExpand values,\r\n\t// if we don't include width, step value is 2 to skip over Left and Right\r\n\tfor( ; i < 4 ; i += 2 - includeWidth ) {\r\n\t\twhich = cssExpand[ i ];\r\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\r\n\t}\r\n\r\n\tif ( includeWidth ) {\r\n\t\tattrs.opacity = attrs.width = type;\r\n\t}\r\n\r\n\treturn attrs;\r\n}\r\n\r\n// Generate shortcuts for custom animations\r\njQuery.each({\r\n\tslideDown: genFx(\"show\"),\r\n\tslideUp: genFx(\"hide\"),\r\n\tslideToggle: genFx(\"toggle\"),\r\n\tfadeIn: { opacity: \"show\" },\r\n\tfadeOut: { opacity: \"hide\" },\r\n\tfadeToggle: { opacity: \"toggle\" }\r\n}, function( name, props ) {\r\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\r\n\t\treturn this.animate( props, speed, easing, callback );\r\n\t};\r\n});\r\n\r\njQuery.speed = function( speed, easing, fn ) {\r\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\r\n\t\tcomplete: fn || !fn && easing ||\r\n\t\t\tjQuery.isFunction( speed ) && speed,\r\n\t\tduration: speed,\r\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\r\n\t};\r\n\r\n\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\r\n\t\topt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\r\n\r\n\t// normalize opt.queue - true/undefined/null -> \"fx\"\r\n\tif ( opt.queue == null || opt.queue === true ) {\r\n\t\topt.queue = \"fx\";\r\n\t}\r\n\r\n\t// Queueing\r\n\topt.old = opt.complete;\r\n\r\n\topt.complete = function() {\r\n\t\tif ( jQuery.isFunction( opt.old ) ) {\r\n\t\t\topt.old.call( this );\r\n\t\t}\r\n\r\n\t\tif ( opt.queue ) {\r\n\t\t\tjQuery.dequeue( this, opt.queue );\r\n\t\t}\r\n\t};\r\n\r\n\treturn opt;\r\n};\r\n\r\njQuery.easing = {\r\n\tlinear: function( p ) {\r\n\t\treturn p;\r\n\t},\r\n\tswing: function( p ) {\r\n\t\treturn 0.5 - Math.cos( p*Math.PI ) / 2;\r\n\t}\r\n};\r\n\r\njQuery.timers = [];\r\njQuery.fx = Tween.prototype.init;\r\njQuery.fx.tick = function() {\r\n\tvar timer,\r\n\t\ttimers = jQuery.timers,\r\n\t\ti = 0;\r\n\r\n\tfor ( ; i < timers.length; i++ ) {\r\n\t\ttimer = timers[ i ];\r\n\t\t// Checks the timer has not already been removed\r\n\t\tif ( !timer() && timers[ i ] === timer ) {\r\n\t\t\ttimers.splice( i--, 1 );\r\n\t\t}\r\n\t}\r\n\r\n\tif ( !timers.length ) {\r\n\t\tjQuery.fx.stop();\r\n\t}\r\n};\r\n\r\njQuery.fx.timer = function( timer ) {\r\n\tif ( timer() && jQuery.timers.push( timer ) && !timerId ) {\r\n\t\ttimerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );\r\n\t}\r\n};\r\n\r\njQuery.fx.interval = 13;\r\n\r\njQuery.fx.stop = function() {\r\n\tclearInterval( timerId );\r\n\ttimerId = null;\r\n};\r\n\r\njQuery.fx.speeds = {\r\n\tslow: 600,\r\n\tfast: 200,\r\n\t// Default speed\r\n\t_default: 400\r\n};\r\n\r\n// Back Compat <1.8 extension point\r\njQuery.fx.step = {};\r\n\r\nif ( jQuery.expr && jQuery.expr.filters ) {\r\n\tjQuery.expr.filters.animated = function( elem ) {\r\n\t\treturn jQuery.grep(jQuery.timers, function( fn ) {\r\n\t\t\treturn elem === fn.elem;\r\n\t\t}).length;\r\n\t};\r\n}\r\nvar rroot = /^(?:body|html)$/i;\r\n\r\njQuery.fn.offset = function( options ) {\r\n\tif ( arguments.length ) {\r\n\t\treturn options === undefined ?\r\n\t\t\tthis :\r\n\t\t\tthis.each(function( i ) {\r\n\t\t\t\tjQuery.offset.setOffset( this, options, i );\r\n\t\t\t});\r\n\t}\r\n\r\n\tvar box, docElem, body, win, clientTop, clientLeft, scrollTop, scrollLeft, top, left,\r\n\t\telem = this[ 0 ],\r\n\t\tdoc = elem && elem.ownerDocument;\r\n\r\n\tif ( !doc ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( (body = doc.body) === elem ) {\r\n\t\treturn jQuery.offset.bodyOffset( elem );\r\n\t}\r\n\r\n\tdocElem = doc.documentElement;\r\n\r\n\t// Make sure we're not dealing with a disconnected DOM node\r\n\tif ( !jQuery.contains( docElem, elem ) ) {\r\n\t\treturn { top: 0, left: 0 };\r\n\t}\r\n\r\n\tbox = elem.getBoundingClientRect();\r\n\twin = getWindow( doc );\r\n\tclientTop  = docElem.clientTop  || body.clientTop  || 0;\r\n\tclientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\tscrollTop  = win.pageYOffset || docElem.scrollTop;\r\n\tscrollLeft = win.pageXOffset || docElem.scrollLeft;\r\n\ttop  = box.top  + scrollTop  - clientTop;\r\n\tleft = box.left + scrollLeft - clientLeft;\r\n\r\n\treturn { top: top, left: left };\r\n};\r\n\r\njQuery.offset = {\r\n\r\n\tbodyOffset: function( body ) {\r\n\t\tvar top = body.offsetTop,\r\n\t\t\tleft = body.offsetLeft;\r\n\r\n\t\tif ( jQuery.support.doesNotIncludeMarginInBodyOffset ) {\r\n\t\t\ttop  += parseFloat( jQuery.css(body, \"marginTop\") ) || 0;\r\n\t\t\tleft += parseFloat( jQuery.css(body, \"marginLeft\") ) || 0;\r\n\t\t}\r\n\r\n\t\treturn { top: top, left: left };\r\n\t},\r\n\r\n\tsetOffset: function( elem, options, i ) {\r\n\t\tvar position = jQuery.css( elem, \"position\" );\r\n\r\n\t\t// set position first, in-case top/left are set even on static elem\r\n\t\tif ( position === \"static\" ) {\r\n\t\t\telem.style.position = \"relative\";\r\n\t\t}\r\n\r\n\t\tvar curElem = jQuery( elem ),\r\n\t\t\tcurOffset = curElem.offset(),\r\n\t\t\tcurCSSTop = jQuery.css( elem, \"top\" ),\r\n\t\t\tcurCSSLeft = jQuery.css( elem, \"left\" ),\r\n\t\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) && jQuery.inArray(\"auto\", [curCSSTop, curCSSLeft]) > -1,\r\n\t\t\tprops = {}, curPosition = {}, curTop, curLeft;\r\n\r\n\t\t// need to be able to calculate position if either top or left is auto and position is either absolute or fixed\r\n\t\tif ( calculatePosition ) {\r\n\t\t\tcurPosition = curElem.position();\r\n\t\t\tcurTop = curPosition.top;\r\n\t\t\tcurLeft = curPosition.left;\r\n\t\t} else {\r\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\r\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\r\n\t\t}\r\n\r\n\t\tif ( jQuery.isFunction( options ) ) {\r\n\t\t\toptions = options.call( elem, i, curOffset );\r\n\t\t}\r\n\r\n\t\tif ( options.top != null ) {\r\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\r\n\t\t}\r\n\t\tif ( options.left != null ) {\r\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\r\n\t\t}\r\n\r\n\t\tif ( \"using\" in options ) {\r\n\t\t\toptions.using.call( elem, props );\r\n\t\t} else {\r\n\t\t\tcurElem.css( props );\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\njQuery.fn.extend({\r\n\r\n\tposition: function() {\r\n\t\tif ( !this[0] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar elem = this[0],\r\n\r\n\t\t// Get *real* offsetParent\r\n\t\toffsetParent = this.offsetParent(),\r\n\r\n\t\t// Get correct offsets\r\n\t\toffset       = this.offset(),\r\n\t\tparentOffset = rroot.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset();\r\n\r\n\t\t// Subtract element margins\r\n\t\t// note: when an element has margin: auto the offsetLeft and marginLeft\r\n\t\t// are the same in Safari causing offset.left to incorrectly be 0\r\n\t\toffset.top  -= parseFloat( jQuery.css(elem, \"marginTop\") ) || 0;\r\n\t\toffset.left -= parseFloat( jQuery.css(elem, \"marginLeft\") ) || 0;\r\n\r\n\t\t// Add offsetParent borders\r\n\t\tparentOffset.top  += parseFloat( jQuery.css(offsetParent[0], \"borderTopWidth\") ) || 0;\r\n\t\tparentOffset.left += parseFloat( jQuery.css(offsetParent[0], \"borderLeftWidth\") ) || 0;\r\n\r\n\t\t// Subtract the two offsets\r\n\t\treturn {\r\n\t\t\ttop:  offset.top  - parentOffset.top,\r\n\t\t\tleft: offset.left - parentOffset.left\r\n\t\t};\r\n\t},\r\n\r\n\toffsetParent: function() {\r\n\t\treturn this.map(function() {\r\n\t\t\tvar offsetParent = this.offsetParent || document.body;\r\n\t\t\twhile ( offsetParent && (!rroot.test(offsetParent.nodeName) && jQuery.css(offsetParent, \"position\") === \"static\") ) {\r\n\t\t\t\toffsetParent = offsetParent.offsetParent;\r\n\t\t\t}\r\n\t\t\treturn offsetParent || document.body;\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\r\n// Create scrollLeft and scrollTop methods\r\njQuery.each( {scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\"}, function( method, prop ) {\r\n\tvar top = /Y/.test( prop );\r\n\r\n\tjQuery.fn[ method ] = function( val ) {\r\n\t\treturn jQuery.access( this, function( elem, method, val ) {\r\n\t\t\tvar win = getWindow( elem );\r\n\r\n\t\t\tif ( val === undefined ) {\r\n\t\t\t\treturn win ? (prop in win) ? win[ prop ] :\r\n\t\t\t\t\twin.document.documentElement[ method ] :\r\n\t\t\t\t\telem[ method ];\r\n\t\t\t}\r\n\r\n\t\t\tif ( win ) {\r\n\t\t\t\twin.scrollTo(\r\n\t\t\t\t\t!top ? val : jQuery( win ).scrollLeft(),\r\n\t\t\t\t\t top ? val : jQuery( win ).scrollTop()\r\n\t\t\t\t);\r\n\r\n\t\t\t} else {\r\n\t\t\t\telem[ method ] = val;\r\n\t\t\t}\r\n\t\t}, method, val, arguments.length, null );\r\n\t};\r\n});\r\n\r\nfunction getWindow( elem ) {\r\n\treturn jQuery.isWindow( elem ) ?\r\n\t\telem :\r\n\t\telem.nodeType === 9 ?\r\n\t\t\telem.defaultView || elem.parentWindow :\r\n\t\t\tfalse;\r\n}\r\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\r\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\r\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name }, function( defaultExtra, funcName ) {\r\n\t\t// margin is only for outerHeight, outerWidth\r\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\r\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\r\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\r\n\r\n\t\t\treturn jQuery.access( this, function( elem, type, value ) {\r\n\t\t\t\tvar doc;\r\n\r\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\r\n\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\r\n\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\r\n\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\r\n\t\t\t\t\treturn elem.document.documentElement[ \"client\" + name ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get document width or height\r\n\t\t\t\tif ( elem.nodeType === 9 ) {\r\n\t\t\t\t\tdoc = elem.documentElement;\r\n\r\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest\r\n\t\t\t\t\t// unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.\r\n\t\t\t\t\treturn Math.max(\r\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\r\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\r\n\t\t\t\t\t\tdoc[ \"client\" + name ]\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn value === undefined ?\r\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\r\n\t\t\t\t\tjQuery.css( elem, type, value, extra ) :\r\n\r\n\t\t\t\t\t// Set width or height on the element\r\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\r\n\t\t\t}, type, chainable ? margin : undefined, chainable );\r\n\t\t};\r\n\t});\r\n});\r\n// Expose jQuery to the global object\r\nwindow.jQuery = window.$ = jQuery;\r\n\r\n// Expose jQuery as an AMD module, but only for AMD loaders that\r\n// understand the issues with loading multiple versions of jQuery\r\n// in a page that all might call define(). The loader will indicate\r\n// they have special allowances for multiple jQuery versions by\r\n// specifying define.amd.jQuery = true. Register as a named module,\r\n// since jQuery can be concatenated with other files that may use define,\r\n// but not use a proper concatenation script that understands anonymous\r\n// AMD modules. A named AMD is safest and most robust way to register.\r\n// Lowercase jquery is used because AMD module names are derived from\r\n// file names, and jQuery is normally delivered in a lowercase file name.\r\n// Do this after creating the global so that if an AMD module wants to call\r\n// noConflict to hide this version of jQuery, it will work.\r\nif ( typeof define === \"function\" && define.amd && define.amd.jQuery ) {\r\n\tdefine( \"jquery\", [], function () { return jQuery; } );\r\n}\r\n\r\n})( window );\r\n","Frame_Design/lib/bower_components/noty/js/noty/packaged/jquery.noty.packaged.min.js":"!function(a,b){\"function\"==typeof define&&define.amd?define([\"jquery\"],b):\"object\"==typeof exports?module.exports=b(require(\"jquery\")):b(a.jQuery)}(this,function(a){\"function\"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b});var b={init:function(b){return this.options=a.extend({},a.noty.defaults,b),this.options.layout=this.options.custom?a.noty.layouts.inline:a.noty.layouts[this.options.layout],a.noty.themes[this.options.theme]?this.options.theme=a.noty.themes[this.options.theme]:this.options.themeClassName=this.options.theme,this.options=a.extend({},this.options,this.options.layout.options),this.options.id=\"noty_\"+(new Date).getTime()*Math.floor(1e6*Math.random()),this._build(),this},_build:function(){var b=a('<div class=\"noty_bar noty_type_'+this.options.type+'\"></div>').attr(\"id\",this.options.id);if(b.append(this.options.template).find(\".noty_text\").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?a(this.options.layout.parent.object).css(this.options.layout.parent.css).append(b):b,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass(\"noty_container_type_\"+this.options.type),this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var c=a(\"<div/>\").addClass(\"noty_buttons\");null!==this.options.layout.parent.object?this.$bar.find(\".noty_bar\").append(c):this.$bar.append(c);var d=this;a.each(this.options.buttons,function(b,c){var e=a(\"<button/>\").addClass(c.addClass?c.addClass:\"gray\").html(c.text).attr(\"id\",c.id?c.id:\"button-\"+b).attr(\"title\",c.title).appendTo(d.$bar.find(\".noty_buttons\")).on(\"click\",function(b){a.isFunction(c.onClick)&&c.onClick.call(e,d,b)})})}this.$message=this.$bar.find(\".noty_message\"),this.$closeButton=this.$bar.find(\".noty_close\"),this.$buttons=this.$bar.find(\".noty_buttons\"),a.noty.store[this.options.id]=this},show:function(){var b=this;return b.options.custom?b.options.custom.find(b.options.layout.container.selector).append(b.$bar):a(b.options.layout.container.selector).append(b.$bar),b.options.theme&&b.options.theme.style&&b.options.theme.style.apply(b),\"function\"===a.type(b.options.layout.css)?this.options.layout.css.apply(b.$bar):b.$bar.css(this.options.layout.css||{}),b.$bar.addClass(b.options.layout.addClass),b.options.layout.container.style.apply(a(b.options.layout.container.selector),[b.options.within]),b.showing=!0,b.options.theme&&b.options.theme.style&&b.options.theme.callback.onShow.apply(this),a.inArray(\"click\",b.options.closeWith)>-1&&b.$bar.css(\"cursor\",\"pointer\").one(\"click\",function(a){b.stopPropagation(a),b.options.callback.onCloseClick&&b.options.callback.onCloseClick.apply(b),b.close()}),a.inArray(\"hover\",b.options.closeWith)>-1&&b.$bar.one(\"mouseenter\",function(){b.close()}),a.inArray(\"button\",b.options.closeWith)>-1&&b.$closeButton.one(\"click\",function(a){b.stopPropagation(a),b.close()}),-1==a.inArray(\"button\",b.options.closeWith)&&b.$closeButton.remove(),b.options.callback.onShow&&b.options.callback.onShow.apply(b),\"string\"==typeof b.options.animation.open?(b.$bar.css(\"height\",b.$bar.innerHeight()),b.$bar.on(\"click\",function(a){b.wasClicked=!0}),b.$bar.show().addClass(b.options.animation.open).one(\"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\",function(){b.options.callback.afterShow&&b.options.callback.afterShow.apply(b),b.showing=!1,b.shown=!0,b.hasOwnProperty(\"wasClicked\")&&(b.$bar.off(\"click\",function(a){b.wasClicked=!0}),b.close())})):b.$bar.animate(b.options.animation.open,b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterShow&&b.options.callback.afterShow.apply(b),b.showing=!1,b.shown=!0}),b.options.timeout&&b.$bar.delay(b.options.timeout).promise().done(function(){b.close()}),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass(\"i-am-closing-now\"))){var b=this;if(this.showing)return void b.$bar.queue(function(){b.close.apply(b)});if(!this.shown&&!this.showing){var c=[];return a.each(a.noty.queue,function(a,d){d.options.id!=b.options.id&&c.push(d)}),void(a.noty.queue=c)}b.$bar.addClass(\"i-am-closing-now\"),b.options.callback.onClose&&b.options.callback.onClose.apply(b),\"string\"==typeof b.options.animation.close?b.$bar.addClass(b.options.animation.close).one(\"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\",function(){b.options.callback.afterClose&&b.options.callback.afterClose.apply(b),b.closeCleanUp()}):b.$bar.clearQueue().stop().animate(b.options.animation.close,b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterClose&&b.options.callback.afterClose.apply(b)}).promise().done(function(){b.closeCleanUp()})}},closeCleanUp:function(){var b=this;b.options.modal&&(a.notyRenderer.setModalCount(-1),0==a.notyRenderer.getModalCount()&&a(\".noty_modal\").fadeOut(b.options.animation.fadeSpeed,function(){a(this).remove()})),a.notyRenderer.setLayoutCountFor(b,-1),0==a.notyRenderer.getLayoutCountFor(b)&&a(b.options.layout.container.selector).remove(),\"undefined\"!=typeof b.$bar&&null!==b.$bar&&(\"string\"==typeof b.options.animation.close?(b.$bar.css(\"transition\",\"all 100ms ease\").css(\"border\",0).css(\"margin\",0).height(0),b.$bar.one(\"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd\",function(){b.$bar.remove(),b.$bar=null,b.closed=!0,b.options.theme.callback&&b.options.theme.callback.onClose&&b.options.theme.callback.onClose.apply(b)})):(b.$bar.remove(),b.$bar=null,b.closed=!0)),delete a.noty.store[b.options.id],b.options.theme.callback&&b.options.theme.callback.onClose&&b.options.theme.callback.onClose.apply(b),b.options.dismissQueue||(a.noty.ontap=!0,a.notyRenderer.render()),b.options.maxVisible>0&&b.options.dismissQueue&&a.notyRenderer.render()},setText:function(a){return this.closed||(this.options.text=a,this.$bar.find(\".noty_text\").html(a)),this},setType:function(a){return this.closed||(this.options.type=a,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(a){if(!this.closed){var b=this;this.options.timeout=a,b.$bar.delay(b.options.timeout).promise().done(function(){b.close()})}return this},stopPropagation:function(a){a=a||window.event,\"undefined\"!=typeof a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},closed:!1,showing:!1,shown:!1};a.notyRenderer={},a.notyRenderer.init=function(c){var d=Object.create(b).init(c);return d.options.killer&&a.noty.closeAll(),d.options.force?a.noty.queue.unshift(d):a.noty.queue.push(d),a.notyRenderer.render(),\"object\"==a.noty.returns?d:d.options.id},a.notyRenderer.render=function(){var b=a.noty.queue[0];\"object\"===a.type(b)?b.options.dismissQueue?b.options.maxVisible>0?a(b.options.layout.container.selector+\" > li\").length<b.options.maxVisible&&a.notyRenderer.show(a.noty.queue.shift()):a.notyRenderer.show(a.noty.queue.shift()):a.noty.ontap&&(a.notyRenderer.show(a.noty.queue.shift()),a.noty.ontap=!1):a.noty.ontap=!0},a.notyRenderer.show=function(b){b.options.modal&&(a.notyRenderer.createModalFor(b),a.notyRenderer.setModalCount(1)),b.options.custom?0==b.options.custom.find(b.options.layout.container.selector).length?b.options.custom.append(a(b.options.layout.container.object).addClass(\"i-am-new\")):b.options.custom.find(b.options.layout.container.selector).removeClass(\"i-am-new\"):0==a(b.options.layout.container.selector).length?a(\"body\").append(a(b.options.layout.container.object).addClass(\"i-am-new\")):a(b.options.layout.container.selector).removeClass(\"i-am-new\"),a.notyRenderer.setLayoutCountFor(b,1),b.show()},a.notyRenderer.createModalFor=function(b){if(0==a(\".noty_modal\").length){var c=a(\"<div/>\").addClass(\"noty_modal\").addClass(b.options.theme).data(\"noty_modal_count\",0);b.options.theme.modal&&b.options.theme.modal.css&&c.css(b.options.theme.modal.css),c.prependTo(a(\"body\")).fadeIn(b.options.animation.fadeSpeed),a.inArray(\"backdrop\",b.options.closeWith)>-1&&c.on(\"click\",function(b){a.noty.closeAll()})}},a.notyRenderer.getLayoutCountFor=function(b){return a(b.options.layout.container.selector).data(\"noty_layout_count\")||0},a.notyRenderer.setLayoutCountFor=function(b,c){return a(b.options.layout.container.selector).data(\"noty_layout_count\",a.notyRenderer.getLayoutCountFor(b)+c)},a.notyRenderer.getModalCount=function(){return a(\".noty_modal\").data(\"noty_modal_count\")||0},a.notyRenderer.setModalCount=function(b){return a(\".noty_modal\").data(\"noty_modal_count\",a.notyRenderer.getModalCount()+b)},a.fn.noty=function(b){return b.custom=a(this),a.notyRenderer.init(b)},a.noty={},a.noty.queue=[],a.noty.ontap=!0,a.noty.layouts={},a.noty.themes={},a.noty.returns=\"object\",a.noty.store={},a.noty.get=function(b){return a.noty.store.hasOwnProperty(b)?a.noty.store[b]:!1},a.noty.close=function(b){return a.noty.get(b)?a.noty.get(b).close():!1},a.noty.setText=function(b,c){return a.noty.get(b)?a.noty.get(b).setText(c):!1},a.noty.setType=function(b,c){return a.noty.get(b)?a.noty.get(b).setType(c):!1},a.noty.clearQueue=function(){a.noty.queue=[]},a.noty.closeAll=function(){a.noty.clearQueue(),a.each(a.noty.store,function(a,b){b.close()})};var c=window.alert;return a.noty.consumeAlert=function(b){window.alert=function(c){b?b.text=c:b={text:c},a.notyRenderer.init(b)}},a.noty.stopConsumeAlert=function(){window.alert=c},a.noty.defaults={layout:\"top\",theme:\"defaultTheme\",type:\"alert\",text:\"\",dismissQueue:!0,template:'<div class=\"noty_message\"><span class=\"noty_text\"></span><div class=\"noty_close\"></div></div>',animation:{open:{height:\"toggle\"},close:{height:\"toggle\"},easing:\"swing\",speed:500,fadeSpeed:\"fast\"},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:[\"click\"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},a(window).on(\"resize\",function(){a.each(a.noty.layouts,function(b,c){c.container.style.apply(a(c.container.selector))})}),window.noty=function(b){return a.notyRenderer.init(b)},a.noty.layouts.bottom={name:\"bottom\",options:{},container:{object:'<ul id=\"noty_bottom_layout_container\" />',selector:\"ul#noty_bottom_layout_container\",style:function(){a(this).css({bottom:0,left:\"5%\",position:\"fixed\",width:\"90%\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:9999999})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\"},addClass:\"\"},a.noty.layouts.bottomCenter={name:\"bottomCenter\",options:{},container:{object:'<ul id=\"noty_bottomCenter_layout_container\" />',selector:\"ul#noty_bottomCenter_layout_container\",style:function(){a(this).css({bottom:20,left:0,position:\"fixed\",width:\"310px\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:1e7}),a(this).css({left:(a(window).width()-a(this).outerWidth(!1))/2+\"px\"})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\",width:\"310px\"},addClass:\"\"},a.noty.layouts.bottomLeft={name:\"bottomLeft\",options:{},container:{object:'<ul id=\"noty_bottomLeft_layout_container\" />',selector:\"ul#noty_bottomLeft_layout_container\",style:function(){a(this).css({bottom:20,left:20,position:\"fixed\",width:\"310px\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:1e7}),window.innerWidth<600&&a(this).css({left:5})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\",width:\"310px\"},addClass:\"\"},a.noty.layouts.bottomRight={name:\"bottomRight\",options:{},container:{object:'<ul id=\"noty_bottomRight_layout_container\" />',selector:\"ul#noty_bottomRight_layout_container\",style:function(){a(this).css({bottom:20,right:20,position:\"fixed\",width:\"310px\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:1e7}),window.innerWidth<600&&a(this).css({right:5})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\",width:\"310px\"},addClass:\"\"},a.noty.layouts.center={name:\"center\",options:{},container:{object:'<ul id=\"noty_center_layout_container\" />',selector:\"ul#noty_center_layout_container\",style:function(){a(this).css({position:\"fixed\",width:\"310px\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:1e7});var b=a(this).clone().css({visibility:\"hidden\",display:\"block\",position:\"absolute\",top:0,left:0}).attr(\"id\",\"dupe\");a(\"body\").append(b),b.find(\".i-am-closing-now\").remove(),b.find(\"li\").css(\"display\",\"block\");var c=b.height();b.remove(),a(this).hasClass(\"i-am-new\")?a(this).css({left:(a(window).width()-a(this).outerWidth(!1))/2+\"px\",top:(a(window).height()-c)/2+\"px\"}):a(this).animate({left:(a(window).width()-a(this).outerWidth(!1))/2+\"px\",top:(a(window).height()-c)/2+\"px\"},500)}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\",width:\"310px\"},addClass:\"\"},a.noty.layouts.centerLeft={name:\"centerLeft\",options:{},container:{object:'<ul id=\"noty_centerLeft_layout_container\" />',selector:\"ul#noty_centerLeft_layout_container\",style:function(){a(this).css({left:20,position:\"fixed\",width:\"310px\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:1e7});var b=a(this).clone().css({visibility:\"hidden\",display:\"block\",position:\"absolute\",top:0,left:0}).attr(\"id\",\"dupe\");a(\"body\").append(b),b.find(\".i-am-closing-now\").remove(),b.find(\"li\").css(\"display\",\"block\");var c=b.height();b.remove(),a(this).hasClass(\"i-am-new\")?a(this).css({top:(a(window).height()-c)/2+\"px\"}):a(this).animate({top:(a(window).height()-c)/2+\"px\"},500),window.innerWidth<600&&a(this).css({left:5})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\",width:\"310px\"},addClass:\"\"},a.noty.layouts.centerRight={name:\"centerRight\",options:{},container:{object:'<ul id=\"noty_centerRight_layout_container\" />',selector:\"ul#noty_centerRight_layout_container\",style:function(){a(this).css({right:20,position:\"fixed\",width:\"310px\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:1e7});var b=a(this).clone().css({visibility:\"hidden\",display:\"block\",position:\"absolute\",top:0,left:0}).attr(\"id\",\"dupe\");a(\"body\").append(b),b.find(\".i-am-closing-now\").remove(),b.find(\"li\").css(\"display\",\"block\");var c=b.height();b.remove(),a(this).hasClass(\"i-am-new\")?a(this).css({top:(a(window).height()-c)/2+\"px\"}):a(this).animate({top:(a(window).height()-c)/2+\"px\"},500),window.innerWidth<600&&a(this).css({right:5})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\",width:\"310px\"},addClass:\"\"},a.noty.layouts.inline={name:\"inline\",options:{},container:{object:'<ul class=\"noty_inline_layout_container\" />',selector:\"ul.noty_inline_layout_container\",style:function(){a(this).css({width:\"100%\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:9999999})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\"},addClass:\"\"},a.noty.layouts.top={name:\"top\",options:{},container:{object:'<ul id=\"noty_top_layout_container\" />',selector:\"ul#noty_top_layout_container\",style:function(){a(this).css({top:0,left:\"5%\",position:\"fixed\",width:\"90%\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:9999999})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\"},addClass:\"\"},a.noty.layouts.topCenter={name:\"topCenter\",options:{},container:{object:'<ul id=\"noty_topCenter_layout_container\" />',selector:\"ul#noty_topCenter_layout_container\",style:function(){a(this).css({top:20,left:0,position:\"fixed\",width:\"310px\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:1e7}),a(this).css({left:(a(window).width()-a(this).outerWidth(!1))/2+\"px\"})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\",width:\"310px\"},addClass:\"\"},a.noty.layouts.topLeft={name:\"topLeft\",options:{},container:{object:'<ul id=\"noty_topLeft_layout_container\" />',selector:\"ul#noty_topLeft_layout_container\",style:function(){a(this).css({top:20,left:20,position:\"fixed\",width:\"310px\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:1e7}),window.innerWidth<600&&a(this).css({left:5})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\",width:\"310px\"},addClass:\"\"},a.noty.layouts.topRight={name:\"topRight\",options:{},container:{object:'<ul id=\"noty_topRight_layout_container\" />',selector:\"ul#noty_topRight_layout_container\",style:function(){a(this).css({top:20,right:20,position:\"fixed\",width:\"310px\",height:\"auto\",margin:0,padding:0,listStyleType:\"none\",zIndex:1e7}),window.innerWidth<600&&a(this).css({right:5})}},parent:{object:\"<li />\",selector:\"li\",css:{}},css:{display:\"none\",width:\"310px\"},addClass:\"\"},a.noty.themes.bootstrapTheme={name:\"bootstrapTheme\",modal:{css:{position:\"fixed\",width:\"100%\",height:\"100%\",backgroundColor:\"#000\",zIndex:1e4,opacity:.6,display:\"none\",left:0,top:0}},style:function(){var b=this.options.layout.container.selector;switch(a(b).addClass(\"list-group\"),this.$closeButton.append('<span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span>'),this.$closeButton.addClass(\"close\"),this.$bar.addClass(\"list-group-item\").css(\"padding\",\"0px\"),this.options.type){case\"alert\":case\"notification\":this.$bar.addClass(\"list-group-item-info\");break;case\"warning\":this.$bar.addClass(\"list-group-item-warning\");break;case\"error\":this.$bar.addClass(\"list-group-item-danger\");break;case\"information\":this.$bar.addClass(\"list-group-item-info\");break;case\"success\":this.$bar.addClass(\"list-group-item-success\")}this.$message.css({fontSize:\"13px\",lineHeight:\"16px\",textAlign:\"center\",padding:\"8px 10px 9px\",width:\"auto\",position:\"relative\"})},callback:{onShow:function(){},onClose:function(){}}},a.noty.themes.defaultTheme={name:\"defaultTheme\",helpers:{borderFix:function(){if(this.options.dismissQueue){var b=this.options.layout.container.selector+\" \"+this.options.layout.parent.selector;switch(this.options.layout.name){case\"top\":a(b).css({borderRadius:\"0px 0px 0px 0px\"}),a(b).last().css({borderRadius:\"0px 0px 5px 5px\"});break;case\"topCenter\":case\"topLeft\":case\"topRight\":case\"bottomCenter\":case\"bottomLeft\":case\"bottomRight\":case\"center\":case\"centerLeft\":case\"centerRight\":case\"inline\":a(b).css({borderRadius:\"0px 0px 0px 0px\"}),a(b).first().css({\"border-top-left-radius\":\"5px\",\"border-top-right-radius\":\"5px\"}),a(b).last().css({\"border-bottom-left-radius\":\"5px\",\"border-bottom-right-radius\":\"5px\"});break;case\"bottom\":a(b).css({borderRadius:\"0px 0px 0px 0px\"}),a(b).first().css({borderRadius:\"5px 5px 0px 0px\"})}}}},modal:{css:{position:\"fixed\",width:\"100%\",height:\"100%\",backgroundColor:\"#000\",zIndex:1e4,opacity:.6,display:\"none\",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:\"hidden\",background:\"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAQAAAClM0ndAAAAhklEQVR4AdXO0QrCMBBE0bttkk38/w8WRERpdyjzVOc+HxhIHqJGMQcFFkpYRQotLLSw0IJ5aBdovruMYDA/kT8plF9ZKLFQcgF18hDj1SbQOMlCA4kao0iiXmah7qBWPdxpohsgVZyj7e5I9KcID+EhiDI5gxBYKLBQYKHAQoGFAoEks/YEGHYKB7hFxf0AAAAASUVORK5CYII=') repeat-x scroll left top #fff\"}),this.$message.css({fontSize:\"13px\",lineHeight:\"16px\",textAlign:\"center\",padding:\"8px 10px 9px\",width:\"auto\",position:\"relative\"}),this.$closeButton.css({position:\"absolute\",top:4,right:4,width:10,height:10,background:\"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)\",display:\"none\",cursor:\"pointer\"}),this.$buttons.css({padding:5,textAlign:\"right\",borderTop:\"1px solid #ccc\",backgroundColor:\"#fff\"}),this.$buttons.find(\"button\").css({marginLeft:5}),this.$buttons.find(\"button:first\").css({marginLeft:0}),this.$bar.on({mouseenter:function(){a(this).find(\".noty_close\").stop().fadeTo(\"normal\",1)},mouseleave:function(){a(this).find(\".noty_close\").stop().fadeTo(\"normal\",0)}}),this.options.layout.name){case\"top\":this.$bar.css({borderRadius:\"0px 0px 5px 5px\",borderBottom:\"2px solid #eee\",borderLeft:\"2px solid #eee\",borderRight:\"2px solid #eee\",boxShadow:\"0 2px 4px rgba(0, 0, 0, 0.1)\"});break;case\"topCenter\":case\"center\":case\"bottomCenter\":case\"inline\":this.$bar.css({borderRadius:\"5px\",border:\"1px solid #eee\",boxShadow:\"0 2px 4px rgba(0, 0, 0, 0.1)\"}),this.$message.css({fontSize:\"13px\",textAlign:\"center\"});break;case\"topLeft\":case\"topRight\":case\"bottomLeft\":case\"bottomRight\":case\"centerLeft\":case\"centerRight\":this.$bar.css({borderRadius:\"5px\",border:\"1px solid #eee\",boxShadow:\"0 2px 4px rgba(0, 0, 0, 0.1)\"}),this.$message.css({fontSize:\"13px\",textAlign:\"left\"});break;case\"bottom\":this.$bar.css({borderRadius:\"5px 5px 0px 0px\",borderTop:\"2px solid #eee\",borderLeft:\"2px solid #eee\",borderRight:\"2px solid #eee\",boxShadow:\"0 -2px 4px rgba(0, 0, 0, 0.1)\"});break;default:this.$bar.css({border:\"2px solid #eee\",boxShadow:\"0 2px 4px rgba(0, 0, 0, 0.1)\"})}switch(this.options.type){case\"alert\":case\"notification\":this.$bar.css({backgroundColor:\"#FFF\",borderColor:\"#CCC\",color:\"#444\"});break;case\"warning\":this.$bar.css({backgroundColor:\"#FFEAA8\",borderColor:\"#FFC237\",color:\"#826200\"}),this.$buttons.css({borderTop:\"1px solid #FFC237\"});break;case\"error\":this.$bar.css({backgroundColor:\"red\",borderColor:\"darkred\",color:\"#FFF\"}),this.$message.css({fontWeight:\"bold\"}),this.$buttons.css({borderTop:\"1px solid darkred\"});break;case\"information\":this.$bar.css({backgroundColor:\"#57B7E2\",borderColor:\"#0B90C4\",color:\"#FFF\"}),this.$buttons.css({borderTop:\"1px solid #0B90C4\"});break;case\"success\":this.$bar.css({backgroundColor:\"lightgreen\",borderColor:\"#50C24E\",color:\"darkgreen\"}),this.$buttons.css({borderTop:\"1px solid #50C24E\"});break;default:this.$bar.css({backgroundColor:\"#FFF\",borderColor:\"#CCC\",color:\"#444\"})}},callback:{onShow:function(){a.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){a.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}},a.noty.themes.relax={name:\"relax\",helpers:{},modal:{css:{position:\"fixed\",width:\"100%\",height:\"100%\",backgroundColor:\"#000\",zIndex:1e4,opacity:.6,display:\"none\",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:\"hidden\",margin:\"4px 0\",borderRadius:\"2px\"}),this.$message.css({fontSize:\"14px\",lineHeight:\"16px\",textAlign:\"center\",padding:\"10px\",width:\"auto\",position:\"relative\"}),this.$closeButton.css({position:\"absolute\",top:4,right:4,width:10,height:10,background:\"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)\",display:\"none\",cursor:\"pointer\"}),this.$buttons.css({padding:5,textAlign:\"right\",borderTop:\"1px solid #ccc\",backgroundColor:\"#fff\"}),this.$buttons.find(\"button\").css({marginLeft:5}),this.$buttons.find(\"button:first\").css({marginLeft:0}),this.$bar.on({mouseenter:function(){a(this).find(\".noty_close\").stop().fadeTo(\"normal\",1)},mouseleave:function(){a(this).find(\".noty_close\").stop().fadeTo(\"normal\",0)}}),this.options.layout.name){case\"top\":this.$bar.css({borderBottom:\"2px solid #eee\",borderLeft:\"2px solid #eee\",borderRight:\"2px solid #eee\",borderTop:\"2px solid #eee\",boxShadow:\"0 2px 4px rgba(0, 0, 0, 0.1)\"});break;case\"topCenter\":case\"center\":case\"bottomCenter\":case\"inline\":this.$bar.css({border:\"1px solid #eee\",boxShadow:\"0 2px 4px rgba(0, 0, 0, 0.1)\"}),this.$message.css({fontSize:\"13px\",textAlign:\"center\"});break;case\"topLeft\":case\"topRight\":case\"bottomLeft\":case\"bottomRight\":case\"centerLeft\":case\"centerRight\":this.$bar.css({border:\"1px solid #eee\",boxShadow:\"0 2px 4px rgba(0, 0, 0, 0.1)\"}),this.$message.css({fontSize:\"13px\",textAlign:\"left\"});break;case\"bottom\":this.$bar.css({borderTop:\"2px solid #eee\",borderLeft:\"2px solid #eee\",borderRight:\"2px solid #eee\",borderBottom:\"2px solid #eee\",boxShadow:\"0 -2px 4px rgba(0, 0, 0, 0.1)\"});break;default:this.$bar.css({border:\"2px solid #eee\",boxShadow:\"0 2px 4px rgba(0, 0, 0, 0.1)\"})}switch(this.options.type){case\"alert\":case\"notification\":this.$bar.css({backgroundColor:\"#FFF\",borderColor:\"#dedede\",color:\"#444\"});break;case\"warning\":this.$bar.css({backgroundColor:\"#FFEAA8\",borderColor:\"#FFC237\",color:\"#826200\"}),this.$buttons.css({borderTop:\"1px solid #FFC237\"});break;case\"error\":this.$bar.css({backgroundColor:\"#FF8181\",borderColor:\"#e25353\",color:\"#FFF\"}),this.$message.css({fontWeight:\"bold\"}),this.$buttons.css({borderTop:\"1px solid darkred\"});break;case\"information\":this.$bar.css({backgroundColor:\"#78C5E7\",borderColor:\"#3badd6\",color:\"#FFF\"}),this.$buttons.css({borderTop:\"1px solid #0B90C4\"});break;case\"success\":this.$bar.css({backgroundColor:\"#BCF5BC\",borderColor:\"#7cdd77\",color:\"darkgreen\"}),this.$buttons.css({borderTop:\"1px solid #50C24E\"});break;default:this.$bar.css({backgroundColor:\"#FFF\",borderColor:\"#CCC\",color:\"#444\"})}},callback:{onShow:function(){},onClose:function(){}}},window.noty});","Frame_Design/lib/bower_components/noty/js/noty/packaged/jquery.noty.packaged.js":"!function(root, factory) {\r\n\t if (typeof define === 'function' && define.amd) {\r\n\t\t define(['jquery'], factory);\r\n\t } else if (typeof exports === 'object') {\r\n\t\t module.exports = factory(require('jquery'));\r\n\t } else {\r\n\t\t factory(root.jQuery);\r\n\t }\r\n}(this, function($) {\r\n\r\n/*!\r\n @package noty - jQuery Notification Plugin\r\n @version version: 2.3.8\r\n @contributors https://github.com/needim/noty/graphs/contributors\r\n\r\n @documentation Examples and Documentation - http://needim.github.com/noty/\r\n\r\n @license Licensed under the MIT licenses: http://www.opensource.org/licenses/mit-license.php\r\n */\r\n\r\n    if(typeof Object.create !== 'function') {\r\n        Object.create = function(o) {\r\n            function F() {\r\n            }\r\n\r\n            F.prototype = o;\r\n            return new F();\r\n        };\r\n    }\r\n\r\n    var NotyObject = {\r\n\r\n        init: function(options) {\r\n\r\n            // Mix in the passed in options with the default options\r\n            this.options = $.extend({}, $.noty.defaults, options);\r\n\r\n            this.options.layout = (this.options.custom) ? $.noty.layouts['inline'] : $.noty.layouts[this.options.layout];\r\n\r\n            if($.noty.themes[this.options.theme])\r\n                this.options.theme = $.noty.themes[this.options.theme];\r\n            else\r\n                this.options.themeClassName = this.options.theme;\r\n\r\n            this.options = $.extend({}, this.options, this.options.layout.options);\r\n            this.options.id = 'noty_' + (new Date().getTime() * Math.floor(Math.random() * 1000000));\r\n\r\n            // Build the noty dom initial structure\r\n            this._build();\r\n\r\n            // return this so we can chain/use the bridge with less code.\r\n            return this;\r\n        }, // end init\r\n\r\n        _build: function() {\r\n\r\n            // Generating noty bar\r\n            var $bar = $('<div class=\"noty_bar noty_type_' + this.options.type + '\"></div>').attr('id', this.options.id);\r\n            $bar.append(this.options.template).find('.noty_text').html(this.options.text);\r\n\r\n            this.$bar = (this.options.layout.parent.object !== null) ? $(this.options.layout.parent.object).css(this.options.layout.parent.css).append($bar) : $bar;\r\n\r\n            if(this.options.themeClassName)\r\n                this.$bar.addClass(this.options.themeClassName).addClass('noty_container_type_' + this.options.type);\r\n\r\n            // Set buttons if available\r\n            if(this.options.buttons) {\r\n\r\n                // If we have button disable closeWith & timeout options\r\n                this.options.closeWith = [];\r\n                this.options.timeout = false;\r\n\r\n                var $buttons = $('<div/>').addClass('noty_buttons');\r\n\r\n                (this.options.layout.parent.object !== null) ? this.$bar.find('.noty_bar').append($buttons) : this.$bar.append($buttons);\r\n\r\n                var self = this;\r\n\r\n                $.each(this.options.buttons, function(i, button) {\r\n                    var $button = $('<button/>').addClass((button.addClass) ? button.addClass : 'gray').html(button.text).attr('id', button.id ? button.id : 'button-' + i)\r\n                        .attr('title', button.title)\r\n                        .appendTo(self.$bar.find('.noty_buttons'))\r\n                        .on('click', function(event) {\r\n                            if($.isFunction(button.onClick)) {\r\n                                button.onClick.call($button, self, event);\r\n                            }\r\n                        });\r\n                });\r\n            }\r\n\r\n            // For easy access\r\n            this.$message = this.$bar.find('.noty_message');\r\n            this.$closeButton = this.$bar.find('.noty_close');\r\n            this.$buttons = this.$bar.find('.noty_buttons');\r\n\r\n            $.noty.store[this.options.id] = this; // store noty for api\r\n\r\n        }, // end _build\r\n\r\n        show: function() {\r\n\r\n            var self = this;\r\n\r\n            (self.options.custom) ? self.options.custom.find(self.options.layout.container.selector).append(self.$bar) : $(self.options.layout.container.selector).append(self.$bar);\r\n\r\n            if(self.options.theme && self.options.theme.style)\r\n                self.options.theme.style.apply(self);\r\n\r\n            ($.type(self.options.layout.css) === 'function') ? this.options.layout.css.apply(self.$bar) : self.$bar.css(this.options.layout.css || {});\r\n\r\n            self.$bar.addClass(self.options.layout.addClass);\r\n\r\n            self.options.layout.container.style.apply($(self.options.layout.container.selector), [self.options.within]);\r\n\r\n            self.showing = true;\r\n\r\n            if(self.options.theme && self.options.theme.style)\r\n                self.options.theme.callback.onShow.apply(this);\r\n\r\n            if($.inArray('click', self.options.closeWith) > -1)\r\n                self.$bar.css('cursor', 'pointer').one('click', function(evt) {\r\n                    self.stopPropagation(evt);\r\n                    if(self.options.callback.onCloseClick) {\r\n                        self.options.callback.onCloseClick.apply(self);\r\n                    }\r\n                    self.close();\r\n                });\r\n\r\n            if($.inArray('hover', self.options.closeWith) > -1)\r\n                self.$bar.one('mouseenter', function() {\r\n                    self.close();\r\n                });\r\n\r\n            if($.inArray('button', self.options.closeWith) > -1)\r\n                self.$closeButton.one('click', function(evt) {\r\n                    self.stopPropagation(evt);\r\n                    self.close();\r\n                });\r\n\r\n            if($.inArray('button', self.options.closeWith) == -1)\r\n                self.$closeButton.remove();\r\n\r\n            if(self.options.callback.onShow)\r\n                self.options.callback.onShow.apply(self);\r\n\r\n            if (typeof self.options.animation.open == 'string') {\r\n                self.$bar.css('height', self.$bar.innerHeight());\r\n                self.$bar.on('click',function(e){\r\n                    self.wasClicked = true;\r\n                });\r\n                self.$bar.show().addClass(self.options.animation.open).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {\r\n                    if(self.options.callback.afterShow) self.options.callback.afterShow.apply(self);\r\n                    self.showing = false;\r\n                    self.shown = true;\r\n                    if(self.hasOwnProperty('wasClicked')){\r\n                        self.$bar.off('click',function(e){\r\n                            self.wasClicked = true;\r\n                        });\r\n                        self.close();\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                self.$bar.animate(\r\n                    self.options.animation.open,\r\n                    self.options.animation.speed,\r\n                    self.options.animation.easing,\r\n                    function() {\r\n                        if(self.options.callback.afterShow) self.options.callback.afterShow.apply(self);\r\n                        self.showing = false;\r\n                        self.shown = true;\r\n                    });\r\n            }\r\n\r\n            // If noty is have a timeout option\r\n            if(self.options.timeout)\r\n                self.$bar.delay(self.options.timeout).promise().done(function() {\r\n                    self.close();\r\n                });\r\n\r\n            return this;\r\n\r\n        }, // end show\r\n\r\n        close: function() {\r\n\r\n            if(this.closed) return;\r\n            if(this.$bar && this.$bar.hasClass('i-am-closing-now')) return;\r\n\r\n            var self = this;\r\n\r\n            if(this.showing) {\r\n                self.$bar.queue(\r\n                    function() {\r\n                        self.close.apply(self);\r\n                    }\r\n                );\r\n                return;\r\n            }\r\n\r\n            if(!this.shown && !this.showing) { // If we are still waiting in the queue just delete from queue\r\n                var queue = [];\r\n                $.each($.noty.queue, function(i, n) {\r\n                    if(n.options.id != self.options.id) {\r\n                        queue.push(n);\r\n                    }\r\n                });\r\n                $.noty.queue = queue;\r\n                return;\r\n            }\r\n\r\n            self.$bar.addClass('i-am-closing-now');\r\n\r\n            if(self.options.callback.onClose) {\r\n                self.options.callback.onClose.apply(self);\r\n            }\r\n\r\n            if (typeof self.options.animation.close == 'string') {\r\n                self.$bar.addClass(self.options.animation.close).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {\r\n                    if(self.options.callback.afterClose) self.options.callback.afterClose.apply(self);\r\n                    self.closeCleanUp();\r\n                });\r\n            } else {\r\n                self.$bar.clearQueue().stop().animate(\r\n                    self.options.animation.close,\r\n                    self.options.animation.speed,\r\n                    self.options.animation.easing,\r\n                    function() {\r\n                        if(self.options.callback.afterClose) self.options.callback.afterClose.apply(self);\r\n                    })\r\n                    .promise().done(function() {\r\n                        self.closeCleanUp();\r\n                    });\r\n            }\r\n\r\n        }, // end close\r\n\r\n        closeCleanUp: function() {\r\n\r\n            var self = this;\r\n\r\n            // Modal Cleaning\r\n            if(self.options.modal) {\r\n                $.notyRenderer.setModalCount(-1);\r\n                if($.notyRenderer.getModalCount() == 0) $('.noty_modal').fadeOut(self.options.animation.fadeSpeed, function() {\r\n                    $(this).remove();\r\n                });\r\n            }\r\n\r\n            // Layout Cleaning\r\n            $.notyRenderer.setLayoutCountFor(self, -1);\r\n            if($.notyRenderer.getLayoutCountFor(self) == 0) $(self.options.layout.container.selector).remove();\r\n\r\n            // Make sure self.$bar has not been removed before attempting to remove it\r\n            if(typeof self.$bar !== 'undefined' && self.$bar !== null) {\r\n\r\n                if (typeof self.options.animation.close == 'string') {\r\n                    self.$bar.css('transition', 'all 100ms ease').css('border', 0).css('margin', 0).height(0);\r\n                    self.$bar.one('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function() {\r\n                        self.$bar.remove();\r\n                        self.$bar = null;\r\n                        self.closed = true;\r\n\r\n                        if(self.options.theme.callback && self.options.theme.callback.onClose) {\r\n                            self.options.theme.callback.onClose.apply(self);\r\n                        }\r\n                    });\r\n                } else {\r\n                    self.$bar.remove();\r\n                    self.$bar = null;\r\n                    self.closed = true;\r\n                }\r\n            }\r\n\r\n            delete $.noty.store[self.options.id]; // deleting noty from store\r\n\r\n            if(self.options.theme.callback && self.options.theme.callback.onClose) {\r\n                self.options.theme.callback.onClose.apply(self);\r\n            }\r\n\r\n            if(!self.options.dismissQueue) {\r\n                // Queue render\r\n                $.noty.ontap = true;\r\n\r\n                $.notyRenderer.render();\r\n            }\r\n\r\n            if(self.options.maxVisible > 0 && self.options.dismissQueue) {\r\n                $.notyRenderer.render();\r\n            }\r\n\r\n        }, // end close clean up\r\n\r\n        setText: function(text) {\r\n            if(!this.closed) {\r\n                this.options.text = text;\r\n                this.$bar.find('.noty_text').html(text);\r\n            }\r\n            return this;\r\n        },\r\n\r\n        setType: function(type) {\r\n            if(!this.closed) {\r\n                this.options.type = type;\r\n                this.options.theme.style.apply(this);\r\n                this.options.theme.callback.onShow.apply(this);\r\n            }\r\n            return this;\r\n        },\r\n\r\n        setTimeout: function(time) {\r\n            if(!this.closed) {\r\n                var self = this;\r\n                this.options.timeout = time;\r\n                self.$bar.delay(self.options.timeout).promise().done(function() {\r\n                    self.close();\r\n                });\r\n            }\r\n            return this;\r\n        },\r\n\r\n        stopPropagation: function(evt) {\r\n            evt = evt || window.event;\r\n            if(typeof evt.stopPropagation !== \"undefined\") {\r\n                evt.stopPropagation();\r\n            }\r\n            else {\r\n                evt.cancelBubble = true;\r\n            }\r\n        },\r\n\r\n        closed : false,\r\n        showing: false,\r\n        shown  : false\r\n\r\n    }; // end NotyObject\r\n\r\n    $.notyRenderer = {};\r\n\r\n    $.notyRenderer.init = function(options) {\r\n\r\n        // Renderer creates a new noty\r\n        var notification = Object.create(NotyObject).init(options);\r\n\r\n        if(notification.options.killer)\r\n            $.noty.closeAll();\r\n\r\n        (notification.options.force) ? $.noty.queue.unshift(notification) : $.noty.queue.push(notification);\r\n\r\n        $.notyRenderer.render();\r\n\r\n        return ($.noty.returns == 'object') ? notification : notification.options.id;\r\n    };\r\n\r\n    $.notyRenderer.render = function() {\r\n\r\n        var instance = $.noty.queue[0];\r\n\r\n        if($.type(instance) === 'object') {\r\n            if(instance.options.dismissQueue) {\r\n                if(instance.options.maxVisible > 0) {\r\n                    if($(instance.options.layout.container.selector + ' > li').length < instance.options.maxVisible) {\r\n                        $.notyRenderer.show($.noty.queue.shift());\r\n                    }\r\n                    else {\r\n\r\n                    }\r\n                }\r\n                else {\r\n                    $.notyRenderer.show($.noty.queue.shift());\r\n                }\r\n            }\r\n            else {\r\n                if($.noty.ontap) {\r\n                    $.notyRenderer.show($.noty.queue.shift());\r\n                    $.noty.ontap = false;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            $.noty.ontap = true; // Queue is over\r\n        }\r\n\r\n    };\r\n\r\n    $.notyRenderer.show = function(notification) {\r\n\r\n        if(notification.options.modal) {\r\n            $.notyRenderer.createModalFor(notification);\r\n            $.notyRenderer.setModalCount(+1);\r\n        }\r\n\r\n        // Where is the container?\r\n        if(notification.options.custom) {\r\n            if(notification.options.custom.find(notification.options.layout.container.selector).length == 0) {\r\n                notification.options.custom.append($(notification.options.layout.container.object).addClass('i-am-new'));\r\n            }\r\n            else {\r\n                notification.options.custom.find(notification.options.layout.container.selector).removeClass('i-am-new');\r\n            }\r\n        }\r\n        else {\r\n            if($(notification.options.layout.container.selector).length == 0) {\r\n                $('body').append($(notification.options.layout.container.object).addClass('i-am-new'));\r\n            }\r\n            else {\r\n                $(notification.options.layout.container.selector).removeClass('i-am-new');\r\n            }\r\n        }\r\n\r\n        $.notyRenderer.setLayoutCountFor(notification, +1);\r\n\r\n        notification.show();\r\n    };\r\n\r\n    $.notyRenderer.createModalFor = function(notification) {\r\n        if($('.noty_modal').length == 0) {\r\n            var modal = $('<div/>').addClass('noty_modal').addClass(notification.options.theme).data('noty_modal_count', 0);\r\n\r\n            if(notification.options.theme.modal && notification.options.theme.modal.css)\r\n                modal.css(notification.options.theme.modal.css);\r\n\r\n            modal.prependTo($('body')).fadeIn(notification.options.animation.fadeSpeed);\r\n\r\n            if($.inArray('backdrop', notification.options.closeWith) > -1)\r\n                modal.on('click', function(e) {\r\n                    $.noty.closeAll();\r\n                });\r\n        }\r\n    };\r\n\r\n    $.notyRenderer.getLayoutCountFor = function(notification) {\r\n        return $(notification.options.layout.container.selector).data('noty_layout_count') || 0;\r\n    };\r\n\r\n    $.notyRenderer.setLayoutCountFor = function(notification, arg) {\r\n        return $(notification.options.layout.container.selector).data('noty_layout_count', $.notyRenderer.getLayoutCountFor(notification) + arg);\r\n    };\r\n\r\n    $.notyRenderer.getModalCount = function() {\r\n        return $('.noty_modal').data('noty_modal_count') || 0;\r\n    };\r\n\r\n    $.notyRenderer.setModalCount = function(arg) {\r\n        return $('.noty_modal').data('noty_modal_count', $.notyRenderer.getModalCount() + arg);\r\n    };\r\n\r\n    // This is for custom container\r\n    $.fn.noty = function(options) {\r\n        options.custom = $(this);\r\n        return $.notyRenderer.init(options);\r\n    };\r\n\r\n    $.noty = {};\r\n    $.noty.queue = [];\r\n    $.noty.ontap = true;\r\n    $.noty.layouts = {};\r\n    $.noty.themes = {};\r\n    $.noty.returns = 'object';\r\n    $.noty.store = {};\r\n\r\n    $.noty.get = function(id) {\r\n        return $.noty.store.hasOwnProperty(id) ? $.noty.store[id] : false;\r\n    };\r\n\r\n    $.noty.close = function(id) {\r\n        return $.noty.get(id) ? $.noty.get(id).close() : false;\r\n    };\r\n\r\n    $.noty.setText = function(id, text) {\r\n        return $.noty.get(id) ? $.noty.get(id).setText(text) : false;\r\n    };\r\n\r\n    $.noty.setType = function(id, type) {\r\n        return $.noty.get(id) ? $.noty.get(id).setType(type) : false;\r\n    };\r\n\r\n    $.noty.clearQueue = function() {\r\n        $.noty.queue = [];\r\n    };\r\n\r\n    $.noty.closeAll = function() {\r\n        $.noty.clearQueue();\r\n        $.each($.noty.store, function(id, noty) {\r\n            noty.close();\r\n        });\r\n    };\r\n\r\n    var windowAlert = window.alert;\r\n\r\n    $.noty.consumeAlert = function(options) {\r\n        window.alert = function(text) {\r\n            if(options)\r\n                options.text = text;\r\n            else\r\n                options = {text: text};\r\n\r\n            $.notyRenderer.init(options);\r\n        };\r\n    };\r\n\r\n    $.noty.stopConsumeAlert = function() {\r\n        window.alert = windowAlert;\r\n    };\r\n\r\n    $.noty.defaults = {\r\n        layout      : 'top',\r\n        theme       : 'defaultTheme',\r\n        type        : 'alert',\r\n        text        : '',\r\n        dismissQueue: true,\r\n        template    : '<div class=\"noty_message\"><span class=\"noty_text\"></span><div class=\"noty_close\"></div></div>',\r\n        animation   : {\r\n            open  : {height: 'toggle'},\r\n            close : {height: 'toggle'},\r\n            easing: 'swing',\r\n            speed : 500,\r\n            fadeSpeed: 'fast',\r\n        },\r\n        timeout     : false,\r\n        force       : false,\r\n        modal       : false,\r\n        maxVisible  : 5,\r\n        killer      : false,\r\n        closeWith   : ['click'],\r\n        callback    : {\r\n            onShow      : function() {\r\n            },\r\n            afterShow   : function() {\r\n            },\r\n            onClose     : function() {\r\n            },\r\n            afterClose  : function() {\r\n            },\r\n            onCloseClick: function() {\r\n            }\r\n        },\r\n        buttons     : false\r\n    };\r\n\r\n    $(window).on('resize', function() {\r\n        $.each($.noty.layouts, function(index, layout) {\r\n            layout.container.style.apply($(layout.container.selector));\r\n        });\r\n    });\r\n\r\n    // Helpers\r\n    window.noty = function noty(options) {\r\n        return $.notyRenderer.init(options);\r\n    };\r\n\r\n$.noty.layouts.bottom = {\r\n    name     : 'bottom',\r\n    options  : {},\r\n    container: {\r\n        object  : '<ul id=\"noty_bottom_layout_container\" />',\r\n        selector: 'ul#noty_bottom_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                bottom       : 0,\r\n                left         : '5%',\r\n                position     : 'fixed',\r\n                width        : '90%',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 9999999\r\n            });\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none'\r\n    },\r\n    addClass : ''\r\n};\r\n\r\n$.noty.layouts.bottomCenter = {\r\n    name     : 'bottomCenter',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_bottomCenter_layout_container\" />',\r\n        selector: 'ul#noty_bottomCenter_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                bottom       : 20,\r\n                left         : 0,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            $(this).css({\r\n                left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px'\r\n            });\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n\r\n\r\n$.noty.layouts.bottomLeft = {\r\n    name     : 'bottomLeft',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_bottomLeft_layout_container\" />',\r\n        selector: 'ul#noty_bottomLeft_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                bottom       : 20,\r\n                left         : 20,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            if(window.innerWidth < 600) {\r\n                $(this).css({\r\n                    left: 5\r\n                });\r\n            }\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n$.noty.layouts.bottomRight = {\r\n    name     : 'bottomRight',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_bottomRight_layout_container\" />',\r\n        selector: 'ul#noty_bottomRight_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                bottom       : 20,\r\n                right        : 20,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            if(window.innerWidth < 600) {\r\n                $(this).css({\r\n                    right: 5\r\n                });\r\n            }\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n$.noty.layouts.center = {\r\n    name     : 'center',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_center_layout_container\" />',\r\n        selector: 'ul#noty_center_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            // getting hidden height\r\n            var dupe = $(this).clone().css({visibility: \"hidden\", display: \"block\", position: \"absolute\", top: 0, left: 0}).attr('id', 'dupe');\r\n            $(\"body\").append(dupe);\r\n            dupe.find('.i-am-closing-now').remove();\r\n            dupe.find('li').css('display', 'block');\r\n            var actual_height = dupe.height();\r\n            dupe.remove();\r\n\r\n            if($(this).hasClass('i-am-new')) {\r\n                $(this).css({\r\n                    left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px',\r\n                    top : ($(window).height() - actual_height) / 2 + 'px'\r\n                });\r\n            }\r\n            else {\r\n                $(this).animate({\r\n                    left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px',\r\n                    top : ($(window).height() - actual_height) / 2 + 'px'\r\n                }, 500);\r\n            }\r\n\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n$.noty.layouts.centerLeft = {\r\n    name     : 'centerLeft',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_centerLeft_layout_container\" />',\r\n        selector: 'ul#noty_centerLeft_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                left         : 20,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            // getting hidden height\r\n            var dupe = $(this).clone().css({visibility: \"hidden\", display: \"block\", position: \"absolute\", top: 0, left: 0}).attr('id', 'dupe');\r\n            $(\"body\").append(dupe);\r\n            dupe.find('.i-am-closing-now').remove();\r\n            dupe.find('li').css('display', 'block');\r\n            var actual_height = dupe.height();\r\n            dupe.remove();\r\n\r\n            if($(this).hasClass('i-am-new')) {\r\n                $(this).css({\r\n                    top: ($(window).height() - actual_height) / 2 + 'px'\r\n                });\r\n            }\r\n            else {\r\n                $(this).animate({\r\n                    top: ($(window).height() - actual_height) / 2 + 'px'\r\n                }, 500);\r\n            }\r\n\r\n            if(window.innerWidth < 600) {\r\n                $(this).css({\r\n                    left: 5\r\n                });\r\n            }\r\n\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n\r\n$.noty.layouts.centerRight = {\r\n    name     : 'centerRight',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_centerRight_layout_container\" />',\r\n        selector: 'ul#noty_centerRight_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                right        : 20,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            // getting hidden height\r\n            var dupe = $(this).clone().css({visibility: \"hidden\", display: \"block\", position: \"absolute\", top: 0, left: 0}).attr('id', 'dupe');\r\n            $(\"body\").append(dupe);\r\n            dupe.find('.i-am-closing-now').remove();\r\n            dupe.find('li').css('display', 'block');\r\n            var actual_height = dupe.height();\r\n            dupe.remove();\r\n\r\n            if($(this).hasClass('i-am-new')) {\r\n                $(this).css({\r\n                    top: ($(window).height() - actual_height) / 2 + 'px'\r\n                });\r\n            }\r\n            else {\r\n                $(this).animate({\r\n                    top: ($(window).height() - actual_height) / 2 + 'px'\r\n                }, 500);\r\n            }\r\n\r\n            if(window.innerWidth < 600) {\r\n                $(this).css({\r\n                    right: 5\r\n                });\r\n            }\r\n\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n$.noty.layouts.inline = {\r\n    name     : 'inline',\r\n    options  : {},\r\n    container: {\r\n        object  : '<ul class=\"noty_inline_layout_container\" />',\r\n        selector: 'ul.noty_inline_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                width        : '100%',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 9999999\r\n            });\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none'\r\n    },\r\n    addClass : ''\r\n};\r\n$.noty.layouts.top = {\r\n    name     : 'top',\r\n    options  : {},\r\n    container: {\r\n        object  : '<ul id=\"noty_top_layout_container\" />',\r\n        selector: 'ul#noty_top_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                top          : 0,\r\n                left         : '5%',\r\n                position     : 'fixed',\r\n                width        : '90%',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 9999999\r\n            });\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none'\r\n    },\r\n    addClass : ''\r\n};\r\n$.noty.layouts.topCenter = {\r\n    name     : 'topCenter',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_topCenter_layout_container\" />',\r\n        selector: 'ul#noty_topCenter_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                top          : 20,\r\n                left         : 0,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            $(this).css({\r\n                left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px'\r\n            });\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n\r\n$.noty.layouts.topLeft = {\r\n    name     : 'topLeft',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_topLeft_layout_container\" />',\r\n        selector: 'ul#noty_topLeft_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                top          : 20,\r\n                left         : 20,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            if(window.innerWidth < 600) {\r\n                $(this).css({\r\n                    left: 5\r\n                });\r\n            }\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n$.noty.layouts.topRight = {\r\n    name     : 'topRight',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_topRight_layout_container\" />',\r\n        selector: 'ul#noty_topRight_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                top          : 20,\r\n                right        : 20,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            if(window.innerWidth < 600) {\r\n                $(this).css({\r\n                    right: 5\r\n                });\r\n            }\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n$.noty.themes.bootstrapTheme = {\r\n    name: 'bootstrapTheme',\r\n    modal: {\r\n        css: {\r\n            position: 'fixed',\r\n            width: '100%',\r\n            height: '100%',\r\n            backgroundColor: '#000',\r\n            zIndex: 10000,\r\n            opacity: 0.6,\r\n            display: 'none',\r\n            left: 0,\r\n            top: 0\r\n        }\r\n    },\r\n    style: function() {\r\n\r\n        var containerSelector = this.options.layout.container.selector;\r\n        $(containerSelector).addClass('list-group');\r\n\r\n        this.$closeButton.append('<span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span>');\r\n        this.$closeButton.addClass('close');\r\n\r\n        this.$bar.addClass( \"list-group-item\" ).css('padding', '0px');\r\n\r\n        switch (this.options.type) {\r\n            case 'alert': case 'notification':\r\n                this.$bar.addClass( \"list-group-item-info\" );\r\n                break;\r\n            case 'warning':\r\n                this.$bar.addClass( \"list-group-item-warning\" );\r\n                break;\r\n            case 'error':\r\n                this.$bar.addClass( \"list-group-item-danger\" );\r\n                break;\r\n            case 'information':\r\n                this.$bar.addClass(\"list-group-item-info\");\r\n                break;\r\n            case 'success':\r\n                this.$bar.addClass( \"list-group-item-success\" );\r\n                break;\r\n        }\r\n\r\n        this.$message.css({\r\n            fontSize: '13px',\r\n            lineHeight: '16px',\r\n            textAlign: 'center',\r\n            padding: '8px 10px 9px',\r\n            width: 'auto',\r\n            position: 'relative'\r\n        });\r\n    },\r\n    callback: {\r\n        onShow: function() {  },\r\n        onClose: function() {  }\r\n    }\r\n};\r\n\r\n\r\n$.noty.themes.defaultTheme = {\r\n    name    : 'defaultTheme',\r\n    helpers : {\r\n        borderFix: function() {\r\n            if(this.options.dismissQueue) {\r\n                var selector = this.options.layout.container.selector + ' ' + this.options.layout.parent.selector;\r\n                switch(this.options.layout.name) {\r\n                    case 'top':\r\n                        $(selector).css({borderRadius: '0px 0px 0px 0px'});\r\n                        $(selector).last().css({borderRadius: '0px 0px 5px 5px'});\r\n                        break;\r\n                    case 'topCenter':\r\n                    case 'topLeft':\r\n                    case 'topRight':\r\n                    case 'bottomCenter':\r\n                    case 'bottomLeft':\r\n                    case 'bottomRight':\r\n                    case 'center':\r\n                    case 'centerLeft':\r\n                    case 'centerRight':\r\n                    case 'inline':\r\n                        $(selector).css({borderRadius: '0px 0px 0px 0px'});\r\n                        $(selector).first().css({'border-top-left-radius': '5px', 'border-top-right-radius': '5px'});\r\n                        $(selector).last().css({'border-bottom-left-radius': '5px', 'border-bottom-right-radius': '5px'});\r\n                        break;\r\n                    case 'bottom':\r\n                        $(selector).css({borderRadius: '0px 0px 0px 0px'});\r\n                        $(selector).first().css({borderRadius: '5px 5px 0px 0px'});\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    modal   : {\r\n        css: {\r\n            position       : 'fixed',\r\n            width          : '100%',\r\n            height         : '100%',\r\n            backgroundColor: '#000',\r\n            zIndex         : 10000,\r\n            opacity        : 0.6,\r\n            display        : 'none',\r\n            left           : 0,\r\n            top            : 0\r\n        }\r\n    },\r\n    style   : function() {\r\n\r\n        this.$bar.css({\r\n            overflow  : 'hidden',\r\n            background: \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAQAAAClM0ndAAAAhklEQVR4AdXO0QrCMBBE0bttkk38/w8WRERpdyjzVOc+HxhIHqJGMQcFFkpYRQotLLSw0IJ5aBdovruMYDA/kT8plF9ZKLFQcgF18hDj1SbQOMlCA4kao0iiXmah7qBWPdxpohsgVZyj7e5I9KcID+EhiDI5gxBYKLBQYKHAQoGFAoEks/YEGHYKB7hFxf0AAAAASUVORK5CYII=') repeat-x scroll left top #fff\"\r\n        });\r\n\r\n        this.$message.css({\r\n            fontSize  : '13px',\r\n            lineHeight: '16px',\r\n            textAlign : 'center',\r\n            padding   : '8px 10px 9px',\r\n            width     : 'auto',\r\n            position  : 'relative'\r\n        });\r\n\r\n        this.$closeButton.css({\r\n            position  : 'absolute',\r\n            top       : 4, right: 4,\r\n            width     : 10, height: 10,\r\n            background: \"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)\",\r\n            display   : 'none',\r\n            cursor    : 'pointer'\r\n        });\r\n\r\n        this.$buttons.css({\r\n            padding        : 5,\r\n            textAlign      : 'right',\r\n            borderTop      : '1px solid #ccc',\r\n            backgroundColor: '#fff'\r\n        });\r\n\r\n        this.$buttons.find('button').css({\r\n            marginLeft: 5\r\n        });\r\n\r\n        this.$buttons.find('button:first').css({\r\n            marginLeft: 0\r\n        });\r\n\r\n        this.$bar.on({\r\n            mouseenter: function() {\r\n                $(this).find('.noty_close').stop().fadeTo('normal', 1);\r\n            },\r\n            mouseleave: function() {\r\n                $(this).find('.noty_close').stop().fadeTo('normal', 0);\r\n            }\r\n        });\r\n\r\n        switch(this.options.layout.name) {\r\n            case 'top':\r\n                this.$bar.css({\r\n                    borderRadius: '0px 0px 5px 5px',\r\n                    borderBottom: '2px solid #eee',\r\n                    borderLeft  : '2px solid #eee',\r\n                    borderRight : '2px solid #eee',\r\n                    boxShadow   : \"0 2px 4px rgba(0, 0, 0, 0.1)\"\r\n                });\r\n                break;\r\n            case 'topCenter':\r\n            case 'center':\r\n            case 'bottomCenter':\r\n            case 'inline':\r\n                this.$bar.css({\r\n                    borderRadius: '5px',\r\n                    border      : '1px solid #eee',\r\n                    boxShadow   : \"0 2px 4px rgba(0, 0, 0, 0.1)\"\r\n                });\r\n                this.$message.css({fontSize: '13px', textAlign: 'center'});\r\n                break;\r\n            case 'topLeft':\r\n            case 'topRight':\r\n            case 'bottomLeft':\r\n            case 'bottomRight':\r\n            case 'centerLeft':\r\n            case 'centerRight':\r\n                this.$bar.css({\r\n                    borderRadius: '5px',\r\n                    border      : '1px solid #eee',\r\n                    boxShadow   : \"0 2px 4px rgba(0, 0, 0, 0.1)\"\r\n                });\r\n                this.$message.css({fontSize: '13px', textAlign: 'left'});\r\n                break;\r\n            case 'bottom':\r\n                this.$bar.css({\r\n                    borderRadius: '5px 5px 0px 0px',\r\n                    borderTop   : '2px solid #eee',\r\n                    borderLeft  : '2px solid #eee',\r\n                    borderRight : '2px solid #eee',\r\n                    boxShadow   : \"0 -2px 4px rgba(0, 0, 0, 0.1)\"\r\n                });\r\n                break;\r\n            default:\r\n                this.$bar.css({\r\n                    border   : '2px solid #eee',\r\n                    boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\"\r\n                });\r\n                break;\r\n        }\r\n\r\n        switch(this.options.type) {\r\n            case 'alert':\r\n            case 'notification':\r\n                this.$bar.css({backgroundColor: '#FFF', borderColor: '#CCC', color: '#444'});\r\n                break;\r\n            case 'warning':\r\n                this.$bar.css({backgroundColor: '#FFEAA8', borderColor: '#FFC237', color: '#826200'});\r\n                this.$buttons.css({borderTop: '1px solid #FFC237'});\r\n                break;\r\n            case 'error':\r\n                this.$bar.css({backgroundColor: 'red', borderColor: 'darkred', color: '#FFF'});\r\n                this.$message.css({fontWeight: 'bold'});\r\n                this.$buttons.css({borderTop: '1px solid darkred'});\r\n                break;\r\n            case 'information':\r\n                this.$bar.css({backgroundColor: '#57B7E2', borderColor: '#0B90C4', color: '#FFF'});\r\n                this.$buttons.css({borderTop: '1px solid #0B90C4'});\r\n                break;\r\n            case 'success':\r\n                this.$bar.css({backgroundColor: 'lightgreen', borderColor: '#50C24E', color: 'darkgreen'});\r\n                this.$buttons.css({borderTop: '1px solid #50C24E'});\r\n                break;\r\n            default:\r\n                this.$bar.css({backgroundColor: '#FFF', borderColor: '#CCC', color: '#444'});\r\n                break;\r\n        }\r\n    },\r\n    callback: {\r\n        onShow : function() {\r\n            $.noty.themes.defaultTheme.helpers.borderFix.apply(this);\r\n        },\r\n        onClose: function() {\r\n            $.noty.themes.defaultTheme.helpers.borderFix.apply(this);\r\n        }\r\n    }\r\n};\r\n\r\n$.noty.themes.relax = {\r\n    name    : 'relax',\r\n    helpers : {},\r\n    modal   : {\r\n        css: {\r\n            position       : 'fixed',\r\n            width          : '100%',\r\n            height         : '100%',\r\n            backgroundColor: '#000',\r\n            zIndex         : 10000,\r\n            opacity        : 0.6,\r\n            display        : 'none',\r\n            left           : 0,\r\n            top            : 0\r\n        }\r\n    },\r\n    style   : function() {\r\n\r\n        this.$bar.css({\r\n            overflow    : 'hidden',\r\n            margin      : '4px 0',\r\n            borderRadius: '2px'\r\n        });\r\n\r\n        this.$message.css({\r\n            fontSize  : '14px',\r\n            lineHeight: '16px',\r\n            textAlign : 'center',\r\n            padding   : '10px',\r\n            width     : 'auto',\r\n            position  : 'relative'\r\n        });\r\n\r\n        this.$closeButton.css({\r\n            position  : 'absolute',\r\n            top       : 4, right: 4,\r\n            width     : 10, height: 10,\r\n            background: \"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)\",\r\n            display   : 'none',\r\n            cursor    : 'pointer'\r\n        });\r\n\r\n        this.$buttons.css({\r\n            padding        : 5,\r\n            textAlign      : 'right',\r\n            borderTop      : '1px solid #ccc',\r\n            backgroundColor: '#fff'\r\n        });\r\n\r\n        this.$buttons.find('button').css({\r\n            marginLeft: 5\r\n        });\r\n\r\n        this.$buttons.find('button:first').css({\r\n            marginLeft: 0\r\n        });\r\n\r\n        this.$bar.on({\r\n            mouseenter: function() {\r\n                $(this).find('.noty_close').stop().fadeTo('normal', 1);\r\n            },\r\n            mouseleave: function() {\r\n                $(this).find('.noty_close').stop().fadeTo('normal', 0);\r\n            }\r\n        });\r\n\r\n        switch(this.options.layout.name) {\r\n            case 'top':\r\n                this.$bar.css({\r\n                    borderBottom: '2px solid #eee',\r\n                    borderLeft  : '2px solid #eee',\r\n                    borderRight : '2px solid #eee',\r\n                    borderTop   : '2px solid #eee',\r\n                    boxShadow   : \"0 2px 4px rgba(0, 0, 0, 0.1)\"\r\n                });\r\n                break;\r\n            case 'topCenter':\r\n            case 'center':\r\n            case 'bottomCenter':\r\n            case 'inline':\r\n                this.$bar.css({\r\n                    border   : '1px solid #eee',\r\n                    boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\"\r\n                });\r\n                this.$message.css({fontSize: '13px', textAlign: 'center'});\r\n                break;\r\n            case 'topLeft':\r\n            case 'topRight':\r\n            case 'bottomLeft':\r\n            case 'bottomRight':\r\n            case 'centerLeft':\r\n            case 'centerRight':\r\n                this.$bar.css({\r\n                    border   : '1px solid #eee',\r\n                    boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\"\r\n                });\r\n                this.$message.css({fontSize: '13px', textAlign: 'left'});\r\n                break;\r\n            case 'bottom':\r\n                this.$bar.css({\r\n                    borderTop   : '2px solid #eee',\r\n                    borderLeft  : '2px solid #eee',\r\n                    borderRight : '2px solid #eee',\r\n                    borderBottom: '2px solid #eee',\r\n                    boxShadow   : \"0 -2px 4px rgba(0, 0, 0, 0.1)\"\r\n                });\r\n                break;\r\n            default:\r\n                this.$bar.css({\r\n                    border   : '2px solid #eee',\r\n                    boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\"\r\n                });\r\n                break;\r\n        }\r\n\r\n        switch(this.options.type) {\r\n            case 'alert':\r\n            case 'notification':\r\n                this.$bar.css({backgroundColor: '#FFF', borderColor: '#dedede', color: '#444'});\r\n                break;\r\n            case 'warning':\r\n                this.$bar.css({backgroundColor: '#FFEAA8', borderColor: '#FFC237', color: '#826200'});\r\n                this.$buttons.css({borderTop: '1px solid #FFC237'});\r\n                break;\r\n            case 'error':\r\n                this.$bar.css({backgroundColor: '#FF8181', borderColor: '#e25353', color: '#FFF'});\r\n                this.$message.css({fontWeight: 'bold'});\r\n                this.$buttons.css({borderTop: '1px solid darkred'});\r\n                break;\r\n            case 'information':\r\n                this.$bar.css({backgroundColor: '#78C5E7', borderColor: '#3badd6', color: '#FFF'});\r\n                this.$buttons.css({borderTop: '1px solid #0B90C4'});\r\n                break;\r\n            case 'success':\r\n                this.$bar.css({backgroundColor: '#BCF5BC', borderColor: '#7cdd77', color: 'darkgreen'});\r\n                this.$buttons.css({borderTop: '1px solid #50C24E'});\r\n                break;\r\n            default:\r\n                this.$bar.css({backgroundColor: '#FFF', borderColor: '#CCC', color: '#444'});\r\n                break;\r\n        }\r\n    },\r\n    callback: {\r\n        onShow : function() {\r\n\r\n        },\r\n        onClose: function() {\r\n\r\n        }\r\n    }\r\n};\r\n\r\n\r\nreturn window.noty;\r\n\r\n});","Frame_Design/lib/bower_components/noty/js/noty/layouts/bottomLeft.js":"$.noty.layouts.bottomLeft = {\r\n    name     : 'bottomLeft',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_bottomLeft_layout_container\" />',\r\n        selector: 'ul#noty_bottomLeft_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                bottom       : 20,\r\n                left         : 20,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            if(window.innerWidth < 600) {\r\n                $(this).css({\r\n                    left: 5\r\n                });\r\n            }\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};","Frame_Design/lib/bower_components/noty/js/noty/layouts/bottomRight.js":"$.noty.layouts.bottomRight = {\r\n    name     : 'bottomRight',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_bottomRight_layout_container\" />',\r\n        selector: 'ul#noty_bottomRight_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                bottom       : 20,\r\n                right        : 20,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            if(window.innerWidth < 600) {\r\n                $(this).css({\r\n                    right: 5\r\n                });\r\n            }\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};","Frame_Design/lib/bower_components/noty/js/noty/layouts/topCenter.js":"$.noty.layouts.topCenter = {\r\n    name     : 'topCenter',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_topCenter_layout_container\" />',\r\n        selector: 'ul#noty_topCenter_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                top          : 20,\r\n                left         : 0,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            $(this).css({\r\n                left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px'\r\n            });\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n","Frame_Design/lib/bower_components/noty/js/noty/layouts/bottomCenter.js":"$.noty.layouts.bottomCenter = {\r\n    name     : 'bottomCenter',\r\n    options  : { // overrides options\r\n\r\n    },\r\n    container: {\r\n        object  : '<ul id=\"noty_bottomCenter_layout_container\" />',\r\n        selector: 'ul#noty_bottomCenter_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                bottom       : 20,\r\n                left         : 0,\r\n                position     : 'fixed',\r\n                width        : '310px',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 10000000\r\n            });\r\n\r\n            $(this).css({\r\n                left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px'\r\n            });\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none',\r\n        width  : '310px'\r\n    },\r\n    addClass : ''\r\n};\r\n\r\n","Frame_Design/lib/bower_components/noty/js/noty/layouts/inline.js":"$.noty.layouts.inline = {\r\n    name     : 'inline',\r\n    options  : {},\r\n    container: {\r\n        object  : '<ul class=\"noty_inline_layout_container\" />',\r\n        selector: 'ul.noty_inline_layout_container',\r\n        style   : function() {\r\n            $(this).css({\r\n                width        : '100%',\r\n                height       : 'auto',\r\n                margin       : 0,\r\n                padding      : 0,\r\n                listStyleType: 'none',\r\n                zIndex       : 9999999\r\n            });\r\n        }\r\n    },\r\n    parent   : {\r\n        object  : '<li />',\r\n        selector: 'li',\r\n        css     : {}\r\n    },\r\n    css      : {\r\n        display: 'none'\r\n    },\r\n    addClass : ''\r\n};","Frame_Design/lib/bower_components/bootbox.js/bootbox.js":"/**\n * bootbox.js [v4.4.0]\n *\n * http://bootboxjs.com/license.txt\n */\n\n// @see https://github.com/makeusabrew/bootbox/issues/180\n// @see https://github.com/makeusabrew/bootbox/issues/186\n(function (root, factory) {\n\n  \"use strict\";\n  if (typeof define === \"function\" && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([\"jquery\"], factory);\n  } else if (typeof exports === \"object\") {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else {\n    // Browser globals (root is window)\n    root.bootbox = factory(root.jQuery);\n  }\n\n}(this, function init($, undefined) {\n\n  \"use strict\";\n\n  // the base DOM structure needed to create a modal\n  var templates = {\n    dialog:\n      \"<div class='bootbox modal' tabindex='-1' role='dialog'>\" +\n        \"<div class='modal-dialog'>\" +\n          \"<div class='modal-content'>\" +\n            \"<div class='modal-body'><div class='bootbox-body'></div></div>\" +\n          \"</div>\" +\n        \"</div>\" +\n      \"</div>\",\n    header:\n      \"<div class='modal-header'>\" +\n        \"<h4 class='modal-title'></h4>\" +\n      \"</div>\",\n    footer:\n      \"<div class='modal-footer'></div>\",\n    closeButton:\n      \"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>\",\n    form:\n      \"<form class='bootbox-form'></form>\",\n    inputs: {\n      text:\n        \"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />\",\n      textarea:\n        \"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>\",\n      email:\n        \"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />\",\n      select:\n        \"<select class='bootbox-input bootbox-input-select form-control'></select>\",\n      checkbox:\n        \"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>\",\n      date:\n        \"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />\",\n      time:\n        \"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />\",\n      number:\n        \"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />\",\n      password:\n        \"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />\"\n    }\n  };\n\n  var defaults = {\n    // default language\n    locale: \"en\",\n    // show backdrop or not. Default to static so user has to interact with dialog\n    backdrop: \"static\",\n    // animate the modal in/out\n    animate: true,\n    // additional class string applied to the top level dialog\n    className: null,\n    // whether or not to include a close button\n    closeButton: true,\n    // show the dialog immediately by default\n    show: true,\n    // dialog container\n    container: \"body\"\n  };\n\n  // our public object; augmented after our private API\n  var exports = {};\n\n  /**\n   * @private\n   */\n  function _t(key) {\n    var locale = locales[defaults.locale];\n    return locale ? locale[key] : locales.en[key];\n  }\n\n  function processCallback(e, dialog, callback) {\n    e.stopPropagation();\n    e.preventDefault();\n\n    // by default we assume a callback will get rid of the dialog,\n    // although it is given the opportunity to override this\n\n    // so, if the callback can be invoked and it *explicitly returns false*\n    // then we'll set a flag to keep the dialog active...\n    var preserveDialog = $.isFunction(callback) && callback.call(dialog, e) === false;\n\n    // ... otherwise we'll bin it\n    if (!preserveDialog) {\n      dialog.modal(\"hide\");\n    }\n  }\n\n  function getKeyLength(obj) {\n    // @TODO defer to Object.keys(x).length if available?\n    var k, t = 0;\n    for (k in obj) {\n      t ++;\n    }\n    return t;\n  }\n\n  function each(collection, iterator) {\n    var index = 0;\n    $.each(collection, function(key, value) {\n      iterator(key, value, index++);\n    });\n  }\n\n  function sanitize(options) {\n    var buttons;\n    var total;\n\n    if (typeof options !== \"object\") {\n      throw new Error(\"Please supply an object of options\");\n    }\n\n    if (!options.message) {\n      throw new Error(\"Please specify a message\");\n    }\n\n    // make sure any supplied options take precedence over defaults\n    options = $.extend({}, defaults, options);\n\n    if (!options.buttons) {\n      options.buttons = {};\n    }\n\n    buttons = options.buttons;\n\n    total = getKeyLength(buttons);\n\n    each(buttons, function(key, button, index) {\n\n      if ($.isFunction(button)) {\n        // short form, assume value is our callback. Since button\n        // isn't an object it isn't a reference either so re-assign it\n        button = buttons[key] = {\n          callback: button\n        };\n      }\n\n      // before any further checks make sure by now button is the correct type\n      if ($.type(button) !== \"object\") {\n        throw new Error(\"button with key \" + key + \" must be an object\");\n      }\n\n      if (!button.label) {\n        // the lack of an explicit label means we'll assume the key is good enough\n        button.label = key;\n      }\n\n      if (!button.className) {\n        if (total <= 2 && index === total-1) {\n          // always add a primary to the main option in a two-button dialog\n          button.className = \"btn-primary\";\n        } else {\n          button.className = \"btn-default\";\n        }\n      }\n    });\n\n    return options;\n  }\n\n  /**\n   * map a flexible set of arguments into a single returned object\n   * if args.length is already one just return it, otherwise\n   * use the properties argument to map the unnamed args to\n   * object properties\n   * so in the latter case:\n   * mapArguments([\"foo\", $.noop], [\"message\", \"callback\"])\n   * -> { message: \"foo\", callback: $.noop }\n   */\n  function mapArguments(args, properties) {\n    var argn = args.length;\n    var options = {};\n\n    if (argn < 1 || argn > 2) {\n      throw new Error(\"Invalid argument length\");\n    }\n\n    if (argn === 2 || typeof args[0] === \"string\") {\n      options[properties[0]] = args[0];\n      options[properties[1]] = args[1];\n    } else {\n      options = args[0];\n    }\n\n    return options;\n  }\n\n  /**\n   * merge a set of default dialog options with user supplied arguments\n   */\n  function mergeArguments(defaults, args, properties) {\n    return $.extend(\n      // deep merge\n      true,\n      // ensure the target is an empty, unreferenced object\n      {},\n      // the base options object for this type of dialog (often just buttons)\n      defaults,\n      // args could be an object or array; if it's an array properties will\n      // map it to a proper options object\n      mapArguments(\n        args,\n        properties\n      )\n    );\n  }\n\n  /**\n   * this entry-level method makes heavy use of composition to take a simple\n   * range of inputs and return valid options suitable for passing to bootbox.dialog\n   */\n  function mergeDialogOptions(className, labels, properties, args) {\n    //  build up a base set of dialog properties\n    var baseOptions = {\n      className: \"bootbox-\" + className,\n      buttons: createLabels.apply(null, labels)\n    };\n\n    // ensure the buttons properties generated, *after* merging\n    // with user args are still valid against the supplied labels\n    return validateButtons(\n      // merge the generated base properties with user supplied arguments\n      mergeArguments(\n        baseOptions,\n        args,\n        // if args.length > 1, properties specify how each arg maps to an object key\n        properties\n      ),\n      labels\n    );\n  }\n\n  /**\n   * from a given list of arguments return a suitable object of button labels\n   * all this does is normalise the given labels and translate them where possible\n   * e.g. \"ok\", \"confirm\" -> { ok: \"OK, cancel: \"Annuleren\" }\n   */\n  function createLabels() {\n    var buttons = {};\n\n    for (var i = 0, j = arguments.length; i < j; i++) {\n      var argument = arguments[i];\n      var key = argument.toLowerCase();\n      var value = argument.toUpperCase();\n\n      buttons[key] = {\n        label: _t(value)\n      };\n    }\n\n    return buttons;\n  }\n\n  function validateButtons(options, buttons) {\n    var allowedButtons = {};\n    each(buttons, function(key, value) {\n      allowedButtons[value] = true;\n    });\n\n    each(options.buttons, function(key) {\n      if (allowedButtons[key] === undefined) {\n        throw new Error(\"button key \" + key + \" is not allowed (options are \" + buttons.join(\"\\n\") + \")\");\n      }\n    });\n\n    return options;\n  }\n\n  exports.alert = function() {\n    var options;\n\n    options = mergeDialogOptions(\"alert\", [\"ok\"], [\"message\", \"callback\"], arguments);\n\n    if (options.callback && !$.isFunction(options.callback)) {\n      throw new Error(\"alert requires callback property to be a function when provided\");\n    }\n\n    /**\n     * overrides\n     */\n    options.buttons.ok.callback = options.onEscape = function() {\n      if ($.isFunction(options.callback)) {\n        return options.callback.call(this);\n      }\n      return true;\n    };\n\n    return exports.dialog(options);\n  };\n\n  exports.confirm = function() {\n    var options;\n\n    options = mergeDialogOptions(\"confirm\", [\"cancel\", \"confirm\"], [\"message\", \"callback\"], arguments);\n\n    /**\n     * overrides; undo anything the user tried to set they shouldn't have\n     */\n    options.buttons.cancel.callback = options.onEscape = function() {\n      return options.callback.call(this, false);\n    };\n\n    options.buttons.confirm.callback = function() {\n      return options.callback.call(this, true);\n    };\n\n    // confirm specific validation\n    if (!$.isFunction(options.callback)) {\n      throw new Error(\"confirm requires a callback\");\n    }\n\n    return exports.dialog(options);\n  };\n\n  exports.prompt = function() {\n    var options;\n    var defaults;\n    var dialog;\n    var form;\n    var input;\n    var shouldShow;\n    var inputOptions;\n\n    // we have to create our form first otherwise\n    // its value is undefined when gearing up our options\n    // @TODO this could be solved by allowing message to\n    // be a function instead...\n    form = $(templates.form);\n\n    // prompt defaults are more complex than others in that\n    // users can override more defaults\n    // @TODO I don't like that prompt has to do a lot of heavy\n    // lifting which mergeDialogOptions can *almost* support already\n    // just because of 'value' and 'inputType' - can we refactor?\n    defaults = {\n      className: \"bootbox-prompt\",\n      buttons: createLabels(\"cancel\", \"confirm\"),\n      value: \"\",\n      inputType: \"text\"\n    };\n\n    options = validateButtons(\n      mergeArguments(defaults, arguments, [\"title\", \"callback\"]),\n      [\"cancel\", \"confirm\"]\n    );\n\n    // capture the user's show value; we always set this to false before\n    // spawning the dialog to give us a chance to attach some handlers to\n    // it, but we need to make sure we respect a preference not to show it\n    shouldShow = (options.show === undefined) ? true : options.show;\n\n    /**\n     * overrides; undo anything the user tried to set they shouldn't have\n     */\n    options.message = form;\n\n    options.buttons.cancel.callback = options.onEscape = function() {\n      return options.callback.call(this, null);\n    };\n\n    options.buttons.confirm.callback = function() {\n      var value;\n\n      switch (options.inputType) {\n        case \"text\":\n        case \"textarea\":\n        case \"email\":\n        case \"select\":\n        case \"date\":\n        case \"time\":\n        case \"number\":\n        case \"password\":\n          value = input.val();\n          break;\n\n        case \"checkbox\":\n          var checkedItems = input.find(\"input:checked\");\n\n          // we assume that checkboxes are always multiple,\n          // hence we default to an empty array\n          value = [];\n\n          each(checkedItems, function(_, item) {\n            value.push($(item).val());\n          });\n          break;\n      }\n\n      return options.callback.call(this, value);\n    };\n\n    options.show = false;\n\n    // prompt specific validation\n    if (!options.title) {\n      throw new Error(\"prompt requires a title\");\n    }\n\n    if (!$.isFunction(options.callback)) {\n      throw new Error(\"prompt requires a callback\");\n    }\n\n    if (!templates.inputs[options.inputType]) {\n      throw new Error(\"invalid prompt type\");\n    }\n\n    // create the input based on the supplied type\n    input = $(templates.inputs[options.inputType]);\n\n    switch (options.inputType) {\n      case \"text\":\n      case \"textarea\":\n      case \"email\":\n      case \"date\":\n      case \"time\":\n      case \"number\":\n      case \"password\":\n        input.val(options.value);\n        break;\n\n      case \"select\":\n        var groups = {};\n        inputOptions = options.inputOptions || [];\n\n        if (!$.isArray(inputOptions)) {\n          throw new Error(\"Please pass an array of input options\");\n        }\n\n        if (!inputOptions.length) {\n          throw new Error(\"prompt with select requires options\");\n        }\n\n        each(inputOptions, function(_, option) {\n\n          // assume the element to attach to is the input...\n          var elem = input;\n\n          if (option.value === undefined || option.text === undefined) {\n            throw new Error(\"given options in wrong format\");\n          }\n\n          // ... but override that element if this option sits in a group\n\n          if (option.group) {\n            // initialise group if necessary\n            if (!groups[option.group]) {\n              groups[option.group] = $(\"<optgroup/>\").attr(\"label\", option.group);\n            }\n\n            elem = groups[option.group];\n          }\n\n          elem.append(\"<option value='\" + option.value + \"'>\" + option.text + \"</option>\");\n        });\n\n        each(groups, function(_, group) {\n          input.append(group);\n        });\n\n        // safe to set a select's value as per a normal input\n        input.val(options.value);\n        break;\n\n      case \"checkbox\":\n        var values   = $.isArray(options.value) ? options.value : [options.value];\n        inputOptions = options.inputOptions || [];\n\n        if (!inputOptions.length) {\n          throw new Error(\"prompt with checkbox requires options\");\n        }\n\n        if (!inputOptions[0].value || !inputOptions[0].text) {\n          throw new Error(\"given options in wrong format\");\n        }\n\n        // checkboxes have to nest within a containing element, so\n        // they break the rules a bit and we end up re-assigning\n        // our 'input' element to this container instead\n        input = $(\"<div/>\");\n\n        each(inputOptions, function(_, option) {\n          var checkbox = $(templates.inputs[options.inputType]);\n\n          checkbox.find(\"input\").attr(\"value\", option.value);\n          checkbox.find(\"label\").append(option.text);\n\n          // we've ensured values is an array so we can always iterate over it\n          each(values, function(_, value) {\n            if (value === option.value) {\n              checkbox.find(\"input\").prop(\"checked\", true);\n            }\n          });\n\n          input.append(checkbox);\n        });\n        break;\n    }\n\n    // @TODO provide an attributes option instead\n    // and simply map that as keys: vals\n    if (options.placeholder) {\n      input.attr(\"placeholder\", options.placeholder);\n    }\n\n    if (options.pattern) {\n      input.attr(\"pattern\", options.pattern);\n    }\n\n    if (options.maxlength) {\n      input.attr(\"maxlength\", options.maxlength);\n    }\n\n    // now place it in our form\n    form.append(input);\n\n    form.on(\"submit\", function(e) {\n      e.preventDefault();\n      // Fix for SammyJS (or similar JS routing library) hijacking the form post.\n      e.stopPropagation();\n      // @TODO can we actually click *the* button object instead?\n      // e.g. buttons.confirm.click() or similar\n      dialog.find(\".btn-primary\").click();\n    });\n\n    dialog = exports.dialog(options);\n\n    // clear the existing handler focusing the submit button...\n    dialog.off(\"shown.bs.modal\");\n\n    // ...and replace it with one focusing our input, if possible\n    dialog.on(\"shown.bs.modal\", function() {\n      // need the closure here since input isn't\n      // an object otherwise\n      input.focus();\n    });\n\n    if (shouldShow === true) {\n      dialog.modal(\"show\");\n    }\n\n    return dialog;\n  };\n\n  exports.dialog = function(options) {\n    options = sanitize(options);\n\n    var dialog = $(templates.dialog);\n    var innerDialog = dialog.find(\".modal-dialog\");\n    var body = dialog.find(\".modal-body\");\n    var buttons = options.buttons;\n    var buttonStr = \"\";\n    var callbacks = {\n      onEscape: options.onEscape\n    };\n\n    if ($.fn.modal === undefined) {\n      throw new Error(\n        \"$.fn.modal is not defined; please double check you have included \" +\n        \"the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ \" +\n        \"for more details.\"\n      );\n    }\n\n    each(buttons, function(key, button) {\n\n      // @TODO I don't like this string appending to itself; bit dirty. Needs reworking\n      // can we just build up button elements instead? slower but neater. Then button\n      // can just become a template too\n      buttonStr += \"<button data-bb-handler='\" + key + \"' type='button' class='btn \" + button.className + \"'>\" + button.label + \"</button>\";\n      callbacks[key] = button.callback;\n    });\n\n    body.find(\".bootbox-body\").html(options.message);\n\n    if (options.animate === true) {\n      dialog.addClass(\"fade\");\n    }\n\n    if (options.className) {\n      dialog.addClass(options.className);\n    }\n\n    if (options.size === \"large\") {\n      innerDialog.addClass(\"modal-lg\");\n    } else if (options.size === \"small\") {\n      innerDialog.addClass(\"modal-sm\");\n    }\n\n    if (options.title) {\n      body.before(templates.header);\n    }\n\n    if (options.closeButton) {\n      var closeButton = $(templates.closeButton);\n\n      if (options.title) {\n        dialog.find(\".modal-header\").prepend(closeButton);\n      } else {\n        closeButton.css(\"margin-top\", \"-10px\").prependTo(body);\n      }\n    }\n\n    if (options.title) {\n      dialog.find(\".modal-title\").html(options.title);\n    }\n\n    if (buttonStr.length) {\n      body.after(templates.footer);\n      dialog.find(\".modal-footer\").html(buttonStr);\n    }\n\n\n    /**\n     * Bootstrap event listeners; used handle extra\n     * setup & teardown required after the underlying\n     * modal has performed certain actions\n     */\n\n    dialog.on(\"hidden.bs.modal\", function(e) {\n      // ensure we don't accidentally intercept hidden events triggered\n      // by children of the current dialog. We shouldn't anymore now BS\n      // namespaces its events; but still worth doing\n      if (e.target === this) {\n        dialog.remove();\n      }\n    });\n\n    /*\n    dialog.on(\"show.bs.modal\", function() {\n      // sadly this doesn't work; show is called *just* before\n      // the backdrop is added so we'd need a setTimeout hack or\n      // otherwise... leaving in as would be nice\n      if (options.backdrop) {\n        dialog.next(\".modal-backdrop\").addClass(\"bootbox-backdrop\");\n      }\n    });\n    */\n\n    dialog.on(\"shown.bs.modal\", function() {\n      dialog.find(\".btn-primary:first\").focus();\n    });\n\n    /**\n     * Bootbox event listeners; experimental and may not last\n     * just an attempt to decouple some behaviours from their\n     * respective triggers\n     */\n\n    if (options.backdrop !== \"static\") {\n      // A boolean true/false according to the Bootstrap docs\n      // should show a dialog the user can dismiss by clicking on\n      // the background.\n      // We always only ever pass static/false to the actual\n      // $.modal function because with `true` we can't trap\n      // this event (the .modal-backdrop swallows it)\n      // However, we still want to sort of respect true\n      // and invoke the escape mechanism instead\n      dialog.on(\"click.dismiss.bs.modal\", function(e) {\n        // @NOTE: the target varies in >= 3.3.x releases since the modal backdrop\n        // moved *inside* the outer dialog rather than *alongside* it\n        if (dialog.children(\".modal-backdrop\").length) {\n          e.currentTarget = dialog.children(\".modal-backdrop\").get(0);\n        }\n\n        if (e.target !== e.currentTarget) {\n          return;\n        }\n\n        dialog.trigger(\"escape.close.bb\");\n      });\n    }\n\n    dialog.on(\"escape.close.bb\", function(e) {\n      if (callbacks.onEscape) {\n        processCallback(e, dialog, callbacks.onEscape);\n      }\n    });\n\n    /**\n     * Standard jQuery event listeners; used to handle user\n     * interaction with our dialog\n     */\n\n    dialog.on(\"click\", \".modal-footer button\", function(e) {\n      var callbackKey = $(this).data(\"bb-handler\");\n\n      processCallback(e, dialog, callbacks[callbackKey]);\n    });\n\n    dialog.on(\"click\", \".bootbox-close-button\", function(e) {\n      // onEscape might be falsy but that's fine; the fact is\n      // if the user has managed to click the close button we\n      // have to close the dialog, callback or not\n      processCallback(e, dialog, callbacks.onEscape);\n    });\n\n    dialog.on(\"keyup\", function(e) {\n      if (e.which === 27) {\n        dialog.trigger(\"escape.close.bb\");\n      }\n    });\n\n    // the remainder of this method simply deals with adding our\n    // dialogent to the DOM, augmenting it with Bootstrap's modal\n    // functionality and then giving the resulting object back\n    // to our caller\n\n    $(options.container).append(dialog);\n\n    dialog.modal({\n      backdrop: options.backdrop ? \"static\": false,\n      keyboard: false,\n      show: false\n    });\n\n    if (options.show) {\n      dialog.modal(\"show\");\n    }\n\n    // @TODO should we return the raw element here or should\n    // we wrap it in an object on which we can expose some neater\n    // methods, e.g. var d = bootbox.alert(); d.hide(); instead\n    // of d.modal(\"hide\");\n\n   /*\n    function BBDialog(elem) {\n      this.elem = elem;\n    }\n\n    BBDialog.prototype = {\n      hide: function() {\n        return this.elem.modal(\"hide\");\n      },\n      show: function() {\n        return this.elem.modal(\"show\");\n      }\n    };\n    */\n\n    return dialog;\n\n  };\n\n  exports.setDefaults = function() {\n    var values = {};\n\n    if (arguments.length === 2) {\n      // allow passing of single key/value...\n      values[arguments[0]] = arguments[1];\n    } else {\n      // ... and as an object too\n      values = arguments[0];\n    }\n\n    $.extend(defaults, values);\n  };\n\n  exports.hideAll = function() {\n    $(\".bootbox\").modal(\"hide\");\n\n    return exports;\n  };\n\n\n  /**\n   * standard locales. Please add more according to ISO 639-1 standard. Multiple language variants are\n   * unlikely to be required. If this gets too large it can be split out into separate JS files.\n   */\n  var locales = {\n    bg_BG : {\n      OK      : \"\u00d0\u009e\u00d0\u00ba\",\n      CANCEL  : \"\u00d0\u009e\u00d1\u0082\u00d0\u00ba\u00d0\u00b0\u00d0\u00b7\",\n      CONFIRM : \"\u00d0\u009f\u00d0\u00be\u00d1\u0082\u00d0\u00b2\u00d1\u008a\u00d1\u0080\u00d0\u00b6\u00d0\u00b4\u00d0\u00b0\u00d0\u00b2\u00d0\u00b0\u00d0\u00bc\"\n    },\n    br : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancelar\",\n      CONFIRM : \"Sim\"\n    },\n    cs : {\n      OK      : \"OK\",\n      CANCEL  : \"Zru\u00c5\u00a1it\",\n      CONFIRM : \"Potvrdit\"\n    },\n    da : {\n      OK      : \"OK\",\n      CANCEL  : \"Annuller\",\n      CONFIRM : \"Accepter\"\n    },\n    de : {\n      OK      : \"OK\",\n      CANCEL  : \"Abbrechen\",\n      CONFIRM : \"Akzeptieren\"\n    },\n    el : {\n      OK      : \"\u00ce\u0095\u00ce\u00bd\u00cf\u0084\u00ce\u00ac\u00ce\u00be\u00ce\u00b5\u00ce\u00b9\",\n      CANCEL  : \"\u00ce\u0091\u00ce\u00ba\u00cf\u008d\u00cf\u0081\u00cf\u0089\u00cf\u0083\u00ce\u00b7\",\n      CONFIRM : \"\u00ce\u0095\u00cf\u0080\u00ce\u00b9\u00ce\u00b2\u00ce\u00b5\u00ce\u00b2\u00ce\u00b1\u00ce\u00af\u00cf\u0089\u00cf\u0083\u00ce\u00b7\"\n    },\n    en : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancel\",\n      CONFIRM : \"OK\"\n    },\n    es : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancelar\",\n      CONFIRM : \"Aceptar\"\n    },\n    et : {\n      OK      : \"OK\",\n      CANCEL  : \"Katkesta\",\n      CONFIRM : \"OK\"\n    },\n    fa : {\n      OK      : \"\u00d9\u0082\u00d8\u00a8\u00d9\u0088\u00d9\u0084\",\n      CANCEL  : \"\u00d9\u0084\u00d8\u00ba\u00d9\u0088\",\n      CONFIRM : \"\u00d8\u00aa\u00d8\u00a7\u00db\u008c\u00db\u008c\u00d8\u00af\"\n    },\n    fi : {\n      OK      : \"OK\",\n      CANCEL  : \"Peruuta\",\n      CONFIRM : \"OK\"\n    },\n    fr : {\n      OK      : \"OK\",\n      CANCEL  : \"Annuler\",\n      CONFIRM : \"D'accord\"\n    },\n    he : {\n      OK      : \"\u00d7\u0090\u00d7\u0099\u00d7\u00a9\u00d7\u0095\u00d7\u00a8\",\n      CANCEL  : \"\u00d7\u0091\u00d7\u0099\u00d7\u0098\u00d7\u0095\u00d7\u009c\",\n      CONFIRM : \"\u00d7\u0090\u00d7\u0099\u00d7\u00a9\u00d7\u0095\u00d7\u00a8\"\n    },\n    hu : {\n      OK      : \"OK\",\n      CANCEL  : \"M\u00c3\u00a9gsem\",\n      CONFIRM : \"Meger\u00c5\u0091s\u00c3\u00adt\"\n    },\n    hr : {\n      OK      : \"OK\",\n      CANCEL  : \"Odustani\",\n      CONFIRM : \"Potvrdi\"\n    },\n    id : {\n      OK      : \"OK\",\n      CANCEL  : \"Batal\",\n      CONFIRM : \"OK\"\n    },\n    it : {\n      OK      : \"OK\",\n      CANCEL  : \"Annulla\",\n      CONFIRM : \"Conferma\"\n    },\n    ja : {\n      OK      : \"OK\",\n      CANCEL  : \"\u00e3\u0082\u00ad\u00e3\u0083\u00a3\u00e3\u0083\u00b3\u00e3\u0082\u00bb\u00e3\u0083\u00ab\",\n      CONFIRM : \"\u00e7\u00a2\u00ba\u00e8\u00aa\u008d\"\n    },\n    lt : {\n      OK      : \"Gerai\",\n      CANCEL  : \"At\u00c5\u00a1aukti\",\n      CONFIRM : \"Patvirtinti\"\n    },\n    lv : {\n      OK      : \"Labi\",\n      CANCEL  : \"Atcelt\",\n      CONFIRM : \"Apstiprin\u00c4\u0081t\"\n    },\n    nl : {\n      OK      : \"OK\",\n      CANCEL  : \"Annuleren\",\n      CONFIRM : \"Accepteren\"\n    },\n    no : {\n      OK      : \"OK\",\n      CANCEL  : \"Avbryt\",\n      CONFIRM : \"OK\"\n    },\n    pl : {\n      OK      : \"OK\",\n      CANCEL  : \"Anuluj\",\n      CONFIRM : \"Potwierd\u00c5\u00ba\"\n    },\n    pt : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancelar\",\n      CONFIRM : \"Confirmar\"\n    },\n    ru : {\n      OK      : \"OK\",\n      CANCEL  : \"\u00d0\u009e\u00d1\u0082\u00d0\u00bc\u00d0\u00b5\u00d0\u00bd\u00d0\u00b0\",\n      CONFIRM : \"\u00d0\u009f\u00d1\u0080\u00d0\u00b8\u00d0\u00bc\u00d0\u00b5\u00d0\u00bd\u00d0\u00b8\u00d1\u0082\u00d1\u008c\"\n    },\n    sq : {\n      OK : \"OK\",\n      CANCEL : \"Anulo\",\n      CONFIRM : \"Prano\"\n    },\n    sv : {\n      OK      : \"OK\",\n      CANCEL  : \"Avbryt\",\n      CONFIRM : \"OK\"\n    },\n    th : {\n      OK      : \"\u00e0\u00b8\u0095\u00e0\u00b8\u0081\u00e0\u00b8\u00a5\u00e0\u00b8\u0087\",\n      CANCEL  : \"\u00e0\u00b8\u00a2\u00e0\u00b8\u0081\u00e0\u00b9\u0080\u00e0\u00b8\u00a5\u00e0\u00b8\u00b4\u00e0\u00b8\u0081\",\n      CONFIRM : \"\u00e0\u00b8\u00a2\u00e0\u00b8\u00b7\u00e0\u00b8\u0099\u00e0\u00b8\u00a2\u00e0\u00b8\u00b1\u00e0\u00b8\u0099\"\n    },\n    tr : {\n      OK      : \"Tamam\",\n      CANCEL  : \"\u00c4\u00b0ptal\",\n      CONFIRM : \"Onayla\"\n    },\n    zh_CN : {\n      OK      : \"OK\",\n      CANCEL  : \"\u00e5\u008f\u0096\u00e6\u00b6\u0088\",\n      CONFIRM : \"\u00e7\u00a1\u00ae\u00e8\u00ae\u00a4\"\n    },\n    zh_TW : {\n      OK      : \"OK\",\n      CANCEL  : \"\u00e5\u008f\u0096\u00e6\u00b6\u0088\",\n      CONFIRM : \"\u00e7\u00a2\u00ba\u00e8\u00aa\u008d\"\n    }\n  };\n\n  exports.addLocale = function(name, values) {\n    $.each([\"OK\", \"CANCEL\", \"CONFIRM\"], function(_, v) {\n      if (!values[v]) {\n        throw new Error(\"Please supply a translation for '\" + v + \"'\");\n      }\n    });\n\n    locales[name] = {\n      OK: values.OK,\n      CANCEL: values.CANCEL,\n      CONFIRM: values.CONFIRM\n    };\n\n    return exports;\n  };\n\n  exports.removeLocale = function(name) {\n    delete locales[name];\n\n    return exports;\n  };\n\n  exports.setLocale = function(name) {\n    return exports.setDefaults(\"locale\", name);\n  };\n\n  exports.init = function(_$) {\n    return init(_$ || $);\n  };\n\n  return exports;\n}));\n","Frame_Design/lib/bower_components/blueimp-load-image/test/test.js":"/*\r\n * JavaScript Load Image Test\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * http://www.opensource.org/licenses/MIT\r\n */\r\n\r\n/*global window, describe, it, Blob */\r\n\r\n;(function (expect, loadImage) {\r\n  'use strict'\r\n\r\n  var canCreateBlob = !!window.dataURLtoBlob\r\n  // 80x60px GIF image (color black, base64 data):\r\n  var b64DataGIF = 'R0lGODdhUAA8AIABAAAAAP///ywAAAAAUAA8AAACS4SPqcvtD6' +\r\n                    'OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+s73/g8MCofE' +\r\n                    'ovGITCqXzKbzCY1Kp9Sq9YrNarfcrvcLDovH5PKsAAA7'\r\n  var imageUrlGIF = 'data:image/gif;base64,' + b64DataGIF\r\n  var blobGIF = canCreateBlob && window.dataURLtoBlob(imageUrlGIF)\r\n  // 1x2px JPEG (color white, with the Exif orientation flag set to 6):\r\n  var b64DataJPEG = '/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAA' +\r\n                    'ABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEB' +\r\n                    'AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQ' +\r\n                    'EBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEB' +\r\n                    'AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQ' +\r\n                    'EBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEB' +\r\n                    'AQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBA' +\r\n                    'QAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAk' +\r\n                    'M2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1' +\r\n                    'hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKj' +\r\n                    'pKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+' +\r\n                    'Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAA' +\r\n                    'AAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAx' +\r\n                    'EEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl' +\r\n                    '8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2' +\r\n                    'hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmq' +\r\n                    'srO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8v' +\r\n                    'P09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=='\r\n  var imageUrlJPEG = 'data:image/jpeg;base64,' + b64DataJPEG\r\n  var blobJPEG = canCreateBlob && window.dataURLtoBlob(imageUrlJPEG)\r\n  function createBlob (data, type) {\r\n    try {\r\n      return new Blob([data], {type: type})\r\n    } catch (e) {\r\n      var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder ||\r\n      window.MozBlobBuilder || window.MSBlobBuilder\r\n      var builder = new BlobBuilder()\r\n      builder.append(data.buffer || data)\r\n      return builder.getBlob(type)\r\n    }\r\n  }\r\n\r\n  describe('Loading', function () {\r\n    it('Return the img element or FileReader object to allow aborting the image load', function () {\r\n      var img = loadImage(blobGIF, function () {\r\n        return\r\n      })\r\n      expect(img).to.be.an(Object)\r\n      expect(img.onload).to.be.a('function')\r\n      expect(img.onerror).to.be.a('function')\r\n    })\r\n\r\n    it('Load image url', function (done) {\r\n      expect(loadImage(imageUrlGIF, function (img) {\r\n        expect(img.width).to.be(80)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      })).to.be.ok()\r\n    })\r\n\r\n    it('Load image blob', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(80)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      })).to.be.ok()\r\n    })\r\n\r\n    it('Return image loading error to callback', function (done) {\r\n      expect(loadImage('404', function (img) {\r\n        expect(img).to.be.a(window.Event)\r\n        expect(img.type).to.be('error')\r\n        done()\r\n      })).to.be.ok()\r\n    })\r\n\r\n    it('Keep object URL if noRevoke is true', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        loadImage(img.src, function (img2) {\r\n          expect(img.width).to.be(img2.width)\r\n          expect(img.height).to.be(img2.height)\r\n          done()\r\n        })\r\n      }, {noRevoke: true})).to.be.ok()\r\n    })\r\n\r\n    it('Discard object URL if noRevoke is undefined or false', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        loadImage(img.src, function (img2) {\r\n          if (!window.callPhantom) {\r\n            // revokeObjectUrl doesn't seem to have an effect in PhantomJS\r\n            expect(img2).to.be.a(window.Event)\r\n            expect(img2.type).to.be('error')\r\n          }\r\n          done()\r\n        })\r\n      })).to.be.ok()\r\n    })\r\n  })\r\n\r\n  describe('Scaling', function () {\r\n    describe('max/min', function () {\r\n      it('Scale to maxWidth', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(40)\r\n          expect(img.height).to.be(30)\r\n          done()\r\n        }, {maxWidth: 40})).to.be.ok()\r\n      })\r\n\r\n      it('Scale to maxHeight', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(20)\r\n          expect(img.height).to.be(15)\r\n          done()\r\n        }, {maxHeight: 15})).to.be.ok()\r\n      })\r\n\r\n      it('Scale to minWidth', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(160)\r\n          expect(img.height).to.be(120)\r\n          done()\r\n        }, {minWidth: 160})).to.be.ok()\r\n      })\r\n\r\n      it('Scale to minHeight', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(320)\r\n          expect(img.height).to.be(240)\r\n          done()\r\n        }, {minHeight: 240})).to.be.ok()\r\n      })\r\n\r\n      it('Scale to minWidth but respect maxWidth', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(160)\r\n          expect(img.height).to.be(120)\r\n          done()\r\n        }, {minWidth: 240, maxWidth: 160})).to.be.ok()\r\n      })\r\n\r\n      it('Scale to minHeight but respect maxHeight', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(160)\r\n          expect(img.height).to.be(120)\r\n          done()\r\n        }, {minHeight: 180, maxHeight: 120})).to.be.ok()\r\n      })\r\n\r\n      it('Scale to minWidth but respect maxHeight', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(160)\r\n          expect(img.height).to.be(120)\r\n          done()\r\n        }, {minWidth: 240, maxHeight: 120})).to.be.ok()\r\n      })\r\n\r\n      it('Scale to minHeight but respect maxWidth', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(160)\r\n          expect(img.height).to.be(120)\r\n          done()\r\n        }, {minHeight: 180, maxWidth: 160})).to.be.ok()\r\n      })\r\n\r\n      it('Scale up with the given pixelRatio', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(320)\r\n          expect(img.height).to.be(240)\r\n          expect(img.style.width).to.be('160px')\r\n          expect(img.style.height).to.be('120px')\r\n          done()\r\n        }, {minWidth: 160, canvas: true, pixelRatio: 2})).to.be.ok()\r\n      })\r\n\r\n      it('Scale down with the given pixelRatio', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(80)\r\n          expect(img.height).to.be(60)\r\n          expect(img.style.width).to.be('40px')\r\n          expect(img.style.height).to.be('30px')\r\n          done()\r\n        }, {maxWidth: 40, canvas: true, pixelRatio: 2})).to.be.ok()\r\n      })\r\n\r\n      it('Scale down with the given downsamplingRatio', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(20)\r\n          expect(img.height).to.be(15)\r\n          done()\r\n        }, {maxWidth: 20, canvas: true, downsamplingRatio: 0.5})).to.be.ok()\r\n      })\r\n\r\n      it('Ignore max settings if image dimensions are smaller', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(80)\r\n          expect(img.height).to.be(60)\r\n          done()\r\n        }, {maxWidth: 160, maxHeight: 120})).to.be.ok()\r\n      })\r\n\r\n      it('Ignore min settings if image dimensions are larger', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(80)\r\n          expect(img.height).to.be(60)\r\n          done()\r\n        }, {minWidth: 40, minHeight: 30})).to.be.ok()\r\n      })\r\n    })\r\n\r\n    describe('contain', function () {\r\n      it('Scale up to contain image in max dimensions', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(160)\r\n          expect(img.height).to.be(120)\r\n          done()\r\n        }, {maxWidth: 160, maxHeight: 160, contain: true})).to.be.ok()\r\n      })\r\n\r\n      it('Scale down to contain image in max dimensions', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(40)\r\n          expect(img.height).to.be(30)\r\n          done()\r\n        }, {maxWidth: 40, maxHeight: 40, contain: true})).to.be.ok()\r\n      })\r\n    })\r\n\r\n    describe('cover', function () {\r\n      it('Scale up to cover max dimensions with image dimensions', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(160)\r\n          expect(img.height).to.be(120)\r\n          done()\r\n        }, {maxWidth: 120, maxHeight: 120, cover: true})).to.be.ok()\r\n      })\r\n\r\n      it('Scale down to cover max dimensions with image dimensions', function (done) {\r\n        expect(loadImage(blobGIF, function (img) {\r\n          expect(img.width).to.be(40)\r\n          expect(img.height).to.be(30)\r\n          done()\r\n        }, {maxWidth: 30, maxHeight: 30, cover: true})).to.be.ok()\r\n      })\r\n    })\r\n  })\r\n\r\n  describe('Cropping', function () {\r\n    it('Crop to same values for maxWidth and maxHeight', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(40)\r\n        expect(img.height).to.be(40)\r\n        done()\r\n      }, {maxWidth: 40, maxHeight: 40, crop: true})).to.be.ok()\r\n    })\r\n\r\n    it('Crop to different values for maxWidth and maxHeight', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(40)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      }, {maxWidth: 40, maxHeight: 60, crop: true})).to.be.ok()\r\n    })\r\n\r\n    it('Crop using the given sourceWidth and sourceHeight dimensions', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(40)\r\n        expect(img.height).to.be(40)\r\n        done()\r\n      }, {sourceWidth: 40, sourceHeight: 40, crop: true})).to.be.ok()\r\n    })\r\n\r\n    it('Crop using the given left and top coordinates', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(40)\r\n        expect(img.height).to.be(20)\r\n        done()\r\n      }, {left: 40, top: 40, crop: true})).to.be.ok()\r\n    })\r\n\r\n    it('Crop using the given right and bottom coordinates', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(40)\r\n        expect(img.height).to.be(20)\r\n        done()\r\n      }, {right: 40, bottom: 40, crop: true})).to.be.ok()\r\n    })\r\n\r\n    it('Crop using the given 2:1 aspectRatio', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(80)\r\n        expect(img.height).to.be(40)\r\n        done()\r\n      }, {aspectRatio: 2})).to.be.ok()\r\n    })\r\n\r\n    it('Crop using the given 2:3 aspectRatio', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(40)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      }, {aspectRatio: 2 / 3})).to.be.ok()\r\n    })\r\n\r\n    it('Crop using maxWidth/maxHeight with the given pixelRatio', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(80)\r\n        expect(img.height).to.be(80)\r\n        expect(img.style.width).to.be('40px')\r\n        expect(img.style.height).to.be('40px')\r\n        done()\r\n      }, {maxWidth: 40, maxHeight: 40, crop: true, pixelRatio: 2})).to.be.ok()\r\n    })\r\n\r\n    it('Crop using sourceWidth/sourceHeight with the given pixelRatio', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(80)\r\n        expect(img.height).to.be(80)\r\n        expect(img.style.width).to.be('40px')\r\n        expect(img.style.height).to.be('40px')\r\n        done()\r\n      }, {sourceWidth: 40, sourceHeight: 40, crop: true, pixelRatio: 2})).to.be.ok()\r\n    })\r\n  })\r\n\r\n  describe('Orientation', function () {\r\n    it('Should keep the orientation', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(80)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      }, {orientation: 1})).to.be.ok()\r\n    })\r\n\r\n    it('Should rotate left', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(60)\r\n        expect(img.height).to.be(80)\r\n        done()\r\n      }, {orientation: 8})).to.be.ok()\r\n    })\r\n\r\n    it('Should rotate right', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(60)\r\n        expect(img.height).to.be(80)\r\n        done()\r\n      }, {orientation: 6})).to.be.ok()\r\n    })\r\n\r\n    it('Should adjust constraints to new coordinates', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(60)\r\n        expect(img.height).to.be(80)\r\n        done()\r\n      }, {orientation: 6, maxWidth: 60, maxHeight: 80})).to.be.ok()\r\n    })\r\n\r\n    it('Should adjust left and top to new coordinates', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(30)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      }, {orientation: 5, left: 30, top: 20})).to.be.ok()\r\n    })\r\n\r\n    it('Should adjust right and bottom to new coordinates', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(30)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      }, {orientation: 5, right: 30, bottom: 20})).to.be.ok()\r\n    })\r\n\r\n    it('Should adjust left and bottom to new coordinates', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(30)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      }, {orientation: 7, left: 30, bottom: 20})).to.be.ok()\r\n    })\r\n\r\n    it('Should adjust right and top to new coordinates', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(30)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      }, {orientation: 7, right: 30, top: 20})).to.be.ok()\r\n    })\r\n\r\n    it('Should rotate left with the given pixelRatio', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(120)\r\n        expect(img.height).to.be(160)\r\n        expect(img.style.width).to.be('60px')\r\n        expect(img.style.height).to.be('80px')\r\n        done()\r\n      }, {orientation: 8, pixelRatio: 2})).to.be.ok()\r\n    })\r\n\r\n    it('Should rotate right with the given pixelRatio', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(120)\r\n        expect(img.height).to.be(160)\r\n        expect(img.style.width).to.be('60px')\r\n        expect(img.style.height).to.be('80px')\r\n        done()\r\n      }, {orientation: 6, pixelRatio: 2})).to.be.ok()\r\n    })\r\n\r\n    it('Should ignore too small orientation value', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(80)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      }, {orientation: -1})).to.be.ok()\r\n    })\r\n\r\n    it('Should ignore too large orientation value', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.width).to.be(80)\r\n        expect(img.height).to.be(60)\r\n        done()\r\n      }, {orientation: 9})).to.be.ok()\r\n    })\r\n  })\r\n\r\n  describe('Canvas', function () {\r\n    it('Return img element to callback if canvas is not true', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.getContext).to.not.be.ok()\r\n        expect(img.nodeName.toLowerCase()).to.be('img')\r\n        done()\r\n      })).to.be.ok()\r\n    })\r\n\r\n    it('Return canvas element to callback if canvas is true', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.getContext).to.be.ok()\r\n        expect(img.nodeName.toLowerCase()).to.be('canvas')\r\n        done()\r\n      }, {canvas: true})).to.be.ok()\r\n    })\r\n\r\n    it('Return scaled canvas element to callback', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        expect(img.getContext).to.be.ok()\r\n        expect(img.nodeName.toLowerCase()).to.be('canvas')\r\n        expect(img.width).to.be(40)\r\n        expect(img.height).to.be(30)\r\n        done()\r\n      }, {canvas: true, maxWidth: 40})).to.be.ok()\r\n    })\r\n\r\n    it('Accept a canvas element as parameter for loadImage.scale', function (done) {\r\n      expect(loadImage(blobGIF, function (img) {\r\n        img = loadImage.scale(img, {\r\n          maxWidth: 40\r\n        })\r\n        expect(img.getContext).to.be.ok()\r\n        expect(img.nodeName.toLowerCase()).to.be('canvas')\r\n        expect(img.width).to.be(40)\r\n        expect(img.height).to.be(30)\r\n        done()\r\n      }, {canvas: true})).to.be.ok()\r\n    })\r\n  })\r\n\r\n  describe('Metadata', function () {\r\n    it('Should parse Exif information', function (done) {\r\n      loadImage.parseMetaData(blobJPEG, function (data) {\r\n        expect(data.exif).to.be.ok()\r\n        expect(data.exif.get('Orientation')).to.be(6)\r\n        done()\r\n      })\r\n    })\r\n\r\n    it('Should parse the complete image head', function (done) {\r\n      loadImage.parseMetaData(blobJPEG, function (data) {\r\n        expect(data.imageHead).to.be.ok()\r\n        loadImage.parseMetaData(\r\n          createBlob(data.imageHead, 'image/jpeg'),\r\n          function (data) {\r\n            expect(data.exif).to.be.ok()\r\n            expect(data.exif.get('Orientation')).to.be(6)\r\n            done()\r\n          }\r\n        )\r\n      })\r\n    })\r\n  })\r\n}(\r\n  this.expect,\r\n  this.loadImage\r\n))\r\n","Frame_Design/lib/bower_components/blueimp-load-image/test/vendor/expect.js":"(function (global, module) {\r\n\r\n  var exports = module.exports;\r\n\r\n  /**\r\n   * Exports.\r\n   */\r\n\r\n  module.exports = expect;\r\n  expect.Assertion = Assertion;\r\n\r\n  /**\r\n   * Exports version.\r\n   */\r\n\r\n  expect.version = '0.3.1';\r\n\r\n  /**\r\n   * Possible assertion flags.\r\n   */\r\n\r\n  var flags = {\r\n      not: ['to', 'be', 'have', 'include', 'only']\r\n    , to: ['be', 'have', 'include', 'only', 'not']\r\n    , only: ['have']\r\n    , have: ['own']\r\n    , be: ['an']\r\n  };\r\n\r\n  function expect (obj) {\r\n    return new Assertion(obj);\r\n  }\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  function Assertion (obj, flag, parent) {\r\n    this.obj = obj;\r\n    this.flags = {};\r\n\r\n    if (undefined != parent) {\r\n      this.flags[flag] = true;\r\n\r\n      for (var i in parent.flags) {\r\n        if (parent.flags.hasOwnProperty(i)) {\r\n          this.flags[i] = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    var $flags = flag ? flags[flag] : keys(flags)\r\n      , self = this;\r\n\r\n    if ($flags) {\r\n      for (var i = 0, l = $flags.length; i < l; i++) {\r\n        // avoid recursion\r\n        if (this.flags[$flags[i]]) continue;\r\n\r\n        var name = $flags[i]\r\n          , assertion = new Assertion(this.obj, name, this)\r\n\r\n        if ('function' == typeof Assertion.prototype[name]) {\r\n          // clone the function, make sure we dont touch the prot reference\r\n          var old = this[name];\r\n          this[name] = function () {\r\n            return old.apply(self, arguments);\r\n          };\r\n\r\n          for (var fn in Assertion.prototype) {\r\n            if (Assertion.prototype.hasOwnProperty(fn) && fn != name) {\r\n              this[name][fn] = bind(assertion[fn], assertion);\r\n            }\r\n          }\r\n        } else {\r\n          this[name] = assertion;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Performs an assertion\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  Assertion.prototype.assert = function (truth, msg, error, expected) {\r\n    var msg = this.flags.not ? error : msg\r\n      , ok = this.flags.not ? !truth : truth\r\n      , err;\r\n\r\n    if (!ok) {\r\n      err = new Error(msg.call(this));\r\n      if (arguments.length > 3) {\r\n        err.actual = this.obj;\r\n        err.expected = expected;\r\n        err.showDiff = true;\r\n      }\r\n      throw err;\r\n    }\r\n\r\n    this.and = new Assertion(this.obj);\r\n  };\r\n\r\n  /**\r\n   * Check if the value is truthy\r\n   *\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.ok = function () {\r\n    this.assert(\r\n        !!this.obj\r\n      , function(){ return 'expected ' + i(this.obj) + ' to be truthy' }\r\n      , function(){ return 'expected ' + i(this.obj) + ' to be falsy' });\r\n  };\r\n\r\n  /**\r\n   * Creates an anonymous function which calls fn with arguments.\r\n   *\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.withArgs = function() {\r\n    expect(this.obj).to.be.a('function');\r\n    var fn = this.obj;\r\n    var args = Array.prototype.slice.call(arguments);\r\n    return expect(function() { fn.apply(null, args); });\r\n  };\r\n\r\n  /**\r\n   * Assert that the function throws.\r\n   *\r\n   * @param {Function|RegExp} callback, or regexp to match error string against\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.throwError =\r\n  Assertion.prototype.throwException = function (fn) {\r\n    expect(this.obj).to.be.a('function');\r\n\r\n    var thrown = false\r\n      , not = this.flags.not;\r\n\r\n    try {\r\n      this.obj();\r\n    } catch (e) {\r\n      if (isRegExp(fn)) {\r\n        var subject = 'string' == typeof e ? e : e.message;\r\n        if (not) {\r\n          expect(subject).to.not.match(fn);\r\n        } else {\r\n          expect(subject).to.match(fn);\r\n        }\r\n      } else if ('function' == typeof fn) {\r\n        fn(e);\r\n      }\r\n      thrown = true;\r\n    }\r\n\r\n    if (isRegExp(fn) && not) {\r\n      // in the presence of a matcher, ensure the `not` only applies to\r\n      // the matching.\r\n      this.flags.not = false;\r\n    }\r\n\r\n    var name = this.obj.name || 'fn';\r\n    this.assert(\r\n        thrown\r\n      , function(){ return 'expected ' + name + ' to throw an exception' }\r\n      , function(){ return 'expected ' + name + ' not to throw an exception' });\r\n  };\r\n\r\n  /**\r\n   * Checks if the array is empty.\r\n   *\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.empty = function () {\r\n    var expectation;\r\n\r\n    if ('object' == typeof this.obj && null !== this.obj && !isArray(this.obj)) {\r\n      if ('number' == typeof this.obj.length) {\r\n        expectation = !this.obj.length;\r\n      } else {\r\n        expectation = !keys(this.obj).length;\r\n      }\r\n    } else {\r\n      if ('string' != typeof this.obj) {\r\n        expect(this.obj).to.be.an('object');\r\n      }\r\n\r\n      expect(this.obj).to.have.property('length');\r\n      expectation = !this.obj.length;\r\n    }\r\n\r\n    this.assert(\r\n        expectation\r\n      , function(){ return 'expected ' + i(this.obj) + ' to be empty' }\r\n      , function(){ return 'expected ' + i(this.obj) + ' to not be empty' });\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Checks if the obj exactly equals another.\r\n   *\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.be =\r\n  Assertion.prototype.equal = function (obj) {\r\n    this.assert(\r\n        obj === this.obj\r\n      , function(){ return 'expected ' + i(this.obj) + ' to equal ' + i(obj) }\r\n      , function(){ return 'expected ' + i(this.obj) + ' to not equal ' + i(obj) });\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Checks if the obj sortof equals another.\r\n   *\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.eql = function (obj) {\r\n    this.assert(\r\n        expect.eql(this.obj, obj)\r\n      , function(){ return 'expected ' + i(this.obj) + ' to sort of equal ' + i(obj) }\r\n      , function(){ return 'expected ' + i(this.obj) + ' to sort of not equal ' + i(obj) }\r\n      , obj);\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Assert within start to finish (inclusive).\r\n   *\r\n   * @param {Number} start\r\n   * @param {Number} finish\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.within = function (start, finish) {\r\n    var range = start + '..' + finish;\r\n    this.assert(\r\n        this.obj >= start && this.obj <= finish\r\n      , function(){ return 'expected ' + i(this.obj) + ' to be within ' + range }\r\n      , function(){ return 'expected ' + i(this.obj) + ' to not be within ' + range });\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Assert typeof / instance of\r\n   *\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.a =\r\n  Assertion.prototype.an = function (type) {\r\n    if ('string' == typeof type) {\r\n      // proper english in error msg\r\n      var n = /^[aeiou]/.test(type) ? 'n' : '';\r\n\r\n      // typeof with support for 'array'\r\n      this.assert(\r\n          'array' == type ? isArray(this.obj) :\r\n            'regexp' == type ? isRegExp(this.obj) :\r\n              'object' == type\r\n                ? 'object' == typeof this.obj && null !== this.obj\r\n                : type == typeof this.obj\r\n        , function(){ return 'expected ' + i(this.obj) + ' to be a' + n + ' ' + type }\r\n        , function(){ return 'expected ' + i(this.obj) + ' not to be a' + n + ' ' + type });\r\n    } else {\r\n      // instanceof\r\n      var name = type.name || 'supplied constructor';\r\n      this.assert(\r\n          this.obj instanceof type\r\n        , function(){ return 'expected ' + i(this.obj) + ' to be an instance of ' + name }\r\n        , function(){ return 'expected ' + i(this.obj) + ' not to be an instance of ' + name });\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Assert numeric value above _n_.\r\n   *\r\n   * @param {Number} n\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.greaterThan =\r\n  Assertion.prototype.above = function (n) {\r\n    this.assert(\r\n        this.obj > n\r\n      , function(){ return 'expected ' + i(this.obj) + ' to be above ' + n }\r\n      , function(){ return 'expected ' + i(this.obj) + ' to be below ' + n });\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Assert numeric value below _n_.\r\n   *\r\n   * @param {Number} n\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.lessThan =\r\n  Assertion.prototype.below = function (n) {\r\n    this.assert(\r\n        this.obj < n\r\n      , function(){ return 'expected ' + i(this.obj) + ' to be below ' + n }\r\n      , function(){ return 'expected ' + i(this.obj) + ' to be above ' + n });\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Assert string value matches _regexp_.\r\n   *\r\n   * @param {RegExp} regexp\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.match = function (regexp) {\r\n    this.assert(\r\n        regexp.exec(this.obj)\r\n      , function(){ return 'expected ' + i(this.obj) + ' to match ' + regexp }\r\n      , function(){ return 'expected ' + i(this.obj) + ' not to match ' + regexp });\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Assert property \"length\" exists and has value of _n_.\r\n   *\r\n   * @param {Number} n\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.length = function (n) {\r\n    expect(this.obj).to.have.property('length');\r\n    var len = this.obj.length;\r\n    this.assert(\r\n        n == len\r\n      , function(){ return 'expected ' + i(this.obj) + ' to have a length of ' + n + ' but got ' + len }\r\n      , function(){ return 'expected ' + i(this.obj) + ' to not have a length of ' + len });\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Assert property _name_ exists, with optional _val_.\r\n   *\r\n   * @param {String} name\r\n   * @param {Mixed} val\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.property = function (name, val) {\r\n    if (this.flags.own) {\r\n      this.assert(\r\n          Object.prototype.hasOwnProperty.call(this.obj, name)\r\n        , function(){ return 'expected ' + i(this.obj) + ' to have own property ' + i(name) }\r\n        , function(){ return 'expected ' + i(this.obj) + ' to not have own property ' + i(name) });\r\n      return this;\r\n    }\r\n\r\n    if (this.flags.not && undefined !== val) {\r\n      if (undefined === this.obj[name]) {\r\n        throw new Error(i(this.obj) + ' has no property ' + i(name));\r\n      }\r\n    } else {\r\n      var hasProp;\r\n      try {\r\n        hasProp = name in this.obj\r\n      } catch (e) {\r\n        hasProp = undefined !== this.obj[name]\r\n      }\r\n\r\n      this.assert(\r\n          hasProp\r\n        , function(){ return 'expected ' + i(this.obj) + ' to have a property ' + i(name) }\r\n        , function(){ return 'expected ' + i(this.obj) + ' to not have a property ' + i(name) });\r\n    }\r\n\r\n    if (undefined !== val) {\r\n      this.assert(\r\n          val === this.obj[name]\r\n        , function(){ return 'expected ' + i(this.obj) + ' to have a property ' + i(name)\r\n          + ' of ' + i(val) + ', but got ' + i(this.obj[name]) }\r\n        , function(){ return 'expected ' + i(this.obj) + ' to not have a property ' + i(name)\r\n          + ' of ' + i(val) });\r\n    }\r\n\r\n    this.obj = this.obj[name];\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Assert that the array contains _obj_ or string contains _obj_.\r\n   *\r\n   * @param {Mixed} obj|string\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.string =\r\n  Assertion.prototype.contain = function (obj) {\r\n    if ('string' == typeof this.obj) {\r\n      this.assert(\r\n          ~this.obj.indexOf(obj)\r\n        , function(){ return 'expected ' + i(this.obj) + ' to contain ' + i(obj) }\r\n        , function(){ return 'expected ' + i(this.obj) + ' to not contain ' + i(obj) });\r\n    } else {\r\n      this.assert(\r\n          ~indexOf(this.obj, obj)\r\n        , function(){ return 'expected ' + i(this.obj) + ' to contain ' + i(obj) }\r\n        , function(){ return 'expected ' + i(this.obj) + ' to not contain ' + i(obj) });\r\n    }\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Assert exact keys or inclusion of keys by using\r\n   * the `.own` modifier.\r\n   *\r\n   * @param {Array|String ...} keys\r\n   * @api public\r\n   */\r\n\r\n  Assertion.prototype.key =\r\n  Assertion.prototype.keys = function ($keys) {\r\n    var str\r\n      , ok = true;\r\n\r\n    $keys = isArray($keys)\r\n      ? $keys\r\n      : Array.prototype.slice.call(arguments);\r\n\r\n    if (!$keys.length) throw new Error('keys required');\r\n\r\n    var actual = keys(this.obj)\r\n      , len = $keys.length;\r\n\r\n    // Inclusion\r\n    ok = every($keys, function (key) {\r\n      return ~indexOf(actual, key);\r\n    });\r\n\r\n    // Strict\r\n    if (!this.flags.not && this.flags.only) {\r\n      ok = ok && $keys.length == actual.length;\r\n    }\r\n\r\n    // Key string\r\n    if (len > 1) {\r\n      $keys = map($keys, function (key) {\r\n        return i(key);\r\n      });\r\n      var last = $keys.pop();\r\n      str = $keys.join(', ') + ', and ' + last;\r\n    } else {\r\n      str = i($keys[0]);\r\n    }\r\n\r\n    // Form\r\n    str = (len > 1 ? 'keys ' : 'key ') + str;\r\n\r\n    // Have / include\r\n    str = (!this.flags.only ? 'include ' : 'only have ') + str;\r\n\r\n    // Assertion\r\n    this.assert(\r\n        ok\r\n      , function(){ return 'expected ' + i(this.obj) + ' to ' + str }\r\n      , function(){ return 'expected ' + i(this.obj) + ' to not ' + str });\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Assert a failure.\r\n   *\r\n   * @param {String ...} custom message\r\n   * @api public\r\n   */\r\n  Assertion.prototype.fail = function (msg) {\r\n    var error = function() { return msg || \"explicit failure\"; }\r\n    this.assert(false, error, error);\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Function bind implementation.\r\n   */\r\n\r\n  function bind (fn, scope) {\r\n    return function () {\r\n      return fn.apply(scope, arguments);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Array every compatibility\r\n   *\r\n   * @see bit.ly/5Fq1N2\r\n   * @api public\r\n   */\r\n\r\n  function every (arr, fn, thisObj) {\r\n    var scope = thisObj || global;\r\n    for (var i = 0, j = arr.length; i < j; ++i) {\r\n      if (!fn.call(scope, arr[i], i, arr)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Array indexOf compatibility.\r\n   *\r\n   * @see bit.ly/a5Dxa2\r\n   * @api public\r\n   */\r\n\r\n  function indexOf (arr, o, i) {\r\n    if (Array.prototype.indexOf) {\r\n      return Array.prototype.indexOf.call(arr, o, i);\r\n    }\r\n\r\n    if (arr.length === undefined) {\r\n      return -1;\r\n    }\r\n\r\n    for (var j = arr.length, i = i < 0 ? i + j < 0 ? 0 : i + j : i || 0\r\n        ; i < j && arr[i] !== o; i++);\r\n\r\n    return j <= i ? -1 : i;\r\n  }\r\n\r\n  // https://gist.github.com/1044128/\r\n  var getOuterHTML = function(element) {\r\n    if ('outerHTML' in element) return element.outerHTML;\r\n    var ns = \"http://www.w3.org/1999/xhtml\";\r\n    var container = document.createElementNS(ns, '_');\r\n    var xmlSerializer = new XMLSerializer();\r\n    var html;\r\n    if (document.xmlVersion) {\r\n      return xmlSerializer.serializeToString(element);\r\n    } else {\r\n      container.appendChild(element.cloneNode(false));\r\n      html = container.innerHTML.replace('><', '>' + element.innerHTML + '<');\r\n      container.innerHTML = '';\r\n      return html;\r\n    }\r\n  };\r\n\r\n  // Returns true if object is a DOM element.\r\n  var isDOMElement = function (object) {\r\n    if (typeof HTMLElement === 'object') {\r\n      return object instanceof HTMLElement;\r\n    } else {\r\n      return object &&\r\n        typeof object === 'object' &&\r\n        object.nodeType === 1 &&\r\n        typeof object.nodeName === 'string';\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Inspects an object.\r\n   *\r\n   * @see taken from node.js `util` module (copyright Joyent, MIT license)\r\n   * @api private\r\n   */\r\n\r\n  function i (obj, showHidden, depth) {\r\n    var seen = [];\r\n\r\n    function stylize (str) {\r\n      return str;\r\n    }\r\n\r\n    function format (value, recurseTimes) {\r\n      // Provide a hook for user-specified inspect functions.\r\n      // Check that value is an object with an inspect function on it\r\n      if (value && typeof value.inspect === 'function' &&\r\n          // Filter out the util module, it's inspect function is special\r\n          value !== exports &&\r\n          // Also filter out any prototype objects using the circular check.\r\n          !(value.constructor && value.constructor.prototype === value)) {\r\n        return value.inspect(recurseTimes);\r\n      }\r\n\r\n      // Primitive types cannot have properties\r\n      switch (typeof value) {\r\n        case 'undefined':\r\n          return stylize('undefined', 'undefined');\r\n\r\n        case 'string':\r\n          var simple = '\\'' + json.stringify(value).replace(/^\"|\"$/g, '')\r\n                                                   .replace(/'/g, \"\\\\'\")\r\n                                                   .replace(/\\\\\"/g, '\"') + '\\'';\r\n          return stylize(simple, 'string');\r\n\r\n        case 'number':\r\n          return stylize('' + value, 'number');\r\n\r\n        case 'boolean':\r\n          return stylize('' + value, 'boolean');\r\n      }\r\n      // For some reason typeof null is \"object\", so special case here.\r\n      if (value === null) {\r\n        return stylize('null', 'null');\r\n      }\r\n\r\n      if (isDOMElement(value)) {\r\n        return getOuterHTML(value);\r\n      }\r\n\r\n      // Look up the keys of the object.\r\n      var visible_keys = keys(value);\r\n      var $keys = showHidden ? Object.getOwnPropertyNames(value) : visible_keys;\r\n\r\n      // Functions without properties can be shortcutted.\r\n      if (typeof value === 'function' && $keys.length === 0) {\r\n        if (isRegExp(value)) {\r\n          return stylize('' + value, 'regexp');\r\n        } else {\r\n          var name = value.name ? ': ' + value.name : '';\r\n          return stylize('[Function' + name + ']', 'special');\r\n        }\r\n      }\r\n\r\n      // Dates without properties can be shortcutted\r\n      if (isDate(value) && $keys.length === 0) {\r\n        return stylize(value.toUTCString(), 'date');\r\n      }\r\n      \r\n      // Error objects can be shortcutted\r\n      if (value instanceof Error) {\r\n        return stylize(\"[\"+value.toString()+\"]\", 'Error');\r\n      }\r\n\r\n      var base, type, braces;\r\n      // Determine the object type\r\n      if (isArray(value)) {\r\n        type = 'Array';\r\n        braces = ['[', ']'];\r\n      } else {\r\n        type = 'Object';\r\n        braces = ['{', '}'];\r\n      }\r\n\r\n      // Make functions say that they are functions\r\n      if (typeof value === 'function') {\r\n        var n = value.name ? ': ' + value.name : '';\r\n        base = (isRegExp(value)) ? ' ' + value : ' [Function' + n + ']';\r\n      } else {\r\n        base = '';\r\n      }\r\n\r\n      // Make dates with properties first say the date\r\n      if (isDate(value)) {\r\n        base = ' ' + value.toUTCString();\r\n      }\r\n\r\n      if ($keys.length === 0) {\r\n        return braces[0] + base + braces[1];\r\n      }\r\n\r\n      if (recurseTimes < 0) {\r\n        if (isRegExp(value)) {\r\n          return stylize('' + value, 'regexp');\r\n        } else {\r\n          return stylize('[Object]', 'special');\r\n        }\r\n      }\r\n\r\n      seen.push(value);\r\n\r\n      var output = map($keys, function (key) {\r\n        var name, str;\r\n        if (value.__lookupGetter__) {\r\n          if (value.__lookupGetter__(key)) {\r\n            if (value.__lookupSetter__(key)) {\r\n              str = stylize('[Getter/Setter]', 'special');\r\n            } else {\r\n              str = stylize('[Getter]', 'special');\r\n            }\r\n          } else {\r\n            if (value.__lookupSetter__(key)) {\r\n              str = stylize('[Setter]', 'special');\r\n            }\r\n          }\r\n        }\r\n        if (indexOf(visible_keys, key) < 0) {\r\n          name = '[' + key + ']';\r\n        }\r\n        if (!str) {\r\n          if (indexOf(seen, value[key]) < 0) {\r\n            if (recurseTimes === null) {\r\n              str = format(value[key]);\r\n            } else {\r\n              str = format(value[key], recurseTimes - 1);\r\n            }\r\n            if (str.indexOf('\\n') > -1) {\r\n              if (isArray(value)) {\r\n                str = map(str.split('\\n'), function (line) {\r\n                  return '  ' + line;\r\n                }).join('\\n').substr(2);\r\n              } else {\r\n                str = '\\n' + map(str.split('\\n'), function (line) {\r\n                  return '   ' + line;\r\n                }).join('\\n');\r\n              }\r\n            }\r\n          } else {\r\n            str = stylize('[Circular]', 'special');\r\n          }\r\n        }\r\n        if (typeof name === 'undefined') {\r\n          if (type === 'Array' && key.match(/^\\d+$/)) {\r\n            return str;\r\n          }\r\n          name = json.stringify('' + key);\r\n          if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\r\n            name = name.substr(1, name.length - 2);\r\n            name = stylize(name, 'name');\r\n          } else {\r\n            name = name.replace(/'/g, \"\\\\'\")\r\n                       .replace(/\\\\\"/g, '\"')\r\n                       .replace(/(^\"|\"$)/g, \"'\");\r\n            name = stylize(name, 'string');\r\n          }\r\n        }\r\n\r\n        return name + ': ' + str;\r\n      });\r\n\r\n      seen.pop();\r\n\r\n      var numLinesEst = 0;\r\n      var length = reduce(output, function (prev, cur) {\r\n        numLinesEst++;\r\n        if (indexOf(cur, '\\n') >= 0) numLinesEst++;\r\n        return prev + cur.length + 1;\r\n      }, 0);\r\n\r\n      if (length > 50) {\r\n        output = braces[0] +\r\n                 (base === '' ? '' : base + '\\n ') +\r\n                 ' ' +\r\n                 output.join(',\\n  ') +\r\n                 ' ' +\r\n                 braces[1];\r\n\r\n      } else {\r\n        output = braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\r\n      }\r\n\r\n      return output;\r\n    }\r\n    return format(obj, (typeof depth === 'undefined' ? 2 : depth));\r\n  }\r\n\r\n  expect.stringify = i;\r\n\r\n  function isArray (ar) {\r\n    return Object.prototype.toString.call(ar) === '[object Array]';\r\n  }\r\n\r\n  function isRegExp(re) {\r\n    var s;\r\n    try {\r\n      s = '' + re;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n\r\n    return re instanceof RegExp || // easy case\r\n           // duck-type for context-switching evalcx case\r\n           typeof(re) === 'function' &&\r\n           re.constructor.name === 'RegExp' &&\r\n           re.compile &&\r\n           re.test &&\r\n           re.exec &&\r\n           s.match(/^\\/.*\\/[gim]{0,3}$/);\r\n  }\r\n\r\n  function isDate(d) {\r\n    return d instanceof Date;\r\n  }\r\n\r\n  function keys (obj) {\r\n    if (Object.keys) {\r\n      return Object.keys(obj);\r\n    }\r\n\r\n    var keys = [];\r\n\r\n    for (var i in obj) {\r\n      if (Object.prototype.hasOwnProperty.call(obj, i)) {\r\n        keys.push(i);\r\n      }\r\n    }\r\n\r\n    return keys;\r\n  }\r\n\r\n  function map (arr, mapper, that) {\r\n    if (Array.prototype.map) {\r\n      return Array.prototype.map.call(arr, mapper, that);\r\n    }\r\n\r\n    var other= new Array(arr.length);\r\n\r\n    for (var i= 0, n = arr.length; i<n; i++)\r\n      if (i in arr)\r\n        other[i] = mapper.call(that, arr[i], i, arr);\r\n\r\n    return other;\r\n  }\r\n\r\n  function reduce (arr, fun) {\r\n    if (Array.prototype.reduce) {\r\n      return Array.prototype.reduce.apply(\r\n          arr\r\n        , Array.prototype.slice.call(arguments, 1)\r\n      );\r\n    }\r\n\r\n    var len = +this.length;\r\n\r\n    if (typeof fun !== \"function\")\r\n      throw new TypeError();\r\n\r\n    // no value to return if no initial value and an empty array\r\n    if (len === 0 && arguments.length === 1)\r\n      throw new TypeError();\r\n\r\n    var i = 0;\r\n    if (arguments.length >= 2) {\r\n      var rv = arguments[1];\r\n    } else {\r\n      do {\r\n        if (i in this) {\r\n          rv = this[i++];\r\n          break;\r\n        }\r\n\r\n        // if array contains no values, no initial value to return\r\n        if (++i >= len)\r\n          throw new TypeError();\r\n      } while (true);\r\n    }\r\n\r\n    for (; i < len; i++) {\r\n      if (i in this)\r\n        rv = fun.call(null, rv, this[i], i, this);\r\n    }\r\n\r\n    return rv;\r\n  }\r\n\r\n  /**\r\n   * Asserts deep equality\r\n   *\r\n   * @see taken from node.js `assert` module (copyright Joyent, MIT license)\r\n   * @api private\r\n   */\r\n\r\n  expect.eql = function eql(actual, expected) {\r\n    // 7.1. All identical values are equivalent, as determined by ===.\r\n    if (actual === expected) {\r\n      return true;\r\n    } else if ('undefined' != typeof Buffer\r\n      && Buffer.isBuffer(actual) && Buffer.isBuffer(expected)) {\r\n      if (actual.length != expected.length) return false;\r\n\r\n      for (var i = 0; i < actual.length; i++) {\r\n        if (actual[i] !== expected[i]) return false;\r\n      }\r\n\r\n      return true;\r\n\r\n      // 7.2. If the expected value is a Date object, the actual value is\r\n      // equivalent if it is also a Date object that refers to the same time.\r\n    } else if (actual instanceof Date && expected instanceof Date) {\r\n      return actual.getTime() === expected.getTime();\r\n\r\n      // 7.3. Other pairs that do not both pass typeof value == \"object\",\r\n      // equivalence is determined by ==.\r\n    } else if (typeof actual != 'object' && typeof expected != 'object') {\r\n      return actual == expected;\r\n    // If both are regular expression use the special `regExpEquiv` method\r\n    // to determine equivalence.\r\n    } else if (isRegExp(actual) && isRegExp(expected)) {\r\n      return regExpEquiv(actual, expected);\r\n    // 7.4. For all other Object pairs, including Array objects, equivalence is\r\n    // determined by having the same number of owned properties (as verified\r\n    // with Object.prototype.hasOwnProperty.call), the same set of keys\r\n    // (although not necessarily the same order), equivalent values for every\r\n    // corresponding key, and an identical \"prototype\" property. Note: this\r\n    // accounts for both named and indexed properties on Arrays.\r\n    } else {\r\n      return objEquiv(actual, expected);\r\n    }\r\n  };\r\n\r\n  function isUndefinedOrNull (value) {\r\n    return value === null || value === undefined;\r\n  }\r\n\r\n  function isArguments (object) {\r\n    return Object.prototype.toString.call(object) == '[object Arguments]';\r\n  }\r\n\r\n  function regExpEquiv (a, b) {\r\n    return a.source === b.source && a.global === b.global &&\r\n           a.ignoreCase === b.ignoreCase && a.multiline === b.multiline;\r\n  }\r\n\r\n  function objEquiv (a, b) {\r\n    if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\r\n      return false;\r\n    // an identical \"prototype\" property.\r\n    if (a.prototype !== b.prototype) return false;\r\n    //~~~I've managed to break Object.keys through screwy arguments passing.\r\n    //   Converting to array solves the problem.\r\n    if (isArguments(a)) {\r\n      if (!isArguments(b)) {\r\n        return false;\r\n      }\r\n      a = pSlice.call(a);\r\n      b = pSlice.call(b);\r\n      return expect.eql(a, b);\r\n    }\r\n    try{\r\n      var ka = keys(a),\r\n        kb = keys(b),\r\n        key, i;\r\n    } catch (e) {//happens when one is a string literal and the other isn't\r\n      return false;\r\n    }\r\n    // having the same number of owned properties (keys incorporates hasOwnProperty)\r\n    if (ka.length != kb.length)\r\n      return false;\r\n    //the same set of keys (although not necessarily the same order),\r\n    ka.sort();\r\n    kb.sort();\r\n    //~~~cheap key test\r\n    for (i = ka.length - 1; i >= 0; i--) {\r\n      if (ka[i] != kb[i])\r\n        return false;\r\n    }\r\n    //equivalent values for every corresponding key, and\r\n    //~~~possibly expensive deep test\r\n    for (i = ka.length - 1; i >= 0; i--) {\r\n      key = ka[i];\r\n      if (!expect.eql(a[key], b[key]))\r\n         return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  var json = (function () {\r\n    \"use strict\";\r\n\r\n    if ('object' == typeof JSON && JSON.parse && JSON.stringify) {\r\n      return {\r\n          parse: nativeJSON.parse\r\n        , stringify: nativeJSON.stringify\r\n      }\r\n    }\r\n\r\n    var JSON = {};\r\n\r\n    function f(n) {\r\n        // Format integers to have at least two digits.\r\n        return n < 10 ? '0' + n : n;\r\n    }\r\n\r\n    function date(d, key) {\r\n      return isFinite(d.valueOf()) ?\r\n          d.getUTCFullYear()     + '-' +\r\n          f(d.getUTCMonth() + 1) + '-' +\r\n          f(d.getUTCDate())      + 'T' +\r\n          f(d.getUTCHours())     + ':' +\r\n          f(d.getUTCMinutes())   + ':' +\r\n          f(d.getUTCSeconds())   + 'Z' : null;\r\n    }\r\n\r\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\r\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\r\n        gap,\r\n        indent,\r\n        meta = {    // table of character substitutions\r\n            '\\b': '\\\\b',\r\n            '\\t': '\\\\t',\r\n            '\\n': '\\\\n',\r\n            '\\f': '\\\\f',\r\n            '\\r': '\\\\r',\r\n            '\"' : '\\\\\"',\r\n            '\\\\': '\\\\\\\\'\r\n        },\r\n        rep;\r\n\r\n\r\n    function quote(string) {\r\n\r\n  // If the string contains no control characters, no quote characters, and no\r\n  // backslash characters, then we can safely slap some quotes around it.\r\n  // Otherwise we must also replace the offending characters with safe escape\r\n  // sequences.\r\n\r\n        escapable.lastIndex = 0;\r\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\r\n            var c = meta[a];\r\n            return typeof c === 'string' ? c :\r\n                '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\r\n        }) + '\"' : '\"' + string + '\"';\r\n    }\r\n\r\n\r\n    function str(key, holder) {\r\n\r\n  // Produce a string from holder[key].\r\n\r\n        var i,          // The loop counter.\r\n            k,          // The member key.\r\n            v,          // The member value.\r\n            length,\r\n            mind = gap,\r\n            partial,\r\n            value = holder[key];\r\n\r\n  // If the value has a toJSON method, call it to obtain a replacement value.\r\n\r\n        if (value instanceof Date) {\r\n            value = date(key);\r\n        }\r\n\r\n  // If we were called with a replacer function, then call the replacer to\r\n  // obtain a replacement value.\r\n\r\n        if (typeof rep === 'function') {\r\n            value = rep.call(holder, key, value);\r\n        }\r\n\r\n  // What happens next depends on the value's type.\r\n\r\n        switch (typeof value) {\r\n        case 'string':\r\n            return quote(value);\r\n\r\n        case 'number':\r\n\r\n  // JSON numbers must be finite. Encode non-finite numbers as null.\r\n\r\n            return isFinite(value) ? String(value) : 'null';\r\n\r\n        case 'boolean':\r\n        case 'null':\r\n\r\n  // If the value is a boolean or null, convert it to a string. Note:\r\n  // typeof null does not produce 'null'. The case is included here in\r\n  // the remote chance that this gets fixed someday.\r\n\r\n            return String(value);\r\n\r\n  // If the type is 'object', we might be dealing with an object or an array or\r\n  // null.\r\n\r\n        case 'object':\r\n\r\n  // Due to a specification blunder in ECMAScript, typeof null is 'object',\r\n  // so watch out for that case.\r\n\r\n            if (!value) {\r\n                return 'null';\r\n            }\r\n\r\n  // Make an array to hold the partial results of stringifying this object value.\r\n\r\n            gap += indent;\r\n            partial = [];\r\n\r\n  // Is the value an array?\r\n\r\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\r\n\r\n  // The value is an array. Stringify every element. Use null as a placeholder\r\n  // for non-JSON values.\r\n\r\n                length = value.length;\r\n                for (i = 0; i < length; i += 1) {\r\n                    partial[i] = str(i, value) || 'null';\r\n                }\r\n\r\n  // Join all of the elements together, separated with commas, and wrap them in\r\n  // brackets.\r\n\r\n                v = partial.length === 0 ? '[]' : gap ?\r\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\r\n                    '[' + partial.join(',') + ']';\r\n                gap = mind;\r\n                return v;\r\n            }\r\n\r\n  // If the replacer is an array, use it to select the members to be stringified.\r\n\r\n            if (rep && typeof rep === 'object') {\r\n                length = rep.length;\r\n                for (i = 0; i < length; i += 1) {\r\n                    if (typeof rep[i] === 'string') {\r\n                        k = rep[i];\r\n                        v = str(k, value);\r\n                        if (v) {\r\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n\r\n  // Otherwise, iterate through all of the keys in the object.\r\n\r\n                for (k in value) {\r\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\r\n                        v = str(k, value);\r\n                        if (v) {\r\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n  // Join all of the member texts together, separated with commas,\r\n  // and wrap them in braces.\r\n\r\n            v = partial.length === 0 ? '{}' : gap ?\r\n                '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\r\n                '{' + partial.join(',') + '}';\r\n            gap = mind;\r\n            return v;\r\n        }\r\n    }\r\n\r\n  // If the JSON object does not yet have a stringify method, give it one.\r\n\r\n    JSON.stringify = function (value, replacer, space) {\r\n\r\n  // The stringify method takes a value and an optional replacer, and an optional\r\n  // space parameter, and returns a JSON text. The replacer can be a function\r\n  // that can replace values, or an array of strings that will select the keys.\r\n  // A default replacer method can be provided. Use of the space parameter can\r\n  // produce text that is more easily readable.\r\n\r\n        var i;\r\n        gap = '';\r\n        indent = '';\r\n\r\n  // If the space parameter is a number, make an indent string containing that\r\n  // many spaces.\r\n\r\n        if (typeof space === 'number') {\r\n            for (i = 0; i < space; i += 1) {\r\n                indent += ' ';\r\n            }\r\n\r\n  // If the space parameter is a string, it will be used as the indent string.\r\n\r\n        } else if (typeof space === 'string') {\r\n            indent = space;\r\n        }\r\n\r\n  // If there is a replacer, it must be a function or an array.\r\n  // Otherwise, throw an error.\r\n\r\n        rep = replacer;\r\n        if (replacer && typeof replacer !== 'function' &&\r\n                (typeof replacer !== 'object' ||\r\n                typeof replacer.length !== 'number')) {\r\n            throw new Error('JSON.stringify');\r\n        }\r\n\r\n  // Make a fake root object containing our value under the key of ''.\r\n  // Return the result of stringifying the value.\r\n\r\n        return str('', {'': value});\r\n    };\r\n\r\n  // If the JSON object does not yet have a parse method, give it one.\r\n\r\n    JSON.parse = function (text, reviver) {\r\n    // The parse method takes a text and an optional reviver function, and returns\r\n    // a JavaScript value if the text is a valid JSON text.\r\n\r\n        var j;\r\n\r\n        function walk(holder, key) {\r\n\r\n    // The walk method is used to recursively walk the resulting structure so\r\n    // that modifications can be made.\r\n\r\n            var k, v, value = holder[key];\r\n            if (value && typeof value === 'object') {\r\n                for (k in value) {\r\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\r\n                        v = walk(value, k);\r\n                        if (v !== undefined) {\r\n                            value[k] = v;\r\n                        } else {\r\n                            delete value[k];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return reviver.call(holder, key, value);\r\n        }\r\n\r\n\r\n    // Parsing happens in four stages. In the first stage, we replace certain\r\n    // Unicode characters with escape sequences. JavaScript handles many characters\r\n    // incorrectly, either silently deleting them, or treating them as line endings.\r\n\r\n        text = String(text);\r\n        cx.lastIndex = 0;\r\n        if (cx.test(text)) {\r\n            text = text.replace(cx, function (a) {\r\n                return '\\\\u' +\r\n                    ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\r\n            });\r\n        }\r\n\r\n    // In the second stage, we run the text against regular expressions that look\r\n    // for non-JSON patterns. We are especially concerned with '()' and 'new'\r\n    // because they can cause invocation, and '=' because it can cause mutation.\r\n    // But just to be safe, we want to reject all unexpected forms.\r\n\r\n    // We split the second stage into 4 regexp operations in order to work around\r\n    // crippling inefficiencies in IE's and Safari's regexp engines. First we\r\n    // replace the JSON backslash pairs with '@' (a non-JSON character). Second, we\r\n    // replace all simple value tokens with ']' characters. Third, we delete all\r\n    // open brackets that follow a colon or comma or that begin the text. Finally,\r\n    // we look to see that the remaining characters are only whitespace or ']' or\r\n    // ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.\r\n\r\n        if (/^[\\],:{}\\s]*$/\r\n                .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\r\n                    .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\r\n                    .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\r\n\r\n    // In the third stage we use the eval function to compile the text into a\r\n    // JavaScript structure. The '{' operator is subject to a syntactic ambiguity\r\n    // in JavaScript: it can begin a block or an object literal. We wrap the text\r\n    // in parens to eliminate the ambiguity.\r\n\r\n            j = eval('(' + text + ')');\r\n\r\n    // In the optional fourth stage, we recursively walk the new structure, passing\r\n    // each name/value pair to a reviver function for possible transformation.\r\n\r\n            return typeof reviver === 'function' ?\r\n                walk({'': j}, '') : j;\r\n        }\r\n\r\n    // If the text is not JSON parseable, then a SyntaxError is thrown.\r\n\r\n        throw new SyntaxError('JSON.parse');\r\n    };\r\n\r\n    return JSON;\r\n  })();\r\n\r\n  if ('undefined' != typeof window) {\r\n    window.expect = module.exports;\r\n  }\r\n\r\n})(\r\n    this\r\n  , 'undefined' != typeof module ? module : {exports: {}}\r\n);\r\n","Frame_Design/lib/bower_components/blueimp-load-image/test/vendor/canvas-to-blob.js":"/*\r\n * JavaScript Canvas to Blob\r\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\r\n *\r\n * Copyright 2012, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * http://www.opensource.org/licenses/MIT\r\n *\r\n * Based on stackoverflow user Stoive's code snippet:\r\n * http://stackoverflow.com/q/4998908\r\n */\r\n\r\n/*global window, atob, Blob, ArrayBuffer, Uint8Array, define, module */\r\n\r\n;(function (window) {\r\n  'use strict'\r\n\r\n  var CanvasPrototype = window.HTMLCanvasElement &&\r\n                          window.HTMLCanvasElement.prototype\r\n  var hasBlobConstructor = window.Blob && (function () {\r\n    try {\r\n      return Boolean(new Blob())\r\n    } catch (e) {\r\n      return false\r\n    }\r\n  }())\r\n  var hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array &&\r\n    (function () {\r\n      try {\r\n        return new Blob([new Uint8Array(100)]).size === 100\r\n      } catch (e) {\r\n        return false\r\n      }\r\n    }())\r\n  var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder ||\r\n                      window.MozBlobBuilder || window.MSBlobBuilder\r\n  var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/\r\n  var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob &&\r\n    window.ArrayBuffer && window.Uint8Array &&\r\n    function (dataURI) {\r\n      var matches,\r\n        mediaType,\r\n        isBase64,\r\n        dataString,\r\n        byteString,\r\n        arrayBuffer,\r\n        intArray,\r\n        i,\r\n        bb\r\n      // Parse the dataURI components as per RFC 2397\r\n      matches = dataURI.match(dataURIPattern)\r\n      if (!matches) {\r\n        throw new Error('invalid data URI')\r\n      }\r\n      // Default to text/plain;charset=US-ASCII\r\n      mediaType = matches[2]\r\n        ? matches[1]\r\n        : 'text/plain' + (matches[3] || ';charset=US-ASCII')\r\n      isBase64 = !!matches[4]\r\n      dataString = dataURI.slice(matches[0].length)\r\n      if (isBase64) {\r\n        // Convert base64 to raw binary data held in a string:\r\n        byteString = atob(dataString)\r\n      } else {\r\n        // Convert base64/URLEncoded data component to raw binary:\r\n        byteString = decodeURIComponent(dataString)\r\n      }\r\n      // Write the bytes of the string to an ArrayBuffer:\r\n      arrayBuffer = new ArrayBuffer(byteString.length)\r\n      intArray = new Uint8Array(arrayBuffer)\r\n      for (i = 0; i < byteString.length; i += 1) {\r\n        intArray[i] = byteString.charCodeAt(i)\r\n      }\r\n      // Write the ArrayBuffer (or ArrayBufferView) to a blob:\r\n      if (hasBlobConstructor) {\r\n        return new Blob(\r\n          [hasArrayBufferViewSupport ? intArray : arrayBuffer],\r\n          {type: mediaType}\r\n        )\r\n      }\r\n      bb = new BlobBuilder()\r\n      bb.append(arrayBuffer)\r\n      return bb.getBlob(mediaType)\r\n    }\r\n  if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\r\n    if (CanvasPrototype.mozGetAsFile) {\r\n      CanvasPrototype.toBlob = function (callback, type, quality) {\r\n        if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\r\n          callback(dataURLtoBlob(this.toDataURL(type, quality)))\r\n        } else {\r\n          callback(this.mozGetAsFile('blob', type))\r\n        }\r\n      }\r\n    } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\r\n      CanvasPrototype.toBlob = function (callback, type, quality) {\r\n        callback(dataURLtoBlob(this.toDataURL(type, quality)))\r\n      }\r\n    }\r\n  }\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function () {\r\n      return dataURLtoBlob\r\n    })\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    module.exports = dataURLtoBlob\r\n  } else {\r\n    window.dataURLtoBlob = dataURLtoBlob\r\n  }\r\n}(window))\r\n","Frame_Design/lib/bower_components/blueimp-load-image/js/demo.js":"/*\r\n * JavaScript Load Image Demo JS\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * http://www.opensource.org/licenses/MIT\r\n */\r\n\r\n/*global window, document, loadImage, HTMLCanvasElement, $ */\r\n\r\n$(function () {\r\n  'use strict'\r\n\r\n  var result = $('#result')\r\n  var exifNode = $('#exif')\r\n  var thumbNode = $('#thumbnail')\r\n  var actionsNode = $('#actions')\r\n  var currentFile\r\n  var coordinates\r\n  function replaceResults (img) {\r\n    var content\r\n    if (!(img.src || img instanceof HTMLCanvasElement)) {\r\n      content = $('<span>Loading image file failed</span>')\r\n    } else {\r\n      content = $('<a target=\"_blank\">').append(img)\r\n        .attr('download', currentFile.name)\r\n        .attr('href', img.src || img.toDataURL())\r\n    }\r\n    result.children().replaceWith(content)\r\n    if (img.getContext) {\r\n      actionsNode.show()\r\n    }\r\n  }\r\n  function displayImage (file, options) {\r\n    currentFile = file\r\n    if (!loadImage(\r\n        file,\r\n        replaceResults,\r\n        options\r\n      )) {\r\n      result.children().replaceWith(\r\n        $('<span>Your browser does not support the URL or FileReader API.</span>')\r\n      )\r\n    }\r\n  }\r\n  function displayExifData (exif) {\r\n    var thumbnail = exif.get('Thumbnail')\r\n    var tags = exif.getAll()\r\n    var table = exifNode.find('table').empty()\r\n    var row = $('<tr></tr>')\r\n    var cell = $('<td></td>')\r\n    var prop\r\n    if (thumbnail) {\r\n      thumbNode.empty()\r\n      loadImage(thumbnail, function (img) {\r\n        thumbNode.append(img).show()\r\n      }, {orientation: exif.get('Orientation')})\r\n    }\r\n    for (prop in tags) {\r\n      if (tags.hasOwnProperty(prop)) {\r\n        table.append(\r\n          row.clone()\r\n            .append(cell.clone().text(prop))\r\n            .append(cell.clone().text(tags[prop]))\r\n        )\r\n      }\r\n    }\r\n    exifNode.show()\r\n  }\r\n  function dropChangeHandler (e) {\r\n    e.preventDefault()\r\n    e = e.originalEvent\r\n    var target = e.dataTransfer || e.target\r\n    var file = target && target.files && target.files[0]\r\n    var options = {\r\n      maxWidth: result.width(),\r\n      canvas: true,\r\n      pixelRatio: window.devicePixelRatio,\r\n      downsamplingRatio: 0.5\r\n    }\r\n    if (!file) {\r\n      return\r\n    }\r\n    exifNode.hide()\r\n    thumbNode.hide()\r\n    loadImage.parseMetaData(file, function (data) {\r\n      if (data.exif) {\r\n        options.orientation = data.exif.get('Orientation')\r\n        displayExifData(data.exif)\r\n      }\r\n      displayImage(file, options)\r\n    })\r\n  }\r\n  // Hide URL/FileReader API requirement message in capable browsers:\r\n  if (window.createObjectURL || window.URL || window.webkitURL || window.FileReader) {\r\n    result.children().hide()\r\n  }\r\n  $(document)\r\n    .on('dragover', function (e) {\r\n      e.preventDefault()\r\n      e = e.originalEvent\r\n      e.dataTransfer.dropEffect = 'copy'\r\n    })\r\n    .on('drop', dropChangeHandler)\r\n  $('#file-input').on('change', dropChangeHandler)\r\n  $('#edit').on('click', function (event) {\r\n    event.preventDefault()\r\n    var imgNode = result.find('img, canvas')\r\n    var img = imgNode[0]\r\n    var pixelRatio = window.devicePixelRatio || 1\r\n    imgNode.Jcrop({\r\n      setSelect: [\r\n        40,\r\n        40,\r\n        (img.width / pixelRatio) - 40,\r\n        (img.height / pixelRatio) - 40\r\n      ],\r\n      onSelect: function (coords) {\r\n        coordinates = coords\r\n      },\r\n      onRelease: function () {\r\n        coordinates = null\r\n      }\r\n    }).parent().on('click', function (event) {\r\n      event.preventDefault()\r\n    })\r\n  })\r\n  $('#crop').on('click', function (event) {\r\n    event.preventDefault()\r\n    var img = result.find('img, canvas')[0]\r\n    var pixelRatio = window.devicePixelRatio || 1\r\n    if (img && coordinates) {\r\n      replaceResults(loadImage.scale(img, {\r\n        left: coordinates.x * pixelRatio,\r\n        top: coordinates.y * pixelRatio,\r\n        sourceWidth: coordinates.w * pixelRatio,\r\n        sourceHeight: coordinates.h * pixelRatio,\r\n        minWidth: result.width(),\r\n        maxWidth: result.width(),\r\n        pixelRatio: pixelRatio,\r\n        downsamplingRatio: 0.5\r\n      }))\r\n      coordinates = null\r\n    }\r\n  })\r\n})\r\n","Frame_Design/lib/bower_components/blueimp-load-image/js/load-image-orientation.js":"/*\r\n * JavaScript Load Image Orientation\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * http://www.opensource.org/licenses/MIT\r\n */\r\n\r\n/*global define, module, require, window */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n}(function (loadImage) {\r\n  'use strict'\r\n\r\n  var originalHasCanvasOption = loadImage.hasCanvasOption\r\n  var originalTransformCoordinates = loadImage.transformCoordinates\r\n  var originalGetTransformedOptions = loadImage.getTransformedOptions\r\n\r\n  // This method is used to determine if the target image\r\n  // should be a canvas element:\r\n  loadImage.hasCanvasOption = function (options) {\r\n    return !!options.orientation ||\r\n      originalHasCanvasOption.call(loadImage, options)\r\n  }\r\n\r\n  // Transform image orientation based on\r\n  // the given EXIF orientation option:\r\n  loadImage.transformCoordinates = function (canvas, options) {\r\n    originalTransformCoordinates.call(loadImage, canvas, options)\r\n    var ctx = canvas.getContext('2d')\r\n    var width = canvas.width\r\n    var height = canvas.height\r\n    var styleWidth = canvas.style.width\r\n    var styleHeight = canvas.style.height\r\n    var orientation = options.orientation\r\n    if (!orientation || orientation > 8) {\r\n      return\r\n    }\r\n    if (orientation > 4) {\r\n      canvas.width = height\r\n      canvas.height = width\r\n      canvas.style.width = styleHeight\r\n      canvas.style.height = styleWidth\r\n    }\r\n    switch (orientation) {\r\n      case 2:\r\n        // horizontal flip\r\n        ctx.translate(width, 0)\r\n        ctx.scale(-1, 1)\r\n        break\r\n      case 3:\r\n        // 180\u00c2\u00b0 rotate left\r\n        ctx.translate(width, height)\r\n        ctx.rotate(Math.PI)\r\n        break\r\n      case 4:\r\n        // vertical flip\r\n        ctx.translate(0, height)\r\n        ctx.scale(1, -1)\r\n        break\r\n      case 5:\r\n        // vertical flip + 90 rotate right\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.scale(1, -1)\r\n        break\r\n      case 6:\r\n        // 90\u00c2\u00b0 rotate right\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.translate(0, -height)\r\n        break\r\n      case 7:\r\n        // horizontal flip + 90 rotate right\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.translate(width, -height)\r\n        ctx.scale(-1, 1)\r\n        break\r\n      case 8:\r\n        // 90\u00c2\u00b0 rotate left\r\n        ctx.rotate(-0.5 * Math.PI)\r\n        ctx.translate(-width, 0)\r\n        break\r\n    }\r\n  }\r\n\r\n  // Transforms coordinate and dimension options\r\n  // based on the given orientation option:\r\n  loadImage.getTransformedOptions = function (img, opts) {\r\n    var options = originalGetTransformedOptions.call(loadImage, img, opts)\r\n    var orientation = options.orientation\r\n    var newOptions\r\n    var i\r\n    if (!orientation || orientation > 8 || orientation === 1) {\r\n      return options\r\n    }\r\n    newOptions = {}\r\n    for (i in options) {\r\n      if (options.hasOwnProperty(i)) {\r\n        newOptions[i] = options[i]\r\n      }\r\n    }\r\n    switch (options.orientation) {\r\n      case 2:\r\n        // horizontal flip\r\n        newOptions.left = options.right\r\n        newOptions.right = options.left\r\n        break\r\n      case 3:\r\n        // 180\u00c2\u00b0 rotate left\r\n        newOptions.left = options.right\r\n        newOptions.top = options.bottom\r\n        newOptions.right = options.left\r\n        newOptions.bottom = options.top\r\n        break\r\n      case 4:\r\n        // vertical flip\r\n        newOptions.top = options.bottom\r\n        newOptions.bottom = options.top\r\n        break\r\n      case 5:\r\n        // vertical flip + 90 rotate right\r\n        newOptions.left = options.top\r\n        newOptions.top = options.left\r\n        newOptions.right = options.bottom\r\n        newOptions.bottom = options.right\r\n        break\r\n      case 6:\r\n        // 90\u00c2\u00b0 rotate right\r\n        newOptions.left = options.top\r\n        newOptions.top = options.right\r\n        newOptions.right = options.bottom\r\n        newOptions.bottom = options.left\r\n        break\r\n      case 7:\r\n        // horizontal flip + 90 rotate right\r\n        newOptions.left = options.bottom\r\n        newOptions.top = options.right\r\n        newOptions.right = options.top\r\n        newOptions.bottom = options.left\r\n        break\r\n      case 8:\r\n        // 90\u00c2\u00b0 rotate left\r\n        newOptions.left = options.bottom\r\n        newOptions.top = options.left\r\n        newOptions.right = options.top\r\n        newOptions.bottom = options.right\r\n        break\r\n    }\r\n    if (options.orientation > 4) {\r\n      newOptions.maxWidth = options.maxHeight\r\n      newOptions.maxHeight = options.maxWidth\r\n      newOptions.minWidth = options.minHeight\r\n      newOptions.minHeight = options.minWidth\r\n      newOptions.sourceWidth = options.sourceHeight\r\n      newOptions.sourceHeight = options.sourceWidth\r\n    }\r\n    return newOptions\r\n  }\r\n}))\r\n","Frame_Design/lib/bower_components/blueimp-load-image/js/load-image-exif-map.js":"/*\r\n * JavaScript Load Image Exif Map\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Exif tags mapping based on\r\n * https://github.com/jseidelin/exif-js\r\n *\r\n * Licensed under the MIT license:\r\n * http://www.opensource.org/licenses/MIT\r\n */\r\n\r\n/*global define, module, require, window */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image', './load-image-exif'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'), require('./load-image-exif'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n}(function (loadImage) {\r\n  'use strict'\r\n\r\n  loadImage.ExifMap.prototype.tags = {\r\n    // =================\r\n    // TIFF tags (IFD0):\r\n    // =================\r\n    0x0100: 'ImageWidth',\r\n    0x0101: 'ImageHeight',\r\n    0x8769: 'ExifIFDPointer',\r\n    0x8825: 'GPSInfoIFDPointer',\r\n    0xA005: 'InteroperabilityIFDPointer',\r\n    0x0102: 'BitsPerSample',\r\n    0x0103: 'Compression',\r\n    0x0106: 'PhotometricInterpretation',\r\n    0x0112: 'Orientation',\r\n    0x0115: 'SamplesPerPixel',\r\n    0x011C: 'PlanarConfiguration',\r\n    0x0212: 'YCbCrSubSampling',\r\n    0x0213: 'YCbCrPositioning',\r\n    0x011A: 'XResolution',\r\n    0x011B: 'YResolution',\r\n    0x0128: 'ResolutionUnit',\r\n    0x0111: 'StripOffsets',\r\n    0x0116: 'RowsPerStrip',\r\n    0x0117: 'StripByteCounts',\r\n    0x0201: 'JPEGInterchangeFormat',\r\n    0x0202: 'JPEGInterchangeFormatLength',\r\n    0x012D: 'TransferFunction',\r\n    0x013E: 'WhitePoint',\r\n    0x013F: 'PrimaryChromaticities',\r\n    0x0211: 'YCbCrCoefficients',\r\n    0x0214: 'ReferenceBlackWhite',\r\n    0x0132: 'DateTime',\r\n    0x010E: 'ImageDescription',\r\n    0x010F: 'Make',\r\n    0x0110: 'Model',\r\n    0x0131: 'Software',\r\n    0x013B: 'Artist',\r\n    0x8298: 'Copyright',\r\n    // ==================\r\n    // Exif Sub IFD tags:\r\n    // ==================\r\n    0x9000: 'ExifVersion', // EXIF version\r\n    0xA000: 'FlashpixVersion', // Flashpix format version\r\n    0xA001: 'ColorSpace', // Color space information tag\r\n    0xA002: 'PixelXDimension', // Valid width of meaningful image\r\n    0xA003: 'PixelYDimension', // Valid height of meaningful image\r\n    0xA500: 'Gamma',\r\n    0x9101: 'ComponentsConfiguration', // Information about channels\r\n    0x9102: 'CompressedBitsPerPixel', // Compressed bits per pixel\r\n    0x927C: 'MakerNote', // Any desired information written by the manufacturer\r\n    0x9286: 'UserComment', // Comments by user\r\n    0xA004: 'RelatedSoundFile', // Name of related sound file\r\n    0x9003: 'DateTimeOriginal', // Date and time when the original image was generated\r\n    0x9004: 'DateTimeDigitized', // Date and time when the image was stored digitally\r\n    0x9290: 'SubSecTime', // Fractions of seconds for DateTime\r\n    0x9291: 'SubSecTimeOriginal', // Fractions of seconds for DateTimeOriginal\r\n    0x9292: 'SubSecTimeDigitized', // Fractions of seconds for DateTimeDigitized\r\n    0x829A: 'ExposureTime', // Exposure time (in seconds)\r\n    0x829D: 'FNumber',\r\n    0x8822: 'ExposureProgram', // Exposure program\r\n    0x8824: 'SpectralSensitivity', // Spectral sensitivity\r\n    0x8827: 'PhotographicSensitivity', // EXIF 2.3, ISOSpeedRatings in EXIF 2.2\r\n    0x8828: 'OECF', // Optoelectric conversion factor\r\n    0x8830: 'SensitivityType',\r\n    0x8831: 'StandardOutputSensitivity',\r\n    0x8832: 'RecommendedExposureIndex',\r\n    0x8833: 'ISOSpeed',\r\n    0x8834: 'ISOSpeedLatitudeyyy',\r\n    0x8835: 'ISOSpeedLatitudezzz',\r\n    0x9201: 'ShutterSpeedValue', // Shutter speed\r\n    0x9202: 'ApertureValue', // Lens aperture\r\n    0x9203: 'BrightnessValue', // Value of brightness\r\n    0x9204: 'ExposureBias', // Exposure bias\r\n    0x9205: 'MaxApertureValue', // Smallest F number of lens\r\n    0x9206: 'SubjectDistance', // Distance to subject in meters\r\n    0x9207: 'MeteringMode', // Metering mode\r\n    0x9208: 'LightSource', // Kind of light source\r\n    0x9209: 'Flash', // Flash status\r\n    0x9214: 'SubjectArea', // Location and area of main subject\r\n    0x920A: 'FocalLength', // Focal length of the lens in mm\r\n    0xA20B: 'FlashEnergy', // Strobe energy in BCPS\r\n    0xA20C: 'SpatialFrequencyResponse',\r\n    0xA20E: 'FocalPlaneXResolution', // Number of pixels in width direction per FPRUnit\r\n    0xA20F: 'FocalPlaneYResolution', // Number of pixels in height direction per FPRUnit\r\n    0xA210: 'FocalPlaneResolutionUnit', // Unit for measuring the focal plane resolution\r\n    0xA214: 'SubjectLocation', // Location of subject in image\r\n    0xA215: 'ExposureIndex', // Exposure index selected on camera\r\n    0xA217: 'SensingMethod', // Image sensor type\r\n    0xA300: 'FileSource', // Image source (3 == DSC)\r\n    0xA301: 'SceneType', // Scene type (1 == directly photographed)\r\n    0xA302: 'CFAPattern', // Color filter array geometric pattern\r\n    0xA401: 'CustomRendered', // Special processing\r\n    0xA402: 'ExposureMode', // Exposure mode\r\n    0xA403: 'WhiteBalance', // 1 = auto white balance, 2 = manual\r\n    0xA404: 'DigitalZoomRatio', // Digital zoom ratio\r\n    0xA405: 'FocalLengthIn35mmFilm',\r\n    0xA406: 'SceneCaptureType', // Type of scene\r\n    0xA407: 'GainControl', // Degree of overall image gain adjustment\r\n    0xA408: 'Contrast', // Direction of contrast processing applied by camera\r\n    0xA409: 'Saturation', // Direction of saturation processing applied by camera\r\n    0xA40A: 'Sharpness', // Direction of sharpness processing applied by camera\r\n    0xA40B: 'DeviceSettingDescription',\r\n    0xA40C: 'SubjectDistanceRange', // Distance to subject\r\n    0xA420: 'ImageUniqueID', // Identifier assigned uniquely to each image\r\n    0xA430: 'CameraOwnerName',\r\n    0xA431: 'BodySerialNumber',\r\n    0xA432: 'LensSpecification',\r\n    0xA433: 'LensMake',\r\n    0xA434: 'LensModel',\r\n    0xA435: 'LensSerialNumber',\r\n    // ==============\r\n    // GPS Info tags:\r\n    // ==============\r\n    0x0000: 'GPSVersionID',\r\n    0x0001: 'GPSLatitudeRef',\r\n    0x0002: 'GPSLatitude',\r\n    0x0003: 'GPSLongitudeRef',\r\n    0x0004: 'GPSLongitude',\r\n    0x0005: 'GPSAltitudeRef',\r\n    0x0006: 'GPSAltitude',\r\n    0x0007: 'GPSTimeStamp',\r\n    0x0008: 'GPSSatellites',\r\n    0x0009: 'GPSStatus',\r\n    0x000A: 'GPSMeasureMode',\r\n    0x000B: 'GPSDOP',\r\n    0x000C: 'GPSSpeedRef',\r\n    0x000D: 'GPSSpeed',\r\n    0x000E: 'GPSTrackRef',\r\n    0x000F: 'GPSTrack',\r\n    0x0010: 'GPSImgDirectionRef',\r\n    0x0011: 'GPSImgDirection',\r\n    0x0012: 'GPSMapDatum',\r\n    0x0013: 'GPSDestLatitudeRef',\r\n    0x0014: 'GPSDestLatitude',\r\n    0x0015: 'GPSDestLongitudeRef',\r\n    0x0016: 'GPSDestLongitude',\r\n    0x0017: 'GPSDestBearingRef',\r\n    0x0018: 'GPSDestBearing',\r\n    0x0019: 'GPSDestDistanceRef',\r\n    0x001A: 'GPSDestDistance',\r\n    0x001B: 'GPSProcessingMethod',\r\n    0x001C: 'GPSAreaInformation',\r\n    0x001D: 'GPSDateStamp',\r\n    0x001E: 'GPSDifferential',\r\n    0x001F: 'GPSHPositioningError'\r\n  }\r\n\r\n  loadImage.ExifMap.prototype.stringValues = {\r\n    ExposureProgram: {\r\n      0: 'Undefined',\r\n      1: 'Manual',\r\n      2: 'Normal program',\r\n      3: 'Aperture priority',\r\n      4: 'Shutter priority',\r\n      5: 'Creative program',\r\n      6: 'Action program',\r\n      7: 'Portrait mode',\r\n      8: 'Landscape mode'\r\n    },\r\n    MeteringMode: {\r\n      0: 'Unknown',\r\n      1: 'Average',\r\n      2: 'CenterWeightedAverage',\r\n      3: 'Spot',\r\n      4: 'MultiSpot',\r\n      5: 'Pattern',\r\n      6: 'Partial',\r\n      255: 'Other'\r\n    },\r\n    LightSource: {\r\n      0: 'Unknown',\r\n      1: 'Daylight',\r\n      2: 'Fluorescent',\r\n      3: 'Tungsten (incandescent light)',\r\n      4: 'Flash',\r\n      9: 'Fine weather',\r\n      10: 'Cloudy weather',\r\n      11: 'Shade',\r\n      12: 'Daylight fluorescent (D 5700 - 7100K)',\r\n      13: 'Day white fluorescent (N 4600 - 5400K)',\r\n      14: 'Cool white fluorescent (W 3900 - 4500K)',\r\n      15: 'White fluorescent (WW 3200 - 3700K)',\r\n      17: 'Standard light A',\r\n      18: 'Standard light B',\r\n      19: 'Standard light C',\r\n      20: 'D55',\r\n      21: 'D65',\r\n      22: 'D75',\r\n      23: 'D50',\r\n      24: 'ISO studio tungsten',\r\n      255: 'Other'\r\n    },\r\n    Flash: {\r\n      0x0000: 'Flash did not fire',\r\n      0x0001: 'Flash fired',\r\n      0x0005: 'Strobe return light not detected',\r\n      0x0007: 'Strobe return light detected',\r\n      0x0009: 'Flash fired, compulsory flash mode',\r\n      0x000D: 'Flash fired, compulsory flash mode, return light not detected',\r\n      0x000F: 'Flash fired, compulsory flash mode, return light detected',\r\n      0x0010: 'Flash did not fire, compulsory flash mode',\r\n      0x0018: 'Flash did not fire, auto mode',\r\n      0x0019: 'Flash fired, auto mode',\r\n      0x001D: 'Flash fired, auto mode, return light not detected',\r\n      0x001F: 'Flash fired, auto mode, return light detected',\r\n      0x0020: 'No flash function',\r\n      0x0041: 'Flash fired, red-eye reduction mode',\r\n      0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\r\n      0x0047: 'Flash fired, red-eye reduction mode, return light detected',\r\n      0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\r\n      0x004D: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\r\n      0x004F: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\r\n      0x0059: 'Flash fired, auto mode, red-eye reduction mode',\r\n      0x005D: 'Flash fired, auto mode, return light not detected, red-eye reduction mode',\r\n      0x005F: 'Flash fired, auto mode, return light detected, red-eye reduction mode'\r\n    },\r\n    SensingMethod: {\r\n      1: 'Undefined',\r\n      2: 'One-chip color area sensor',\r\n      3: 'Two-chip color area sensor',\r\n      4: 'Three-chip color area sensor',\r\n      5: 'Color sequential area sensor',\r\n      7: 'Trilinear sensor',\r\n      8: 'Color sequential linear sensor'\r\n    },\r\n    SceneCaptureType: {\r\n      0: 'Standard',\r\n      1: 'Landscape',\r\n      2: 'Portrait',\r\n      3: 'Night scene'\r\n    },\r\n    SceneType: {\r\n      1: 'Directly photographed'\r\n    },\r\n    CustomRendered: {\r\n      0: 'Normal process',\r\n      1: 'Custom process'\r\n    },\r\n    WhiteBalance: {\r\n      0: 'Auto white balance',\r\n      1: 'Manual white balance'\r\n    },\r\n    GainControl: {\r\n      0: 'None',\r\n      1: 'Low gain up',\r\n      2: 'High gain up',\r\n      3: 'Low gain down',\r\n      4: 'High gain down'\r\n    },\r\n    Contrast: {\r\n      0: 'Normal',\r\n      1: 'Soft',\r\n      2: 'Hard'\r\n    },\r\n    Saturation: {\r\n      0: 'Normal',\r\n      1: 'Low saturation',\r\n      2: 'High saturation'\r\n    },\r\n    Sharpness: {\r\n      0: 'Normal',\r\n      1: 'Soft',\r\n      2: 'Hard'\r\n    },\r\n    SubjectDistanceRange: {\r\n      0: 'Unknown',\r\n      1: 'Macro',\r\n      2: 'Close view',\r\n      3: 'Distant view'\r\n    },\r\n    FileSource: {\r\n      3: 'DSC'\r\n    },\r\n    ComponentsConfiguration: {\r\n      0: '',\r\n      1: 'Y',\r\n      2: 'Cb',\r\n      3: 'Cr',\r\n      4: 'R',\r\n      5: 'G',\r\n      6: 'B'\r\n    },\r\n    Orientation: {\r\n      1: 'top-left',\r\n      2: 'top-right',\r\n      3: 'bottom-right',\r\n      4: 'bottom-left',\r\n      5: 'left-top',\r\n      6: 'right-top',\r\n      7: 'right-bottom',\r\n      8: 'left-bottom'\r\n    }\r\n  }\r\n\r\n  loadImage.ExifMap.prototype.getText = function (id) {\r\n    var value = this.get(id)\r\n    switch (id) {\r\n      case 'LightSource':\r\n      case 'Flash':\r\n      case 'MeteringMode':\r\n      case 'ExposureProgram':\r\n      case 'SensingMethod':\r\n      case 'SceneCaptureType':\r\n      case 'SceneType':\r\n      case 'CustomRendered':\r\n      case 'WhiteBalance':\r\n      case 'GainControl':\r\n      case 'Contrast':\r\n      case 'Saturation':\r\n      case 'Sharpness':\r\n      case 'SubjectDistanceRange':\r\n      case 'FileSource':\r\n      case 'Orientation':\r\n        return this.stringValues[id][value]\r\n      case 'ExifVersion':\r\n      case 'FlashpixVersion':\r\n        return String.fromCharCode(value[0], value[1], value[2], value[3])\r\n      case 'ComponentsConfiguration':\r\n        return this.stringValues[id][value[0]] +\r\n        this.stringValues[id][value[1]] +\r\n        this.stringValues[id][value[2]] +\r\n        this.stringValues[id][value[3]]\r\n      case 'GPSVersionID':\r\n        return value[0] + '.' + value[1] + '.' + value[2] + '.' + value[3]\r\n    }\r\n    return String(value)\r\n  }\r\n\r\n  ;(function (exifMapPrototype) {\r\n    var tags = exifMapPrototype.tags\r\n    var map = exifMapPrototype.map\r\n    var prop\r\n    // Map the tag names to tags:\r\n    for (prop in tags) {\r\n      if (tags.hasOwnProperty(prop)) {\r\n        map[tags[prop]] = prop\r\n      }\r\n    }\r\n  }(loadImage.ExifMap.prototype))\r\n\r\n  loadImage.ExifMap.prototype.getAll = function () {\r\n    var map = {}\r\n    var prop\r\n    var id\r\n    for (prop in this) {\r\n      if (this.hasOwnProperty(prop)) {\r\n        id = this.tags[prop]\r\n        if (id) {\r\n          map[id] = this.getText(id)\r\n        }\r\n      }\r\n    }\r\n    return map\r\n  }\r\n}))\r\n","Frame_Design/lib/bower_components/blueimp-load-image/js/load-image-exif.js":"/*\r\n * JavaScript Load Image Exif Parser\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * http://www.opensource.org/licenses/MIT\r\n */\r\n\r\n/*global define, module, require, window, console */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image', './load-image-meta'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'), require('./load-image-meta'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n}(function (loadImage) {\r\n  'use strict'\r\n\r\n  loadImage.ExifMap = function () {\r\n    return this\r\n  }\r\n\r\n  loadImage.ExifMap.prototype.map = {\r\n    'Orientation': 0x0112\r\n  }\r\n\r\n  loadImage.ExifMap.prototype.get = function (id) {\r\n    return this[id] || this[this.map[id]]\r\n  }\r\n\r\n  loadImage.getExifThumbnail = function (dataView, offset, length) {\r\n    var hexData,\r\n      i,\r\n      b\r\n    if (!length || offset + length > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid thumbnail data.')\r\n      return\r\n    }\r\n    hexData = []\r\n    for (i = 0; i < length; i += 1) {\r\n      b = dataView.getUint8(offset + i)\r\n      hexData.push((b < 16 ? '0' : '') + b.toString(16))\r\n    }\r\n    return 'data:image/jpeg,%' + hexData.join('%')\r\n  }\r\n\r\n  loadImage.exifTagTypes = {\r\n    // byte, 8-bit unsigned int:\r\n    1: {\r\n      getValue: function (dataView, dataOffset) {\r\n        return dataView.getUint8(dataOffset)\r\n      },\r\n      size: 1\r\n    },\r\n    // ascii, 8-bit byte:\r\n    2: {\r\n      getValue: function (dataView, dataOffset) {\r\n        return String.fromCharCode(dataView.getUint8(dataOffset))\r\n      },\r\n      size: 1,\r\n      ascii: true\r\n    },\r\n    // short, 16 bit int:\r\n    3: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getUint16(dataOffset, littleEndian)\r\n      },\r\n      size: 2\r\n    },\r\n    // long, 32 bit int:\r\n    4: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getUint32(dataOffset, littleEndian)\r\n      },\r\n      size: 4\r\n    },\r\n    // rational = two long values, first is numerator, second is denominator:\r\n    5: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getUint32(dataOffset, littleEndian) /\r\n        dataView.getUint32(dataOffset + 4, littleEndian)\r\n      },\r\n      size: 8\r\n    },\r\n    // slong, 32 bit signed int:\r\n    9: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getInt32(dataOffset, littleEndian)\r\n      },\r\n      size: 4\r\n    },\r\n    // srational, two slongs, first is numerator, second is denominator:\r\n    10: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getInt32(dataOffset, littleEndian) /\r\n        dataView.getInt32(dataOffset + 4, littleEndian)\r\n      },\r\n      size: 8\r\n    }\r\n  }\r\n  // undefined, 8-bit byte, value depending on field:\r\n  loadImage.exifTagTypes[7] = loadImage.exifTagTypes[1]\r\n\r\n  loadImage.getExifValue = function (dataView, tiffOffset, offset, type, length, littleEndian) {\r\n    var tagType = loadImage.exifTagTypes[type]\r\n    var tagSize\r\n    var dataOffset\r\n    var values\r\n    var i\r\n    var str\r\n    var c\r\n    if (!tagType) {\r\n      console.log('Invalid Exif data: Invalid tag type.')\r\n      return\r\n    }\r\n    tagSize = tagType.size * length\r\n    // Determine if the value is contained in the dataOffset bytes,\r\n    // or if the value at the dataOffset is a pointer to the actual data:\r\n    dataOffset = tagSize > 4\r\n      ? tiffOffset + dataView.getUint32(offset + 8, littleEndian)\r\n      : (offset + 8)\r\n    if (dataOffset + tagSize > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid data offset.')\r\n      return\r\n    }\r\n    if (length === 1) {\r\n      return tagType.getValue(dataView, dataOffset, littleEndian)\r\n    }\r\n    values = []\r\n    for (i = 0; i < length; i += 1) {\r\n      values[i] = tagType.getValue(dataView, dataOffset + i * tagType.size, littleEndian)\r\n    }\r\n    if (tagType.ascii) {\r\n      str = ''\r\n      // Concatenate the chars:\r\n      for (i = 0; i < values.length; i += 1) {\r\n        c = values[i]\r\n        // Ignore the terminating NULL byte(s):\r\n        if (c === '\\u0000') {\r\n          break\r\n        }\r\n        str += c\r\n      }\r\n      return str\r\n    }\r\n    return values\r\n  }\r\n\r\n  loadImage.parseExifTag = function (dataView, tiffOffset, offset, littleEndian, data) {\r\n    var tag = dataView.getUint16(offset, littleEndian)\r\n    data.exif[tag] = loadImage.getExifValue(\r\n      dataView,\r\n      tiffOffset,\r\n      offset,\r\n      dataView.getUint16(offset + 2, littleEndian), // tag type\r\n      dataView.getUint32(offset + 4, littleEndian), // tag length\r\n      littleEndian\r\n    )\r\n  }\r\n\r\n  loadImage.parseExifTags = function (dataView, tiffOffset, dirOffset, littleEndian, data) {\r\n    var tagsNumber,\r\n      dirEndOffset,\r\n      i\r\n    if (dirOffset + 6 > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid directory offset.')\r\n      return\r\n    }\r\n    tagsNumber = dataView.getUint16(dirOffset, littleEndian)\r\n    dirEndOffset = dirOffset + 2 + 12 * tagsNumber\r\n    if (dirEndOffset + 4 > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid directory size.')\r\n      return\r\n    }\r\n    for (i = 0; i < tagsNumber; i += 1) {\r\n      this.parseExifTag(\r\n        dataView,\r\n        tiffOffset,\r\n        dirOffset + 2 + 12 * i, // tag offset\r\n        littleEndian,\r\n        data\r\n      )\r\n    }\r\n    // Return the offset to the next directory:\r\n    return dataView.getUint32(dirEndOffset, littleEndian)\r\n  }\r\n\r\n  loadImage.parseExifData = function (dataView, offset, length, data, options) {\r\n    if (options.disableExif) {\r\n      return\r\n    }\r\n    var tiffOffset = offset + 10\r\n    var littleEndian\r\n    var dirOffset\r\n    var thumbnailData\r\n    // Check for the ASCII code for \"Exif\" (0x45786966):\r\n    if (dataView.getUint32(offset + 4) !== 0x45786966) {\r\n      // No Exif data, might be XMP data instead\r\n      return\r\n    }\r\n    if (tiffOffset + 8 > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid segment size.')\r\n      return\r\n    }\r\n    // Check for the two null bytes:\r\n    if (dataView.getUint16(offset + 8) !== 0x0000) {\r\n      console.log('Invalid Exif data: Missing byte alignment offset.')\r\n      return\r\n    }\r\n    // Check the byte alignment:\r\n    switch (dataView.getUint16(tiffOffset)) {\r\n      case 0x4949:\r\n        littleEndian = true\r\n        break\r\n      case 0x4D4D:\r\n        littleEndian = false\r\n        break\r\n      default:\r\n        console.log('Invalid Exif data: Invalid byte alignment marker.')\r\n        return\r\n    }\r\n    // Check for the TIFF tag marker (0x002A):\r\n    if (dataView.getUint16(tiffOffset + 2, littleEndian) !== 0x002A) {\r\n      console.log('Invalid Exif data: Missing TIFF marker.')\r\n      return\r\n    }\r\n    // Retrieve the directory offset bytes, usually 0x00000008 or 8 decimal:\r\n    dirOffset = dataView.getUint32(tiffOffset + 4, littleEndian)\r\n    // Create the exif object to store the tags:\r\n    data.exif = new loadImage.ExifMap()\r\n    // Parse the tags of the main image directory and retrieve the\r\n    // offset to the next directory, usually the thumbnail directory:\r\n    dirOffset = loadImage.parseExifTags(\r\n      dataView,\r\n      tiffOffset,\r\n      tiffOffset + dirOffset,\r\n      littleEndian,\r\n      data\r\n    )\r\n    if (dirOffset && !options.disableExifThumbnail) {\r\n      thumbnailData = {exif: {}}\r\n      dirOffset = loadImage.parseExifTags(\r\n        dataView,\r\n        tiffOffset,\r\n        tiffOffset + dirOffset,\r\n        littleEndian,\r\n        thumbnailData\r\n      )\r\n      // Check for JPEG Thumbnail offset:\r\n      if (thumbnailData.exif[0x0201]) {\r\n        data.exif.Thumbnail = loadImage.getExifThumbnail(\r\n          dataView,\r\n          tiffOffset + thumbnailData.exif[0x0201],\r\n          thumbnailData.exif[0x0202] // Thumbnail data length\r\n        )\r\n      }\r\n    }\r\n    // Check for Exif Sub IFD Pointer:\r\n    if (data.exif[0x8769] && !options.disableExifSub) {\r\n      loadImage.parseExifTags(\r\n        dataView,\r\n        tiffOffset,\r\n        tiffOffset + data.exif[0x8769], // directory offset\r\n        littleEndian,\r\n        data\r\n      )\r\n    }\r\n    // Check for GPS Info IFD Pointer:\r\n    if (data.exif[0x8825] && !options.disableExifGps) {\r\n      loadImage.parseExifTags(\r\n        dataView,\r\n        tiffOffset,\r\n        tiffOffset + data.exif[0x8825], // directory offset\r\n        littleEndian,\r\n        data\r\n      )\r\n    }\r\n  }\r\n\r\n  // Registers the Exif parser for the APP1 JPEG meta data segment:\r\n  loadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData)\r\n\r\n  // Adds the following properties to the parseMetaData callback data:\r\n  // * exif: The exif tags, parsed by the parseExifData method\r\n\r\n  // Adds the following options to the parseMetaData method:\r\n  // * disableExif: Disables Exif parsing.\r\n  // * disableExifThumbnail: Disables parsing of the Exif Thumbnail.\r\n  // * disableExifSub: Disables parsing of the Exif Sub IFD.\r\n  // * disableExifGps: Disables parsing of the Exif GPS Info IFD.\r\n}))\r\n","Frame_Design/lib/bower_components/blueimp-load-image/js/load-image-meta.js":"/*\r\n * JavaScript Load Image Meta\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Image meta data handling implementation\r\n * based on the help and contribution of\r\n * Achim St\u00c3\u00b6hr.\r\n *\r\n * Licensed under the MIT license:\r\n * http://www.opensource.org/licenses/MIT\r\n */\r\n\r\n/*global define, module, require, window, DataView, Blob, Uint8Array, console */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n}(function (loadImage) {\r\n  'use strict'\r\n\r\n  var hasblobSlice = window.Blob && (Blob.prototype.slice ||\r\n  Blob.prototype.webkitSlice || Blob.prototype.mozSlice)\r\n\r\n  loadImage.blobSlice = hasblobSlice && function () {\r\n    var slice = this.slice || this.webkitSlice || this.mozSlice\r\n    return slice.apply(this, arguments)\r\n  }\r\n\r\n  loadImage.metaDataParsers = {\r\n    jpeg: {\r\n      0xffe1: [] // APP1 marker\r\n    }\r\n  }\r\n\r\n  // Parses image meta data and calls the callback with an object argument\r\n  // with the following properties:\r\n  // * imageHead: The complete image head as ArrayBuffer (Uint8Array for IE10)\r\n  // The options arguments accepts an object and supports the following properties:\r\n  // * maxMetaDataSize: Defines the maximum number of bytes to parse.\r\n  // * disableImageHead: Disables creating the imageHead property.\r\n  loadImage.parseMetaData = function (file, callback, options) {\r\n    options = options || {}\r\n    var that = this\r\n    // 256 KiB should contain all EXIF/ICC/IPTC segments:\r\n    var maxMetaDataSize = options.maxMetaDataSize || 262144\r\n    var data = {}\r\n    var noMetaData = !(window.DataView && file && file.size >= 12 &&\r\n                      file.type === 'image/jpeg' && loadImage.blobSlice)\r\n    if (noMetaData || !loadImage.readFile(\r\n        loadImage.blobSlice.call(file, 0, maxMetaDataSize),\r\n        function (e) {\r\n          if (e.target.error) {\r\n            // FileReader error\r\n            console.log(e.target.error)\r\n            callback(data)\r\n            return\r\n          }\r\n          // Note on endianness:\r\n          // Since the marker and length bytes in JPEG files are always\r\n          // stored in big endian order, we can leave the endian parameter\r\n          // of the DataView methods undefined, defaulting to big endian.\r\n          var buffer = e.target.result\r\n          var dataView = new DataView(buffer)\r\n          var offset = 2\r\n          var maxOffset = dataView.byteLength - 4\r\n          var headLength = offset\r\n          var markerBytes\r\n          var markerLength\r\n          var parsers\r\n          var i\r\n          // Check for the JPEG marker (0xffd8):\r\n          if (dataView.getUint16(0) === 0xffd8) {\r\n            while (offset < maxOffset) {\r\n              markerBytes = dataView.getUint16(offset)\r\n              // Search for APPn (0xffeN) and COM (0xfffe) markers,\r\n              // which contain application-specific meta-data like\r\n              // Exif, ICC and IPTC data and text comments:\r\n              if ((markerBytes >= 0xffe0 && markerBytes <= 0xffef) ||\r\n                markerBytes === 0xfffe) {\r\n                // The marker bytes (2) are always followed by\r\n                // the length bytes (2), indicating the length of the\r\n                // marker segment, which includes the length bytes,\r\n                // but not the marker bytes, so we add 2:\r\n                markerLength = dataView.getUint16(offset + 2) + 2\r\n                if (offset + markerLength > dataView.byteLength) {\r\n                  console.log('Invalid meta data: Invalid segment size.')\r\n                  break\r\n                }\r\n                parsers = loadImage.metaDataParsers.jpeg[markerBytes]\r\n                if (parsers) {\r\n                  for (i = 0; i < parsers.length; i += 1) {\r\n                    parsers[i].call(\r\n                      that,\r\n                      dataView,\r\n                      offset,\r\n                      markerLength,\r\n                      data,\r\n                      options\r\n                    )\r\n                  }\r\n                }\r\n                offset += markerLength\r\n                headLength = offset\r\n              } else {\r\n                // Not an APPn or COM marker, probably safe to\r\n                // assume that this is the end of the meta data\r\n                break\r\n              }\r\n            }\r\n            // Meta length must be longer than JPEG marker (2)\r\n            // plus APPn marker (2), followed by length bytes (2):\r\n            if (!options.disableImageHead && headLength > 6) {\r\n              if (buffer.slice) {\r\n                data.imageHead = buffer.slice(0, headLength)\r\n              } else {\r\n                // Workaround for IE10, which does not yet\r\n                // support ArrayBuffer.slice:\r\n                data.imageHead = new Uint8Array(buffer)\r\n                  .subarray(0, headLength)\r\n              }\r\n            }\r\n          } else {\r\n            console.log('Invalid JPEG file: Missing JPEG marker.')\r\n          }\r\n          callback(data)\r\n        },\r\n        'readAsArrayBuffer'\r\n      )) {\r\n      callback(data)\r\n    }\r\n  }\r\n}))\r\n","Frame_Design/lib/bower_components/blueimp-load-image/js/load-image.all.min.js":"!function(e){\"use strict\";var t=function(e,i,a){var o,r,n=document.createElement(\"img\");if(n.onerror=i,n.onload=function(){!r||a&&a.noRevoke||t.revokeObjectURL(r),i&&i(t.scale(n,a))},t.isInstanceOf(\"Blob\",e)||t.isInstanceOf(\"File\",e))o=r=t.createObjectURL(e),n._type=e.type;else{if(\"string\"!=typeof e)return!1;o=e,a&&a.crossOrigin&&(n.crossOrigin=a.crossOrigin)}return o?(n.src=o,n):t.readFile(e,function(e){var t=e.target;t&&t.result?n.src=t.result:i&&i(e)})},i=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)===\"[object \"+e+\"]\"},t.transformCoordinates=function(){},t.getTransformedOptions=function(e,t){var i,a,o,r,n=t.aspectRatio;if(!n)return t;i={};for(a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);return i.crop=!0,o=e.naturalWidth||e.width,r=e.naturalHeight||e.height,o/r>n?(i.maxWidth=r*n,i.maxHeight=r):(i.maxWidth=o,i.maxHeight=o/n),i},t.renderImageToCanvas=function(e,t,i,a,o,r,n,s,l,d){return e.getContext(\"2d\").drawImage(t,i,a,o,r,n,s,l,d),e},t.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},t.scale=function(e,i){function a(){var e=Math.max((s||y)/y,(l||v)/v);e>1&&(y*=e,v*=e)}function o(){var e=Math.min((r||y)/y,(n||v)/v);1>e&&(y*=e,v*=e)}i=i||{};var r,n,s,l,d,u,c,g,f,h,m,p=document.createElement(\"canvas\"),S=e.getContext||t.hasCanvasOption(i)&&p.getContext,b=e.naturalWidth||e.width,x=e.naturalHeight||e.height,y=b,v=x;if(S&&(i=t.getTransformedOptions(e,i),c=i.left||0,g=i.top||0,i.sourceWidth?(d=i.sourceWidth,void 0!==i.right&&void 0===i.left&&(c=b-d-i.right)):d=b-c-(i.right||0),i.sourceHeight?(u=i.sourceHeight,void 0!==i.bottom&&void 0===i.top&&(g=x-u-i.bottom)):u=x-g-(i.bottom||0),y=d,v=u),r=i.maxWidth,n=i.maxHeight,s=i.minWidth,l=i.minHeight,S&&r&&n&&i.crop?(y=r,v=n,m=d/u-r/n,0>m?(u=n*d/r,void 0===i.top&&void 0===i.bottom&&(g=(x-u)/2)):m>0&&(d=r*u/n,void 0===i.left&&void 0===i.right&&(c=(b-d)/2))):((i.contain||i.cover)&&(s=r=r||s,l=n=n||l),i.cover?(o(),a()):(a(),o())),S){if(f=i.pixelRatio,f>1&&(p.style.width=y+\"px\",p.style.height=v+\"px\",y*=f,v*=f,p.getContext(\"2d\").scale(f,f)),h=i.downsamplingRatio,h>0&&1>h&&d>y&&u>v)for(;d*h>y;)p.width=d*h,p.height=u*h,t.renderImageToCanvas(p,e,c,g,d,u,0,0,p.width,p.height),d=p.width,u=p.height,e=document.createElement(\"canvas\"),e.width=d,e.height=u,t.renderImageToCanvas(e,p,0,0,d,u,0,0,d,u);return p.width=y,p.height=v,t.transformCoordinates(p,i),t.renderImageToCanvas(p,e,c,g,d,u,0,0,y,v)}return e.width=y,e.height=v,e},t.createObjectURL=function(e){return i?i.createObjectURL(e):!1},t.revokeObjectURL=function(e){return i?i.revokeObjectURL(e):!1},t.readFile=function(e,t,i){if(window.FileReader){var a=new FileReader;if(a.onload=a.onerror=t,i=i||\"readAsDataURL\",a[i])return a[i](e),a}return!1},\"function\"==typeof define&&define.amd?define(function(){return t}):\"object\"==typeof module&&module.exports?module.exports=t:e.loadImage=t}(window),function(e){\"use strict\";\"function\"==typeof define&&define.amd?define([\"./load-image\"],e):e(\"object\"==typeof module&&module.exports?require(\"./load-image\"):window.loadImage)}(function(e){\"use strict\";var t=e.hasCanvasOption,i=e.transformCoordinates,a=e.getTransformedOptions;e.hasCanvasOption=function(i){return!!i.orientation||t.call(e,i)},e.transformCoordinates=function(t,a){i.call(e,t,a);var o=t.getContext(\"2d\"),r=t.width,n=t.height,s=t.style.width,l=t.style.height,d=a.orientation;if(d&&!(d>8))switch(d>4&&(t.width=n,t.height=r,t.style.width=l,t.style.height=s),d){case 2:o.translate(r,0),o.scale(-1,1);break;case 3:o.translate(r,n),o.rotate(Math.PI);break;case 4:o.translate(0,n),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-n);break;case 7:o.rotate(.5*Math.PI),o.translate(r,-n),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-r,0)}},e.getTransformedOptions=function(t,i){var o,r,n=a.call(e,t,i),s=n.orientation;if(!s||s>8||1===s)return n;o={};for(r in n)n.hasOwnProperty(r)&&(o[r]=n[r]);switch(n.orientation){case 2:o.left=n.right,o.right=n.left;break;case 3:o.left=n.right,o.top=n.bottom,o.right=n.left,o.bottom=n.top;break;case 4:o.top=n.bottom,o.bottom=n.top;break;case 5:o.left=n.top,o.top=n.left,o.right=n.bottom,o.bottom=n.right;break;case 6:o.left=n.top,o.top=n.right,o.right=n.bottom,o.bottom=n.left;break;case 7:o.left=n.bottom,o.top=n.right,o.right=n.top,o.bottom=n.left;break;case 8:o.left=n.bottom,o.top=n.left,o.right=n.top,o.bottom=n.right}return n.orientation>4&&(o.maxWidth=n.maxHeight,o.maxHeight=n.maxWidth,o.minWidth=n.minHeight,o.minHeight=n.minWidth,o.sourceWidth=n.sourceHeight,o.sourceHeight=n.sourceWidth),o}}),function(e){\"use strict\";\"function\"==typeof define&&define.amd?define([\"./load-image\"],e):e(\"object\"==typeof module&&module.exports?require(\"./load-image\"):window.loadImage)}(function(e){\"use strict\";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,i,a){a=a||{};var o=this,r=a.maxMetaDataSize||262144,n={},s=!(window.DataView&&t&&t.size>=12&&\"image/jpeg\"===t.type&&e.blobSlice);(s||!e.readFile(e.blobSlice.call(t,0,r),function(t){if(t.target.error)return console.log(t.target.error),void i(n);var r,s,l,d,u=t.target.result,c=new DataView(u),g=2,f=c.byteLength-4,h=g;if(65496===c.getUint16(0)){for(;f>g&&(r=c.getUint16(g),r>=65504&&65519>=r||65534===r);){if(s=c.getUint16(g+2)+2,g+s>c.byteLength){console.log(\"Invalid meta data: Invalid segment size.\");break}if(l=e.metaDataParsers.jpeg[r])for(d=0;d<l.length;d+=1)l[d].call(o,c,g,s,n,a);g+=s,h=g}!a.disableImageHead&&h>6&&(u.slice?n.imageHead=u.slice(0,h):n.imageHead=new Uint8Array(u).subarray(0,h))}else console.log(\"Invalid JPEG file: Missing JPEG marker.\");i(n)},\"readAsArrayBuffer\"))&&i(n)}}),function(e){\"use strict\";\"function\"==typeof define&&define.amd?define([\"./load-image\",\"./load-image-meta\"],e):\"object\"==typeof module&&module.exports?e(require(\"./load-image\"),require(\"./load-image-meta\")):e(window.loadImage)}(function(e){\"use strict\";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,i){var a,o,r;if(!i||t+i>e.byteLength)return void console.log(\"Invalid Exif data: Invalid thumbnail data.\");for(a=[],o=0;i>o;o+=1)r=e.getUint8(t+o),a.push((16>r?\"0\":\"\")+r.toString(16));return\"data:image/jpeg,%\"+a.join(\"%\")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,i,a,o,r,n){var s,l,d,u,c,g,f=e.exifTagTypes[o];if(!f)return void console.log(\"Invalid Exif data: Invalid tag type.\");if(s=f.size*r,l=s>4?i+t.getUint32(a+8,n):a+8,l+s>t.byteLength)return void console.log(\"Invalid Exif data: Invalid data offset.\");if(1===r)return f.getValue(t,l,n);for(d=[],u=0;r>u;u+=1)d[u]=f.getValue(t,l+u*f.size,n);if(f.ascii){for(c=\"\",u=0;u<d.length&&(g=d[u],\"\\x00\"!==g);u+=1)c+=g;return c}return d},e.parseExifTag=function(t,i,a,o,r){var n=t.getUint16(a,o);r.exif[n]=e.getExifValue(t,i,a,t.getUint16(a+2,o),t.getUint32(a+4,o),o)},e.parseExifTags=function(e,t,i,a,o){var r,n,s;if(i+6>e.byteLength)return void console.log(\"Invalid Exif data: Invalid directory offset.\");if(r=e.getUint16(i,a),n=i+2+12*r,n+4>e.byteLength)return void console.log(\"Invalid Exif data: Invalid directory size.\");for(s=0;r>s;s+=1)this.parseExifTag(e,t,i+2+12*s,a,o);return e.getUint32(n,a)},e.parseExifData=function(t,i,a,o,r){if(!r.disableExif){var n,s,l,d=i+10;if(1165519206===t.getUint32(i+4)){if(d+8>t.byteLength)return void console.log(\"Invalid Exif data: Invalid segment size.\");if(0!==t.getUint16(i+8))return void console.log(\"Invalid Exif data: Missing byte alignment offset.\");switch(t.getUint16(d)){case 18761:n=!0;break;case 19789:n=!1;break;default:return void console.log(\"Invalid Exif data: Invalid byte alignment marker.\")}if(42!==t.getUint16(d+2,n))return void console.log(\"Invalid Exif data: Missing TIFF marker.\");s=t.getUint32(d+4,n),o.exif=new e.ExifMap,s=e.parseExifTags(t,d,d+s,n,o),s&&!r.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,d,d+s,n,l),l.exif[513]&&(o.exif.Thumbnail=e.getExifThumbnail(t,d+l.exif[513],l.exif[514]))),o.exif[34665]&&!r.disableExifSub&&e.parseExifTags(t,d,d+o.exif[34665],n,o),o.exif[34853]&&!r.disableExifGps&&e.parseExifTags(t,d,d+o.exif[34853],n,o)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){\"use strict\";\"function\"==typeof define&&define.amd?define([\"./load-image\",\"./load-image-exif\"],e):\"object\"==typeof module&&module.exports?e(require(\"./load-image\"),require(\"./load-image-exif\")):e(window.loadImage)}(function(e){\"use strict\";e.ExifMap.prototype.tags={256:\"ImageWidth\",257:\"ImageHeight\",34665:\"ExifIFDPointer\",34853:\"GPSInfoIFDPointer\",40965:\"InteroperabilityIFDPointer\",258:\"BitsPerSample\",259:\"Compression\",262:\"PhotometricInterpretation\",274:\"Orientation\",277:\"SamplesPerPixel\",284:\"PlanarConfiguration\",530:\"YCbCrSubSampling\",531:\"YCbCrPositioning\",282:\"XResolution\",283:\"YResolution\",296:\"ResolutionUnit\",273:\"StripOffsets\",278:\"RowsPerStrip\",279:\"StripByteCounts\",513:\"JPEGInterchangeFormat\",514:\"JPEGInterchangeFormatLength\",301:\"TransferFunction\",318:\"WhitePoint\",319:\"PrimaryChromaticities\",529:\"YCbCrCoefficients\",532:\"ReferenceBlackWhite\",306:\"DateTime\",270:\"ImageDescription\",271:\"Make\",272:\"Model\",305:\"Software\",315:\"Artist\",33432:\"Copyright\",36864:\"ExifVersion\",40960:\"FlashpixVersion\",40961:\"ColorSpace\",40962:\"PixelXDimension\",40963:\"PixelYDimension\",42240:\"Gamma\",37121:\"ComponentsConfiguration\",37122:\"CompressedBitsPerPixel\",37500:\"MakerNote\",37510:\"UserComment\",40964:\"RelatedSoundFile\",36867:\"DateTimeOriginal\",36868:\"DateTimeDigitized\",37520:\"SubSecTime\",37521:\"SubSecTimeOriginal\",37522:\"SubSecTimeDigitized\",33434:\"ExposureTime\",33437:\"FNumber\",34850:\"ExposureProgram\",34852:\"SpectralSensitivity\",34855:\"PhotographicSensitivity\",34856:\"OECF\",34864:\"SensitivityType\",34865:\"StandardOutputSensitivity\",34866:\"RecommendedExposureIndex\",34867:\"ISOSpeed\",34868:\"ISOSpeedLatitudeyyy\",34869:\"ISOSpeedLatitudezzz\",37377:\"ShutterSpeedValue\",37378:\"ApertureValue\",37379:\"BrightnessValue\",37380:\"ExposureBias\",37381:\"MaxApertureValue\",37382:\"SubjectDistance\",37383:\"MeteringMode\",37384:\"LightSource\",37385:\"Flash\",37396:\"SubjectArea\",37386:\"FocalLength\",41483:\"FlashEnergy\",41484:\"SpatialFrequencyResponse\",41486:\"FocalPlaneXResolution\",41487:\"FocalPlaneYResolution\",41488:\"FocalPlaneResolutionUnit\",41492:\"SubjectLocation\",41493:\"ExposureIndex\",41495:\"SensingMethod\",41728:\"FileSource\",41729:\"SceneType\",41730:\"CFAPattern\",41985:\"CustomRendered\",41986:\"ExposureMode\",41987:\"WhiteBalance\",41988:\"DigitalZoomRatio\",41989:\"FocalLengthIn35mmFilm\",41990:\"SceneCaptureType\",41991:\"GainControl\",41992:\"Contrast\",41993:\"Saturation\",41994:\"Sharpness\",41995:\"DeviceSettingDescription\",41996:\"SubjectDistanceRange\",42016:\"ImageUniqueID\",42032:\"CameraOwnerName\",42033:\"BodySerialNumber\",42034:\"LensSpecification\",42035:\"LensMake\",42036:\"LensModel\",42037:\"LensSerialNumber\",0:\"GPSVersionID\",1:\"GPSLatitudeRef\",2:\"GPSLatitude\",3:\"GPSLongitudeRef\",4:\"GPSLongitude\",5:\"GPSAltitudeRef\",6:\"GPSAltitude\",7:\"GPSTimeStamp\",8:\"GPSSatellites\",9:\"GPSStatus\",10:\"GPSMeasureMode\",11:\"GPSDOP\",12:\"GPSSpeedRef\",13:\"GPSSpeed\",14:\"GPSTrackRef\",15:\"GPSTrack\",16:\"GPSImgDirectionRef\",17:\"GPSImgDirection\",18:\"GPSMapDatum\",19:\"GPSDestLatitudeRef\",20:\"GPSDestLatitude\",21:\"GPSDestLongitudeRef\",22:\"GPSDestLongitude\",23:\"GPSDestBearingRef\",24:\"GPSDestBearing\",25:\"GPSDestDistanceRef\",26:\"GPSDestDistance\",27:\"GPSProcessingMethod\",28:\"GPSAreaInformation\",29:\"GPSDateStamp\",30:\"GPSDifferential\",31:\"GPSHPositioningError\"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:\"Undefined\",1:\"Manual\",2:\"Normal program\",3:\"Aperture priority\",4:\"Shutter priority\",5:\"Creative program\",6:\"Action program\",7:\"Portrait mode\",8:\"Landscape mode\"},MeteringMode:{0:\"Unknown\",1:\"Average\",2:\"CenterWeightedAverage\",3:\"Spot\",4:\"MultiSpot\",5:\"Pattern\",6:\"Partial\",255:\"Other\"},LightSource:{0:\"Unknown\",1:\"Daylight\",2:\"Fluorescent\",3:\"Tungsten (incandescent light)\",4:\"Flash\",9:\"Fine weather\",10:\"Cloudy weather\",11:\"Shade\",12:\"Daylight fluorescent (D 5700 - 7100K)\",13:\"Day white fluorescent (N 4600 - 5400K)\",14:\"Cool white fluorescent (W 3900 - 4500K)\",15:\"White fluorescent (WW 3200 - 3700K)\",17:\"Standard light A\",18:\"Standard light B\",19:\"Standard light C\",20:\"D55\",21:\"D65\",22:\"D75\",23:\"D50\",24:\"ISO studio tungsten\",255:\"Other\"},Flash:{0:\"Flash did not fire\",1:\"Flash fired\",5:\"Strobe return light not detected\",7:\"Strobe return light detected\",9:\"Flash fired, compulsory flash mode\",13:\"Flash fired, compulsory flash mode, return light not detected\",15:\"Flash fired, compulsory flash mode, return light detected\",16:\"Flash did not fire, compulsory flash mode\",24:\"Flash did not fire, auto mode\",25:\"Flash fired, auto mode\",29:\"Flash fired, auto mode, return light not detected\",31:\"Flash fired, auto mode, return light detected\",32:\"No flash function\",65:\"Flash fired, red-eye reduction mode\",69:\"Flash fired, red-eye reduction mode, return light not detected\",71:\"Flash fired, red-eye reduction mode, return light detected\",73:\"Flash fired, compulsory flash mode, red-eye reduction mode\",77:\"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",79:\"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",89:\"Flash fired, auto mode, red-eye reduction mode\",93:\"Flash fired, auto mode, return light not detected, red-eye reduction mode\",95:\"Flash fired, auto mode, return light detected, red-eye reduction mode\"},SensingMethod:{1:\"Undefined\",2:\"One-chip color area sensor\",3:\"Two-chip color area sensor\",4:\"Three-chip color area sensor\",5:\"Color sequential area sensor\",7:\"Trilinear sensor\",8:\"Color sequential linear sensor\"},SceneCaptureType:{0:\"Standard\",1:\"Landscape\",2:\"Portrait\",3:\"Night scene\"},SceneType:{1:\"Directly photographed\"},CustomRendered:{0:\"Normal process\",1:\"Custom process\"},WhiteBalance:{0:\"Auto white balance\",1:\"Manual white balance\"},GainControl:{0:\"None\",1:\"Low gain up\",2:\"High gain up\",3:\"Low gain down\",4:\"High gain down\"},Contrast:{0:\"Normal\",1:\"Soft\",2:\"Hard\"},Saturation:{0:\"Normal\",1:\"Low saturation\",2:\"High saturation\"},Sharpness:{0:\"Normal\",1:\"Soft\",2:\"Hard\"},SubjectDistanceRange:{0:\"Unknown\",1:\"Macro\",2:\"Close view\",3:\"Distant view\"},FileSource:{3:\"DSC\"},ComponentsConfiguration:{0:\"\",1:\"Y\",2:\"Cb\",3:\"Cr\",4:\"R\",5:\"G\",6:\"B\"},Orientation:{1:\"top-left\",2:\"top-right\",3:\"bottom-right\",4:\"bottom-left\",5:\"left-top\",6:\"right-top\",7:\"right-bottom\",8:\"left-bottom\"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case\"LightSource\":case\"Flash\":case\"MeteringMode\":case\"ExposureProgram\":case\"SensingMethod\":case\"SceneCaptureType\":case\"SceneType\":case\"CustomRendered\":case\"WhiteBalance\":case\"GainControl\":case\"Contrast\":case\"Saturation\":case\"Sharpness\":case\"SubjectDistanceRange\":case\"FileSource\":case\"Orientation\":return this.stringValues[e][t];case\"ExifVersion\":case\"FlashpixVersion\":return String.fromCharCode(t[0],t[1],t[2],t[3]);case\"ComponentsConfiguration\":return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case\"GPSVersionID\":return t[0]+\".\"+t[1]+\".\"+t[2]+\".\"+t[3]}return String(t)},function(e){var t,i=e.tags,a=e.map;for(t in i)i.hasOwnProperty(t)&&(a[i[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,i={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e],t&&(i[t]=this.getText(t)));return i}});\r\n//# sourceMappingURL=load-image.all.min.js.map","Frame_Design/lib/bower_components/blueimp-load-image/js/load-image.js":"/*\r\n * JavaScript Load Image\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * http://www.opensource.org/licenses/MIT\r\n */\r\n\r\n/*global define, module, window, document, URL, webkitURL, FileReader */\r\n\r\n;(function ($) {\r\n  'use strict'\r\n\r\n  // Loads an image for a given File object.\r\n  // Invokes the callback with an img or optional canvas\r\n  // element (if supported by the browser) as parameter:\r\n  var loadImage = function (file, callback, options) {\r\n    var img = document.createElement('img')\r\n    var url\r\n    var oUrl\r\n    img.onerror = callback\r\n    img.onload = function () {\r\n      if (oUrl && !(options && options.noRevoke)) {\r\n        loadImage.revokeObjectURL(oUrl)\r\n      }\r\n      if (callback) {\r\n        callback(loadImage.scale(img, options))\r\n      }\r\n    }\r\n    if (loadImage.isInstanceOf('Blob', file) ||\r\n      // Files are also Blob instances, but some browsers\r\n      // (Firefox 3.6) support the File API but not Blobs:\r\n      loadImage.isInstanceOf('File', file)) {\r\n      url = oUrl = loadImage.createObjectURL(file)\r\n      // Store the file type for resize processing:\r\n      img._type = file.type\r\n    } else if (typeof file === 'string') {\r\n      url = file\r\n      if (options && options.crossOrigin) {\r\n        img.crossOrigin = options.crossOrigin\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n    if (url) {\r\n      img.src = url\r\n      return img\r\n    }\r\n    return loadImage.readFile(file, function (e) {\r\n      var target = e.target\r\n      if (target && target.result) {\r\n        img.src = target.result\r\n      } else {\r\n        if (callback) {\r\n          callback(e)\r\n        }\r\n      }\r\n    })\r\n  }\r\n  // The check for URL.revokeObjectURL fixes an issue with Opera 12,\r\n  // which provides URL.createObjectURL but doesn't properly implement it:\r\n  var urlAPI = (window.createObjectURL && window) ||\r\n                (window.URL && URL.revokeObjectURL && URL) ||\r\n                (window.webkitURL && webkitURL)\r\n\r\n  loadImage.isInstanceOf = function (type, obj) {\r\n    // Cross-frame instanceof check\r\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']'\r\n  }\r\n\r\n  // Transform image coordinates, allows to override e.g.\r\n  // the canvas orientation based on the orientation option,\r\n  // gets canvas, options passed as arguments:\r\n  loadImage.transformCoordinates = function () {\r\n    return\r\n  }\r\n\r\n  // Returns transformed options, allows to override e.g.\r\n  // maxWidth, maxHeight and crop options based on the aspectRatio.\r\n  // gets img, options passed as arguments:\r\n  loadImage.getTransformedOptions = function (img, options) {\r\n    var aspectRatio = options.aspectRatio\r\n    var newOptions\r\n    var i\r\n    var width\r\n    var height\r\n    if (!aspectRatio) {\r\n      return options\r\n    }\r\n    newOptions = {}\r\n    for (i in options) {\r\n      if (options.hasOwnProperty(i)) {\r\n        newOptions[i] = options[i]\r\n      }\r\n    }\r\n    newOptions.crop = true\r\n    width = img.naturalWidth || img.width\r\n    height = img.naturalHeight || img.height\r\n    if (width / height > aspectRatio) {\r\n      newOptions.maxWidth = height * aspectRatio\r\n      newOptions.maxHeight = height\r\n    } else {\r\n      newOptions.maxWidth = width\r\n      newOptions.maxHeight = width / aspectRatio\r\n    }\r\n    return newOptions\r\n  }\r\n\r\n  // Canvas render method, allows to implement a different rendering algorithm:\r\n  loadImage.renderImageToCanvas = function (\r\n    canvas,\r\n    img,\r\n    sourceX,\r\n    sourceY,\r\n    sourceWidth,\r\n    sourceHeight,\r\n    destX,\r\n    destY,\r\n    destWidth,\r\n    destHeight\r\n  ) {\r\n    canvas.getContext('2d').drawImage(\r\n      img,\r\n      sourceX,\r\n      sourceY,\r\n      sourceWidth,\r\n      sourceHeight,\r\n      destX,\r\n      destY,\r\n      destWidth,\r\n      destHeight\r\n    )\r\n    return canvas\r\n  }\r\n\r\n  // This method is used to determine if the target image\r\n  // should be a canvas element:\r\n  loadImage.hasCanvasOption = function (options) {\r\n    return options.canvas || options.crop || !!options.aspectRatio\r\n  }\r\n\r\n  // Scales and/or crops the given image (img or canvas HTML element)\r\n  // using the given options.\r\n  // Returns a canvas object if the browser supports canvas\r\n  // and the hasCanvasOption method returns true or a canvas\r\n  // object is passed as image, else the scaled image:\r\n  loadImage.scale = function (img, options) {\r\n    options = options || {}\r\n    var canvas = document.createElement('canvas')\r\n    var useCanvas = img.getContext ||\r\n                    (loadImage.hasCanvasOption(options) && canvas.getContext)\r\n    var width = img.naturalWidth || img.width\r\n    var height = img.naturalHeight || img.height\r\n    var destWidth = width\r\n    var destHeight = height\r\n    var maxWidth\r\n    var maxHeight\r\n    var minWidth\r\n    var minHeight\r\n    var sourceWidth\r\n    var sourceHeight\r\n    var sourceX\r\n    var sourceY\r\n    var pixelRatio\r\n    var downsamplingRatio\r\n    var tmp\r\n    function scaleUp () {\r\n      var scale = Math.max(\r\n        (minWidth || destWidth) / destWidth,\r\n        (minHeight || destHeight) / destHeight\r\n      )\r\n      if (scale > 1) {\r\n        destWidth *= scale\r\n        destHeight *= scale\r\n      }\r\n    }\r\n    function scaleDown () {\r\n      var scale = Math.min(\r\n        (maxWidth || destWidth) / destWidth,\r\n        (maxHeight || destHeight) / destHeight\r\n      )\r\n      if (scale < 1) {\r\n        destWidth *= scale\r\n        destHeight *= scale\r\n      }\r\n    }\r\n    if (useCanvas) {\r\n      options = loadImage.getTransformedOptions(img, options)\r\n      sourceX = options.left || 0\r\n      sourceY = options.top || 0\r\n      if (options.sourceWidth) {\r\n        sourceWidth = options.sourceWidth\r\n        if (options.right !== undefined && options.left === undefined) {\r\n          sourceX = width - sourceWidth - options.right\r\n        }\r\n      } else {\r\n        sourceWidth = width - sourceX - (options.right || 0)\r\n      }\r\n      if (options.sourceHeight) {\r\n        sourceHeight = options.sourceHeight\r\n        if (options.bottom !== undefined && options.top === undefined) {\r\n          sourceY = height - sourceHeight - options.bottom\r\n        }\r\n      } else {\r\n        sourceHeight = height - sourceY - (options.bottom || 0)\r\n      }\r\n      destWidth = sourceWidth\r\n      destHeight = sourceHeight\r\n    }\r\n    maxWidth = options.maxWidth\r\n    maxHeight = options.maxHeight\r\n    minWidth = options.minWidth\r\n    minHeight = options.minHeight\r\n    if (useCanvas && maxWidth && maxHeight && options.crop) {\r\n      destWidth = maxWidth\r\n      destHeight = maxHeight\r\n      tmp = sourceWidth / sourceHeight - maxWidth / maxHeight\r\n      if (tmp < 0) {\r\n        sourceHeight = maxHeight * sourceWidth / maxWidth\r\n        if (options.top === undefined && options.bottom === undefined) {\r\n          sourceY = (height - sourceHeight) / 2\r\n        }\r\n      } else if (tmp > 0) {\r\n        sourceWidth = maxWidth * sourceHeight / maxHeight\r\n        if (options.left === undefined && options.right === undefined) {\r\n          sourceX = (width - sourceWidth) / 2\r\n        }\r\n      }\r\n    } else {\r\n      if (options.contain || options.cover) {\r\n        minWidth = maxWidth = maxWidth || minWidth\r\n        minHeight = maxHeight = maxHeight || minHeight\r\n      }\r\n      if (options.cover) {\r\n        scaleDown()\r\n        scaleUp()\r\n      } else {\r\n        scaleUp()\r\n        scaleDown()\r\n      }\r\n    }\r\n    if (useCanvas) {\r\n      pixelRatio = options.pixelRatio\r\n      if (pixelRatio > 1) {\r\n        canvas.style.width = destWidth + 'px'\r\n        canvas.style.height = destHeight + 'px'\r\n        destWidth *= pixelRatio\r\n        destHeight *= pixelRatio\r\n        canvas.getContext('2d').scale(pixelRatio, pixelRatio)\r\n      }\r\n      downsamplingRatio = options.downsamplingRatio\r\n      if (downsamplingRatio > 0 && downsamplingRatio < 1 &&\r\n            destWidth < sourceWidth && destHeight < sourceHeight) {\r\n        while (sourceWidth * downsamplingRatio > destWidth) {\r\n          canvas.width = sourceWidth * downsamplingRatio\r\n          canvas.height = sourceHeight * downsamplingRatio\r\n          loadImage.renderImageToCanvas(\r\n            canvas,\r\n            img,\r\n            sourceX,\r\n            sourceY,\r\n            sourceWidth,\r\n            sourceHeight,\r\n            0,\r\n            0,\r\n            canvas.width,\r\n            canvas.height\r\n          )\r\n          sourceWidth = canvas.width\r\n          sourceHeight = canvas.height\r\n          img = document.createElement('canvas')\r\n          img.width = sourceWidth\r\n          img.height = sourceHeight\r\n          loadImage.renderImageToCanvas(\r\n            img,\r\n            canvas,\r\n            0,\r\n            0,\r\n            sourceWidth,\r\n            sourceHeight,\r\n            0,\r\n            0,\r\n            sourceWidth,\r\n            sourceHeight\r\n          )\r\n        }\r\n      }\r\n      canvas.width = destWidth\r\n      canvas.height = destHeight\r\n      loadImage.transformCoordinates(\r\n        canvas,\r\n        options\r\n      )\r\n      return loadImage.renderImageToCanvas(\r\n        canvas,\r\n        img,\r\n        sourceX,\r\n        sourceY,\r\n        sourceWidth,\r\n        sourceHeight,\r\n        0,\r\n        0,\r\n        destWidth,\r\n        destHeight\r\n      )\r\n    }\r\n    img.width = destWidth\r\n    img.height = destHeight\r\n    return img\r\n  }\r\n\r\n  loadImage.createObjectURL = function (file) {\r\n    return urlAPI ? urlAPI.createObjectURL(file) : false\r\n  }\r\n\r\n  loadImage.revokeObjectURL = function (url) {\r\n    return urlAPI ? urlAPI.revokeObjectURL(url) : false\r\n  }\r\n\r\n  // Loads a given File object via FileReader interface,\r\n  // invokes the callback with the event object (load or error).\r\n  // The result can be read via event.target.result:\r\n  loadImage.readFile = function (file, callback, method) {\r\n    if (window.FileReader) {\r\n      var fileReader = new FileReader()\r\n      fileReader.onload = fileReader.onerror = callback\r\n      method = method || 'readAsDataURL'\r\n      if (fileReader[method]) {\r\n        fileReader[method](file)\r\n        return fileReader\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function () {\r\n      return loadImage\r\n    })\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    module.exports = loadImage\r\n  } else {\r\n    $.loadImage = loadImage\r\n  }\r\n}(window))\r\n","Frame_Design/lib/bower_components/blueimp-load-image/js/vendor/jquery.Jcrop.js":"/**\r\n * jquery.Jcrop.js v0.9.12\r\n * jQuery Image Cropping Plugin - released under MIT License \r\n * Author: Kelly Hallman <khallman@gmail.com>\r\n * http://github.com/tapmodo/Jcrop\r\n * Copyright (c) 2008-2013 Tapmodo Interactive LLC {{{\r\n *\r\n * Permission is hereby granted, free of charge, to any person\r\n * obtaining a copy of this software and associated documentation\r\n * files (the \"Software\"), to deal in the Software without\r\n * restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following\r\n * conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n * OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n * }}}\r\n */\r\n\r\n(function ($) {\r\n\r\n  $.Jcrop = function (obj, opt) {\r\n    var options = $.extend({}, $.Jcrop.defaults),\r\n        docOffset,\r\n        _ua = navigator.userAgent.toLowerCase(),\r\n        is_msie = /msie/.test(_ua),\r\n        ie6mode = /msie [1-6]\\./.test(_ua);\r\n\r\n    // Internal Methods {{{\r\n    function px(n) {\r\n      return Math.round(n) + 'px';\r\n    }\r\n    function cssClass(cl) {\r\n      return options.baseClass + '-' + cl;\r\n    }\r\n    function supportsColorFade() {\r\n      return $.fx.step.hasOwnProperty('backgroundColor');\r\n    }\r\n    function getPos(obj) //{{{\r\n    {\r\n      var pos = $(obj).offset();\r\n      return [pos.left, pos.top];\r\n    }\r\n    //}}}\r\n    function mouseAbs(e) //{{{\r\n    {\r\n      return [(e.pageX - docOffset[0]), (e.pageY - docOffset[1])];\r\n    }\r\n    //}}}\r\n    function setOptions(opt) //{{{\r\n    {\r\n      if (typeof(opt) !== 'object') opt = {};\r\n      options = $.extend(options, opt);\r\n\r\n      $.each(['onChange','onSelect','onRelease','onDblClick'],function(i,e) {\r\n        if (typeof(options[e]) !== 'function') options[e] = function () {};\r\n      });\r\n    }\r\n    //}}}\r\n    function startDragMode(mode, pos, touch) //{{{\r\n    {\r\n      docOffset = getPos($img);\r\n      Tracker.setCursor(mode === 'move' ? mode : mode + '-resize');\r\n\r\n      if (mode === 'move') {\r\n        return Tracker.activateHandlers(createMover(pos), doneSelect, touch);\r\n      }\r\n\r\n      var fc = Coords.getFixed();\r\n      var opp = oppLockCorner(mode);\r\n      var opc = Coords.getCorner(oppLockCorner(opp));\r\n\r\n      Coords.setPressed(Coords.getCorner(opp));\r\n      Coords.setCurrent(opc);\r\n\r\n      Tracker.activateHandlers(dragmodeHandler(mode, fc), doneSelect, touch);\r\n    }\r\n    //}}}\r\n    function dragmodeHandler(mode, f) //{{{\r\n    {\r\n      return function (pos) {\r\n        if (!options.aspectRatio) {\r\n          switch (mode) {\r\n          case 'e':\r\n            pos[1] = f.y2;\r\n            break;\r\n          case 'w':\r\n            pos[1] = f.y2;\r\n            break;\r\n          case 'n':\r\n            pos[0] = f.x2;\r\n            break;\r\n          case 's':\r\n            pos[0] = f.x2;\r\n            break;\r\n          }\r\n        } else {\r\n          switch (mode) {\r\n          case 'e':\r\n            pos[1] = f.y + 1;\r\n            break;\r\n          case 'w':\r\n            pos[1] = f.y + 1;\r\n            break;\r\n          case 'n':\r\n            pos[0] = f.x + 1;\r\n            break;\r\n          case 's':\r\n            pos[0] = f.x + 1;\r\n            break;\r\n          }\r\n        }\r\n        Coords.setCurrent(pos);\r\n        Selection.update();\r\n      };\r\n    }\r\n    //}}}\r\n    function createMover(pos) //{{{\r\n    {\r\n      var lloc = pos;\r\n      KeyManager.watchKeys();\r\n\r\n      return function (pos) {\r\n        Coords.moveOffset([pos[0] - lloc[0], pos[1] - lloc[1]]);\r\n        lloc = pos;\r\n\r\n        Selection.update();\r\n      };\r\n    }\r\n    //}}}\r\n    function oppLockCorner(ord) //{{{\r\n    {\r\n      switch (ord) {\r\n      case 'n':\r\n        return 'sw';\r\n      case 's':\r\n        return 'nw';\r\n      case 'e':\r\n        return 'nw';\r\n      case 'w':\r\n        return 'ne';\r\n      case 'ne':\r\n        return 'sw';\r\n      case 'nw':\r\n        return 'se';\r\n      case 'se':\r\n        return 'nw';\r\n      case 'sw':\r\n        return 'ne';\r\n      }\r\n    }\r\n    //}}}\r\n    function createDragger(ord) //{{{\r\n    {\r\n      return function (e) {\r\n        if (options.disabled) {\r\n          return false;\r\n        }\r\n        if ((ord === 'move') && !options.allowMove) {\r\n          return false;\r\n        }\r\n        \r\n        // Fix position of crop area when dragged the very first time.\r\n        // Necessary when crop image is in a hidden element when page is loaded.\r\n        docOffset = getPos($img);\r\n\r\n        btndown = true;\r\n        startDragMode(ord, mouseAbs(e));\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        return false;\r\n      };\r\n    }\r\n    //}}}\r\n    function presize($obj, w, h) //{{{\r\n    {\r\n      var nw = $obj.width(),\r\n          nh = $obj.height();\r\n      if ((nw > w) && w > 0) {\r\n        nw = w;\r\n        nh = (w / $obj.width()) * $obj.height();\r\n      }\r\n      if ((nh > h) && h > 0) {\r\n        nh = h;\r\n        nw = (h / $obj.height()) * $obj.width();\r\n      }\r\n      xscale = $obj.width() / nw;\r\n      yscale = $obj.height() / nh;\r\n      $obj.width(nw).height(nh);\r\n    }\r\n    //}}}\r\n    function unscale(c) //{{{\r\n    {\r\n      return {\r\n        x: c.x * xscale,\r\n        y: c.y * yscale,\r\n        x2: c.x2 * xscale,\r\n        y2: c.y2 * yscale,\r\n        w: c.w * xscale,\r\n        h: c.h * yscale\r\n      };\r\n    }\r\n    //}}}\r\n    function doneSelect(pos) //{{{\r\n    {\r\n      var c = Coords.getFixed();\r\n      if ((c.w > options.minSelect[0]) && (c.h > options.minSelect[1])) {\r\n        Selection.enableHandles();\r\n        Selection.done();\r\n      } else {\r\n        Selection.release();\r\n      }\r\n      Tracker.setCursor(options.allowSelect ? 'crosshair' : 'default');\r\n    }\r\n    //}}}\r\n    function newSelection(e) //{{{\r\n    {\r\n      if (options.disabled) {\r\n        return false;\r\n      }\r\n      if (!options.allowSelect) {\r\n        return false;\r\n      }\r\n      btndown = true;\r\n      docOffset = getPos($img);\r\n      Selection.disableHandles();\r\n      Tracker.setCursor('crosshair');\r\n      var pos = mouseAbs(e);\r\n      Coords.setPressed(pos);\r\n      Selection.update();\r\n      Tracker.activateHandlers(selectDrag, doneSelect, e.type.substring(0,5)==='touch');\r\n      KeyManager.watchKeys();\r\n\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      return false;\r\n    }\r\n    //}}}\r\n    function selectDrag(pos) //{{{\r\n    {\r\n      Coords.setCurrent(pos);\r\n      Selection.update();\r\n    }\r\n    //}}}\r\n    function newTracker() //{{{\r\n    {\r\n      var trk = $('<div></div>').addClass(cssClass('tracker'));\r\n      if (is_msie) {\r\n        trk.css({\r\n          opacity: 0,\r\n          backgroundColor: 'white'\r\n        });\r\n      }\r\n      return trk;\r\n    }\r\n    //}}}\r\n\r\n    // }}}\r\n    // Initialization {{{\r\n    // Sanitize some options {{{\r\n    if (typeof(obj) !== 'object') {\r\n      obj = $(obj)[0];\r\n    }\r\n    if (typeof(opt) !== 'object') {\r\n      opt = {};\r\n    }\r\n    // }}}\r\n    setOptions(opt);\r\n    // Initialize some jQuery objects {{{\r\n    // The values are SET on the image(s) for the interface\r\n    // If the original image has any of these set, they will be reset\r\n    // However, if you destroy() the Jcrop instance the original image's\r\n    // character in the DOM will be as you left it.\r\n    var img_css = {\r\n      border: 'none',\r\n      visibility: 'visible',\r\n      margin: 0,\r\n      padding: 0,\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0\r\n    };\r\n\r\n    var $origimg = $(obj),\r\n      img_mode = true;\r\n\r\n    if (obj.tagName == 'IMG') {\r\n      // Fix size of crop image.\r\n      // Necessary when crop image is within a hidden element when page is loaded.\r\n      if ($origimg[0].width != 0 && $origimg[0].height != 0) {\r\n        // Obtain dimensions from contained img element.\r\n        $origimg.width($origimg[0].width);\r\n        $origimg.height($origimg[0].height);\r\n      } else {\r\n        // Obtain dimensions from temporary image in case the original is not loaded yet (e.g. IE 7.0). \r\n        var tempImage = new Image();\r\n        tempImage.src = $origimg[0].src;\r\n        $origimg.width(tempImage.width);\r\n        $origimg.height(tempImage.height);\r\n      } \r\n\r\n      var $img = $origimg.clone().removeAttr('id').css(img_css).show();\r\n\r\n      $img.width($origimg.width());\r\n      $img.height($origimg.height());\r\n      $origimg.after($img).hide();\r\n\r\n    } else {\r\n      $img = $origimg.css(img_css).show();\r\n      img_mode = false;\r\n      if (options.shade === null) { options.shade = true; }\r\n    }\r\n\r\n    presize($img, options.boxWidth, options.boxHeight);\r\n\r\n    var boundx = $img.width(),\r\n        boundy = $img.height(),\r\n        \r\n        \r\n        $div = $('<div />').width(boundx).height(boundy).addClass(cssClass('holder')).css({\r\n        position: 'relative',\r\n        backgroundColor: options.bgColor\r\n      }).insertAfter($origimg).append($img);\r\n\r\n    if (options.addClass) {\r\n      $div.addClass(options.addClass);\r\n    }\r\n\r\n    var $img2 = $('<div />'),\r\n\r\n        $img_holder = $('<div />') \r\n        .width('100%').height('100%').css({\r\n          zIndex: 310,\r\n          position: 'absolute',\r\n          overflow: 'hidden'\r\n        }),\r\n\r\n        $hdl_holder = $('<div />') \r\n        .width('100%').height('100%').css('zIndex', 320), \r\n\r\n        $sel = $('<div />') \r\n        .css({\r\n          position: 'absolute',\r\n          zIndex: 600\r\n        }).dblclick(function(){\r\n          var c = Coords.getFixed();\r\n          options.onDblClick.call(api,c);\r\n        }).insertBefore($img).append($img_holder, $hdl_holder); \r\n\r\n    if (img_mode) {\r\n\r\n      $img2 = $('<img />')\r\n          .attr('src', $img.attr('src')).css(img_css).width(boundx).height(boundy),\r\n\r\n      $img_holder.append($img2);\r\n\r\n    }\r\n\r\n    if (ie6mode) {\r\n      $sel.css({\r\n        overflowY: 'hidden'\r\n      });\r\n    }\r\n\r\n    var bound = options.boundary;\r\n    var $trk = newTracker().width(boundx + (bound * 2)).height(boundy + (bound * 2)).css({\r\n      position: 'absolute',\r\n      top: px(-bound),\r\n      left: px(-bound),\r\n      zIndex: 290\r\n    }).mousedown(newSelection);\r\n\r\n    /* }}} */\r\n    // Set more variables {{{\r\n    var bgcolor = options.bgColor,\r\n        bgopacity = options.bgOpacity,\r\n        xlimit, ylimit, xmin, ymin, xscale, yscale, enabled = true,\r\n        btndown, animating, shift_down;\r\n\r\n    docOffset = getPos($img);\r\n    // }}}\r\n    // }}}\r\n    // Internal Modules {{{\r\n    // Touch Module {{{ \r\n    var Touch = (function () {\r\n      // Touch support detection function adapted (under MIT License)\r\n      // from code by Jeffrey Sambells - http://github.com/iamamused/\r\n      function hasTouchSupport() {\r\n        var support = {}, events = ['touchstart', 'touchmove', 'touchend'],\r\n            el = document.createElement('div'), i;\r\n\r\n        try {\r\n          for(i=0; i<events.length; i++) {\r\n            var eventName = events[i];\r\n            eventName = 'on' + eventName;\r\n            var isSupported = (eventName in el);\r\n            if (!isSupported) {\r\n              el.setAttribute(eventName, 'return;');\r\n              isSupported = typeof el[eventName] == 'function';\r\n            }\r\n            support[events[i]] = isSupported;\r\n          }\r\n          return support.touchstart && support.touchend && support.touchmove;\r\n        }\r\n        catch(err) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      function detectSupport() {\r\n        if ((options.touchSupport === true) || (options.touchSupport === false)) return options.touchSupport;\r\n          else return hasTouchSupport();\r\n      }\r\n      return {\r\n        createDragger: function (ord) {\r\n          return function (e) {\r\n            if (options.disabled) {\r\n              return false;\r\n            }\r\n            if ((ord === 'move') && !options.allowMove) {\r\n              return false;\r\n            }\r\n            docOffset = getPos($img);\r\n            btndown = true;\r\n            startDragMode(ord, mouseAbs(Touch.cfilter(e)), true);\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            return false;\r\n          };\r\n        },\r\n        newSelection: function (e) {\r\n          return newSelection(Touch.cfilter(e));\r\n        },\r\n        cfilter: function (e){\r\n          e.pageX = e.originalEvent.changedTouches[0].pageX;\r\n          e.pageY = e.originalEvent.changedTouches[0].pageY;\r\n          return e;\r\n        },\r\n        isSupported: hasTouchSupport,\r\n        support: detectSupport()\r\n      };\r\n    }());\r\n    // }}}\r\n    // Coords Module {{{\r\n    var Coords = (function () {\r\n      var x1 = 0,\r\n          y1 = 0,\r\n          x2 = 0,\r\n          y2 = 0,\r\n          ox, oy;\r\n\r\n      function setPressed(pos) //{{{\r\n      {\r\n        pos = rebound(pos);\r\n        x2 = x1 = pos[0];\r\n        y2 = y1 = pos[1];\r\n      }\r\n      //}}}\r\n      function setCurrent(pos) //{{{\r\n      {\r\n        pos = rebound(pos);\r\n        ox = pos[0] - x2;\r\n        oy = pos[1] - y2;\r\n        x2 = pos[0];\r\n        y2 = pos[1];\r\n      }\r\n      //}}}\r\n      function getOffset() //{{{\r\n      {\r\n        return [ox, oy];\r\n      }\r\n      //}}}\r\n      function moveOffset(offset) //{{{\r\n      {\r\n        var ox = offset[0],\r\n            oy = offset[1];\r\n\r\n        if (0 > x1 + ox) {\r\n          ox -= ox + x1;\r\n        }\r\n        if (0 > y1 + oy) {\r\n          oy -= oy + y1;\r\n        }\r\n\r\n        if (boundy < y2 + oy) {\r\n          oy += boundy - (y2 + oy);\r\n        }\r\n        if (boundx < x2 + ox) {\r\n          ox += boundx - (x2 + ox);\r\n        }\r\n\r\n        x1 += ox;\r\n        x2 += ox;\r\n        y1 += oy;\r\n        y2 += oy;\r\n      }\r\n      //}}}\r\n      function getCorner(ord) //{{{\r\n      {\r\n        var c = getFixed();\r\n        switch (ord) {\r\n        case 'ne':\r\n          return [c.x2, c.y];\r\n        case 'nw':\r\n          return [c.x, c.y];\r\n        case 'se':\r\n          return [c.x2, c.y2];\r\n        case 'sw':\r\n          return [c.x, c.y2];\r\n        }\r\n      }\r\n      //}}}\r\n      function getFixed() //{{{\r\n      {\r\n        if (!options.aspectRatio) {\r\n          return getRect();\r\n        }\r\n        // This function could use some optimization I think...\r\n        var aspect = options.aspectRatio,\r\n            min_x = options.minSize[0] / xscale,\r\n            \r\n            \r\n            //min_y = options.minSize[1]/yscale,\r\n            max_x = options.maxSize[0] / xscale,\r\n            max_y = options.maxSize[1] / yscale,\r\n            rw = x2 - x1,\r\n            rh = y2 - y1,\r\n            rwa = Math.abs(rw),\r\n            rha = Math.abs(rh),\r\n            real_ratio = rwa / rha,\r\n            xx, yy, w, h;\r\n\r\n        if (max_x === 0) {\r\n          max_x = boundx * 10;\r\n        }\r\n        if (max_y === 0) {\r\n          max_y = boundy * 10;\r\n        }\r\n        if (real_ratio < aspect) {\r\n          yy = y2;\r\n          w = rha * aspect;\r\n          xx = rw < 0 ? x1 - w : w + x1;\r\n\r\n          if (xx < 0) {\r\n            xx = 0;\r\n            h = Math.abs((xx - x1) / aspect);\r\n            yy = rh < 0 ? y1 - h : h + y1;\r\n          } else if (xx > boundx) {\r\n            xx = boundx;\r\n            h = Math.abs((xx - x1) / aspect);\r\n            yy = rh < 0 ? y1 - h : h + y1;\r\n          }\r\n        } else {\r\n          xx = x2;\r\n          h = rwa / aspect;\r\n          yy = rh < 0 ? y1 - h : y1 + h;\r\n          if (yy < 0) {\r\n            yy = 0;\r\n            w = Math.abs((yy - y1) * aspect);\r\n            xx = rw < 0 ? x1 - w : w + x1;\r\n          } else if (yy > boundy) {\r\n            yy = boundy;\r\n            w = Math.abs(yy - y1) * aspect;\r\n            xx = rw < 0 ? x1 - w : w + x1;\r\n          }\r\n        }\r\n\r\n        // Magic %-)\r\n        if (xx > x1) { // right side\r\n          if (xx - x1 < min_x) {\r\n            xx = x1 + min_x;\r\n          } else if (xx - x1 > max_x) {\r\n            xx = x1 + max_x;\r\n          }\r\n          if (yy > y1) {\r\n            yy = y1 + (xx - x1) / aspect;\r\n          } else {\r\n            yy = y1 - (xx - x1) / aspect;\r\n          }\r\n        } else if (xx < x1) { // left side\r\n          if (x1 - xx < min_x) {\r\n            xx = x1 - min_x;\r\n          } else if (x1 - xx > max_x) {\r\n            xx = x1 - max_x;\r\n          }\r\n          if (yy > y1) {\r\n            yy = y1 + (x1 - xx) / aspect;\r\n          } else {\r\n            yy = y1 - (x1 - xx) / aspect;\r\n          }\r\n        }\r\n\r\n        if (xx < 0) {\r\n          x1 -= xx;\r\n          xx = 0;\r\n        } else if (xx > boundx) {\r\n          x1 -= xx - boundx;\r\n          xx = boundx;\r\n        }\r\n\r\n        if (yy < 0) {\r\n          y1 -= yy;\r\n          yy = 0;\r\n        } else if (yy > boundy) {\r\n          y1 -= yy - boundy;\r\n          yy = boundy;\r\n        }\r\n\r\n        return makeObj(flipCoords(x1, y1, xx, yy));\r\n      }\r\n      //}}}\r\n      function rebound(p) //{{{\r\n      {\r\n        if (p[0] < 0) p[0] = 0;\r\n        if (p[1] < 0) p[1] = 0;\r\n\r\n        if (p[0] > boundx) p[0] = boundx;\r\n        if (p[1] > boundy) p[1] = boundy;\r\n\r\n        return [Math.round(p[0]), Math.round(p[1])];\r\n      }\r\n      //}}}\r\n      function flipCoords(x1, y1, x2, y2) //{{{\r\n      {\r\n        var xa = x1,\r\n            xb = x2,\r\n            ya = y1,\r\n            yb = y2;\r\n        if (x2 < x1) {\r\n          xa = x2;\r\n          xb = x1;\r\n        }\r\n        if (y2 < y1) {\r\n          ya = y2;\r\n          yb = y1;\r\n        }\r\n        return [xa, ya, xb, yb];\r\n      }\r\n      //}}}\r\n      function getRect() //{{{\r\n      {\r\n        var xsize = x2 - x1,\r\n            ysize = y2 - y1,\r\n            delta;\r\n\r\n        if (xlimit && (Math.abs(xsize) > xlimit)) {\r\n          x2 = (xsize > 0) ? (x1 + xlimit) : (x1 - xlimit);\r\n        }\r\n        if (ylimit && (Math.abs(ysize) > ylimit)) {\r\n          y2 = (ysize > 0) ? (y1 + ylimit) : (y1 - ylimit);\r\n        }\r\n\r\n        if (ymin / yscale && (Math.abs(ysize) < ymin / yscale)) {\r\n          y2 = (ysize > 0) ? (y1 + ymin / yscale) : (y1 - ymin / yscale);\r\n        }\r\n        if (xmin / xscale && (Math.abs(xsize) < xmin / xscale)) {\r\n          x2 = (xsize > 0) ? (x1 + xmin / xscale) : (x1 - xmin / xscale);\r\n        }\r\n\r\n        if (x1 < 0) {\r\n          x2 -= x1;\r\n          x1 -= x1;\r\n        }\r\n        if (y1 < 0) {\r\n          y2 -= y1;\r\n          y1 -= y1;\r\n        }\r\n        if (x2 < 0) {\r\n          x1 -= x2;\r\n          x2 -= x2;\r\n        }\r\n        if (y2 < 0) {\r\n          y1 -= y2;\r\n          y2 -= y2;\r\n        }\r\n        if (x2 > boundx) {\r\n          delta = x2 - boundx;\r\n          x1 -= delta;\r\n          x2 -= delta;\r\n        }\r\n        if (y2 > boundy) {\r\n          delta = y2 - boundy;\r\n          y1 -= delta;\r\n          y2 -= delta;\r\n        }\r\n        if (x1 > boundx) {\r\n          delta = x1 - boundy;\r\n          y2 -= delta;\r\n          y1 -= delta;\r\n        }\r\n        if (y1 > boundy) {\r\n          delta = y1 - boundy;\r\n          y2 -= delta;\r\n          y1 -= delta;\r\n        }\r\n\r\n        return makeObj(flipCoords(x1, y1, x2, y2));\r\n      }\r\n      //}}}\r\n      function makeObj(a) //{{{\r\n      {\r\n        return {\r\n          x: a[0],\r\n          y: a[1],\r\n          x2: a[2],\r\n          y2: a[3],\r\n          w: a[2] - a[0],\r\n          h: a[3] - a[1]\r\n        };\r\n      }\r\n      //}}}\r\n\r\n      return {\r\n        flipCoords: flipCoords,\r\n        setPressed: setPressed,\r\n        setCurrent: setCurrent,\r\n        getOffset: getOffset,\r\n        moveOffset: moveOffset,\r\n        getCorner: getCorner,\r\n        getFixed: getFixed\r\n      };\r\n    }());\r\n\r\n    //}}}\r\n    // Shade Module {{{\r\n    var Shade = (function() {\r\n      var enabled = false,\r\n          holder = $('<div />').css({\r\n            position: 'absolute',\r\n            zIndex: 240,\r\n            opacity: 0\r\n          }),\r\n          shades = {\r\n            top: createShade(),\r\n            left: createShade().height(boundy),\r\n            right: createShade().height(boundy),\r\n            bottom: createShade()\r\n          };\r\n\r\n      function resizeShades(w,h) {\r\n        shades.left.css({ height: px(h) });\r\n        shades.right.css({ height: px(h) });\r\n      }\r\n      function updateAuto()\r\n      {\r\n        return updateShade(Coords.getFixed());\r\n      }\r\n      function updateShade(c)\r\n      {\r\n        shades.top.css({\r\n          left: px(c.x),\r\n          width: px(c.w),\r\n          height: px(c.y)\r\n        });\r\n        shades.bottom.css({\r\n          top: px(c.y2),\r\n          left: px(c.x),\r\n          width: px(c.w),\r\n          height: px(boundy-c.y2)\r\n        });\r\n        shades.right.css({\r\n          left: px(c.x2),\r\n          width: px(boundx-c.x2)\r\n        });\r\n        shades.left.css({\r\n          width: px(c.x)\r\n        });\r\n      }\r\n      function createShade() {\r\n        return $('<div />').css({\r\n          position: 'absolute',\r\n          backgroundColor: options.shadeColor||options.bgColor\r\n        }).appendTo(holder);\r\n      }\r\n      function enableShade() {\r\n        if (!enabled) {\r\n          enabled = true;\r\n          holder.insertBefore($img);\r\n          updateAuto();\r\n          Selection.setBgOpacity(1,0,1);\r\n          $img2.hide();\r\n\r\n          setBgColor(options.shadeColor||options.bgColor,1);\r\n          if (Selection.isAwake())\r\n          {\r\n            setOpacity(options.bgOpacity,1);\r\n          }\r\n            else setOpacity(1,1);\r\n        }\r\n      }\r\n      function setBgColor(color,now) {\r\n        colorChangeMacro(getShades(),color,now);\r\n      }\r\n      function disableShade() {\r\n        if (enabled) {\r\n          holder.remove();\r\n          $img2.show();\r\n          enabled = false;\r\n          if (Selection.isAwake()) {\r\n            Selection.setBgOpacity(options.bgOpacity,1,1);\r\n          } else {\r\n            Selection.setBgOpacity(1,1,1);\r\n            Selection.disableHandles();\r\n          }\r\n          colorChangeMacro($div,0,1);\r\n        }\r\n      }\r\n      function setOpacity(opacity,now) {\r\n        if (enabled) {\r\n          if (options.bgFade && !now) {\r\n            holder.animate({\r\n              opacity: 1-opacity\r\n            },{\r\n              queue: false,\r\n              duration: options.fadeTime\r\n            });\r\n          }\r\n          else holder.css({opacity:1-opacity});\r\n        }\r\n      }\r\n      function refreshAll() {\r\n        options.shade ? enableShade() : disableShade();\r\n        if (Selection.isAwake()) setOpacity(options.bgOpacity);\r\n      }\r\n      function getShades() {\r\n        return holder.children();\r\n      }\r\n\r\n      return {\r\n        update: updateAuto,\r\n        updateRaw: updateShade,\r\n        getShades: getShades,\r\n        setBgColor: setBgColor,\r\n        enable: enableShade,\r\n        disable: disableShade,\r\n        resize: resizeShades,\r\n        refresh: refreshAll,\r\n        opacity: setOpacity\r\n      };\r\n    }());\r\n    // }}}\r\n    // Selection Module {{{\r\n    var Selection = (function () {\r\n      var awake,\r\n          hdep = 370,\r\n          borders = {},\r\n          handle = {},\r\n          dragbar = {},\r\n          seehandles = false;\r\n\r\n      // Private Methods\r\n      function insertBorder(type) //{{{\r\n      {\r\n        var jq = $('<div />').css({\r\n          position: 'absolute',\r\n          opacity: options.borderOpacity\r\n        }).addClass(cssClass(type));\r\n        $img_holder.append(jq);\r\n        return jq;\r\n      }\r\n      //}}}\r\n      function dragDiv(ord, zi) //{{{\r\n      {\r\n        var jq = $('<div />').mousedown(createDragger(ord)).css({\r\n          cursor: ord + '-resize',\r\n          position: 'absolute',\r\n          zIndex: zi\r\n        }).addClass('ord-'+ord);\r\n\r\n        if (Touch.support) {\r\n          jq.bind('touchstart.jcrop', Touch.createDragger(ord));\r\n        }\r\n\r\n        $hdl_holder.append(jq);\r\n        return jq;\r\n      }\r\n      //}}}\r\n      function insertHandle(ord) //{{{\r\n      {\r\n        var hs = options.handleSize,\r\n\r\n          div = dragDiv(ord, hdep++).css({\r\n            opacity: options.handleOpacity\r\n          }).addClass(cssClass('handle'));\r\n\r\n        if (hs) { div.width(hs).height(hs); }\r\n\r\n        return div;\r\n      }\r\n      //}}}\r\n      function insertDragbar(ord) //{{{\r\n      {\r\n        return dragDiv(ord, hdep++).addClass('jcrop-dragbar');\r\n      }\r\n      //}}}\r\n      function createDragbars(li) //{{{\r\n      {\r\n        var i;\r\n        for (i = 0; i < li.length; i++) {\r\n          dragbar[li[i]] = insertDragbar(li[i]);\r\n        }\r\n      }\r\n      //}}}\r\n      function createBorders(li) //{{{\r\n      {\r\n        var cl,i;\r\n        for (i = 0; i < li.length; i++) {\r\n          switch(li[i]){\r\n            case'n': cl='hline'; break;\r\n            case's': cl='hline bottom'; break;\r\n            case'e': cl='vline right'; break;\r\n            case'w': cl='vline'; break;\r\n          }\r\n          borders[li[i]] = insertBorder(cl);\r\n        }\r\n      }\r\n      //}}}\r\n      function createHandles(li) //{{{\r\n      {\r\n        var i;\r\n        for (i = 0; i < li.length; i++) {\r\n          handle[li[i]] = insertHandle(li[i]);\r\n        }\r\n      }\r\n      //}}}\r\n      function moveto(x, y) //{{{\r\n      {\r\n        if (!options.shade) {\r\n          $img2.css({\r\n            top: px(-y),\r\n            left: px(-x)\r\n          });\r\n        }\r\n        $sel.css({\r\n          top: px(y),\r\n          left: px(x)\r\n        });\r\n      }\r\n      //}}}\r\n      function resize(w, h) //{{{\r\n      {\r\n        $sel.width(Math.round(w)).height(Math.round(h));\r\n      }\r\n      //}}}\r\n      function refresh() //{{{\r\n      {\r\n        var c = Coords.getFixed();\r\n\r\n        Coords.setPressed([c.x, c.y]);\r\n        Coords.setCurrent([c.x2, c.y2]);\r\n\r\n        updateVisible();\r\n      }\r\n      //}}}\r\n\r\n      // Internal Methods\r\n      function updateVisible(select) //{{{\r\n      {\r\n        if (awake) {\r\n          return update(select);\r\n        }\r\n      }\r\n      //}}}\r\n      function update(select) //{{{\r\n      {\r\n        var c = Coords.getFixed();\r\n\r\n        resize(c.w, c.h);\r\n        moveto(c.x, c.y);\r\n        if (options.shade) Shade.updateRaw(c);\r\n\r\n        awake || show();\r\n\r\n        if (select) {\r\n          options.onSelect.call(api, unscale(c));\r\n        } else {\r\n          options.onChange.call(api, unscale(c));\r\n        }\r\n      }\r\n      //}}}\r\n      function setBgOpacity(opacity,force,now) //{{{\r\n      {\r\n        if (!awake && !force) return;\r\n        if (options.bgFade && !now) {\r\n          $img.animate({\r\n            opacity: opacity\r\n          },{\r\n            queue: false,\r\n            duration: options.fadeTime\r\n          });\r\n        } else {\r\n          $img.css('opacity', opacity);\r\n        }\r\n      }\r\n      //}}}\r\n      function show() //{{{\r\n      {\r\n        $sel.show();\r\n\r\n        if (options.shade) Shade.opacity(bgopacity);\r\n          else setBgOpacity(bgopacity,true);\r\n\r\n        awake = true;\r\n      }\r\n      //}}}\r\n      function release() //{{{\r\n      {\r\n        disableHandles();\r\n        $sel.hide();\r\n\r\n        if (options.shade) Shade.opacity(1);\r\n          else setBgOpacity(1);\r\n\r\n        awake = false;\r\n        options.onRelease.call(api);\r\n      }\r\n      //}}}\r\n      function showHandles() //{{{\r\n      {\r\n        if (seehandles) {\r\n          $hdl_holder.show();\r\n        }\r\n      }\r\n      //}}}\r\n      function enableHandles() //{{{\r\n      {\r\n        seehandles = true;\r\n        if (options.allowResize) {\r\n          $hdl_holder.show();\r\n          return true;\r\n        }\r\n      }\r\n      //}}}\r\n      function disableHandles() //{{{\r\n      {\r\n        seehandles = false;\r\n        $hdl_holder.hide();\r\n      } \r\n      //}}}\r\n      function animMode(v) //{{{\r\n      {\r\n        if (v) {\r\n          animating = true;\r\n          disableHandles();\r\n        } else {\r\n          animating = false;\r\n          enableHandles();\r\n        }\r\n      } \r\n      //}}}\r\n      function done() //{{{\r\n      {\r\n        animMode(false);\r\n        refresh();\r\n      } \r\n      //}}}\r\n      // Insert draggable elements {{{\r\n      // Insert border divs for outline\r\n\r\n      if (options.dragEdges && $.isArray(options.createDragbars))\r\n        createDragbars(options.createDragbars);\r\n\r\n      if ($.isArray(options.createHandles))\r\n        createHandles(options.createHandles);\r\n\r\n      if (options.drawBorders && $.isArray(options.createBorders))\r\n        createBorders(options.createBorders);\r\n\r\n      //}}}\r\n\r\n      // This is a hack for iOS5 to support drag/move touch functionality\r\n      $(document).bind('touchstart.jcrop-ios',function(e) {\r\n        if ($(e.currentTarget).hasClass('jcrop-tracker')) e.stopPropagation();\r\n      });\r\n\r\n      var $track = newTracker().mousedown(createDragger('move')).css({\r\n        cursor: 'move',\r\n        position: 'absolute',\r\n        zIndex: 360\r\n      });\r\n\r\n      if (Touch.support) {\r\n        $track.bind('touchstart.jcrop', Touch.createDragger('move'));\r\n      }\r\n\r\n      $img_holder.append($track);\r\n      disableHandles();\r\n\r\n      return {\r\n        updateVisible: updateVisible,\r\n        update: update,\r\n        release: release,\r\n        refresh: refresh,\r\n        isAwake: function () {\r\n          return awake;\r\n        },\r\n        setCursor: function (cursor) {\r\n          $track.css('cursor', cursor);\r\n        },\r\n        enableHandles: enableHandles,\r\n        enableOnly: function () {\r\n          seehandles = true;\r\n        },\r\n        showHandles: showHandles,\r\n        disableHandles: disableHandles,\r\n        animMode: animMode,\r\n        setBgOpacity: setBgOpacity,\r\n        done: done\r\n      };\r\n    }());\r\n    \r\n    //}}}\r\n    // Tracker Module {{{\r\n    var Tracker = (function () {\r\n      var onMove = function () {},\r\n          onDone = function () {},\r\n          trackDoc = options.trackDocument;\r\n\r\n      function toFront(touch) //{{{\r\n      {\r\n        $trk.css({\r\n          zIndex: 450\r\n        });\r\n\r\n        if (touch)\r\n          $(document)\r\n            .bind('touchmove.jcrop', trackTouchMove)\r\n            .bind('touchend.jcrop', trackTouchEnd);\r\n\r\n        else if (trackDoc)\r\n          $(document)\r\n            .bind('mousemove.jcrop',trackMove)\r\n            .bind('mouseup.jcrop',trackUp);\r\n      } \r\n      //}}}\r\n      function toBack() //{{{\r\n      {\r\n        $trk.css({\r\n          zIndex: 290\r\n        });\r\n        $(document).unbind('.jcrop');\r\n      } \r\n      //}}}\r\n      function trackMove(e) //{{{\r\n      {\r\n        onMove(mouseAbs(e));\r\n        return false;\r\n      } \r\n      //}}}\r\n      function trackUp(e) //{{{\r\n      {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if (btndown) {\r\n          btndown = false;\r\n\r\n          onDone(mouseAbs(e));\r\n\r\n          if (Selection.isAwake()) {\r\n            options.onSelect.call(api, unscale(Coords.getFixed()));\r\n          }\r\n\r\n          toBack();\r\n          onMove = function () {};\r\n          onDone = function () {};\r\n        }\r\n\r\n        return false;\r\n      }\r\n      //}}}\r\n      function activateHandlers(move, done, touch) //{{{\r\n      {\r\n        btndown = true;\r\n        onMove = move;\r\n        onDone = done;\r\n        toFront(touch);\r\n        return false;\r\n      }\r\n      //}}}\r\n      function trackTouchMove(e) //{{{\r\n      {\r\n        onMove(mouseAbs(Touch.cfilter(e)));\r\n        return false;\r\n      }\r\n      //}}}\r\n      function trackTouchEnd(e) //{{{\r\n      {\r\n        return trackUp(Touch.cfilter(e));\r\n      }\r\n      //}}}\r\n      function setCursor(t) //{{{\r\n      {\r\n        $trk.css('cursor', t);\r\n      }\r\n      //}}}\r\n\r\n      if (!trackDoc) {\r\n        $trk.mousemove(trackMove).mouseup(trackUp).mouseout(trackUp);\r\n      }\r\n\r\n      $img.before($trk);\r\n      return {\r\n        activateHandlers: activateHandlers,\r\n        setCursor: setCursor\r\n      };\r\n    }());\r\n    //}}}\r\n    // KeyManager Module {{{\r\n    var KeyManager = (function () {\r\n      var $keymgr = $('<input type=\"radio\" />').css({\r\n        position: 'fixed',\r\n        left: '-120px',\r\n        width: '12px'\r\n      }).addClass('jcrop-keymgr'),\r\n\r\n        $keywrap = $('<div />').css({\r\n          position: 'absolute',\r\n          overflow: 'hidden'\r\n        }).append($keymgr);\r\n\r\n      function watchKeys() //{{{\r\n      {\r\n        if (options.keySupport) {\r\n          $keymgr.show();\r\n          $keymgr.focus();\r\n        }\r\n      }\r\n      //}}}\r\n      function onBlur(e) //{{{\r\n      {\r\n        $keymgr.hide();\r\n      }\r\n      //}}}\r\n      function doNudge(e, x, y) //{{{\r\n      {\r\n        if (options.allowMove) {\r\n          Coords.moveOffset([x, y]);\r\n          Selection.updateVisible(true);\r\n        }\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      }\r\n      //}}}\r\n      function parseKey(e) //{{{\r\n      {\r\n        if (e.ctrlKey || e.metaKey) {\r\n          return true;\r\n        }\r\n        shift_down = e.shiftKey ? true : false;\r\n        var nudge = shift_down ? 10 : 1;\r\n\r\n        switch (e.keyCode) {\r\n        case 37:\r\n          doNudge(e, -nudge, 0);\r\n          break;\r\n        case 39:\r\n          doNudge(e, nudge, 0);\r\n          break;\r\n        case 38:\r\n          doNudge(e, 0, -nudge);\r\n          break;\r\n        case 40:\r\n          doNudge(e, 0, nudge);\r\n          break;\r\n        case 27:\r\n          if (options.allowSelect) Selection.release();\r\n          break;\r\n        case 9:\r\n          return true;\r\n        }\r\n\r\n        return false;\r\n      }\r\n      //}}}\r\n\r\n      if (options.keySupport) {\r\n        $keymgr.keydown(parseKey).blur(onBlur);\r\n        if (ie6mode || !options.fixedSupport) {\r\n          $keymgr.css({\r\n            position: 'absolute',\r\n            left: '-20px'\r\n          });\r\n          $keywrap.append($keymgr).insertBefore($img);\r\n        } else {\r\n          $keymgr.insertBefore($img);\r\n        }\r\n      }\r\n\r\n\r\n      return {\r\n        watchKeys: watchKeys\r\n      };\r\n    }());\r\n    //}}}\r\n    // }}}\r\n    // API methods {{{\r\n    function setClass(cname) //{{{\r\n    {\r\n      $div.removeClass().addClass(cssClass('holder')).addClass(cname);\r\n    }\r\n    //}}}\r\n    function animateTo(a, callback) //{{{\r\n    {\r\n      var x1 = a[0] / xscale,\r\n          y1 = a[1] / yscale,\r\n          x2 = a[2] / xscale,\r\n          y2 = a[3] / yscale;\r\n\r\n      if (animating) {\r\n        return;\r\n      }\r\n\r\n      var animto = Coords.flipCoords(x1, y1, x2, y2),\r\n          c = Coords.getFixed(),\r\n          initcr = [c.x, c.y, c.x2, c.y2],\r\n          animat = initcr,\r\n          interv = options.animationDelay,\r\n          ix1 = animto[0] - initcr[0],\r\n          iy1 = animto[1] - initcr[1],\r\n          ix2 = animto[2] - initcr[2],\r\n          iy2 = animto[3] - initcr[3],\r\n          pcent = 0,\r\n          velocity = options.swingSpeed;\r\n\r\n      x1 = animat[0];\r\n      y1 = animat[1];\r\n      x2 = animat[2];\r\n      y2 = animat[3];\r\n\r\n      Selection.animMode(true);\r\n      var anim_timer;\r\n\r\n      function queueAnimator() {\r\n        window.setTimeout(animator, interv);\r\n      }\r\n      var animator = (function () {\r\n        return function () {\r\n          pcent += (100 - pcent) / velocity;\r\n\r\n          animat[0] = Math.round(x1 + ((pcent / 100) * ix1));\r\n          animat[1] = Math.round(y1 + ((pcent / 100) * iy1));\r\n          animat[2] = Math.round(x2 + ((pcent / 100) * ix2));\r\n          animat[3] = Math.round(y2 + ((pcent / 100) * iy2));\r\n\r\n          if (pcent >= 99.8) {\r\n            pcent = 100;\r\n          }\r\n          if (pcent < 100) {\r\n            setSelectRaw(animat);\r\n            queueAnimator();\r\n          } else {\r\n            Selection.done();\r\n            Selection.animMode(false);\r\n            if (typeof(callback) === 'function') {\r\n              callback.call(api);\r\n            }\r\n          }\r\n        };\r\n      }());\r\n      queueAnimator();\r\n    }\r\n    //}}}\r\n    function setSelect(rect) //{{{\r\n    {\r\n      setSelectRaw([rect[0] / xscale, rect[1] / yscale, rect[2] / xscale, rect[3] / yscale]);\r\n      options.onSelect.call(api, unscale(Coords.getFixed()));\r\n      Selection.enableHandles();\r\n    }\r\n    //}}}\r\n    function setSelectRaw(l) //{{{\r\n    {\r\n      Coords.setPressed([l[0], l[1]]);\r\n      Coords.setCurrent([l[2], l[3]]);\r\n      Selection.update();\r\n    }\r\n    //}}}\r\n    function tellSelect() //{{{\r\n    {\r\n      return unscale(Coords.getFixed());\r\n    }\r\n    //}}}\r\n    function tellScaled() //{{{\r\n    {\r\n      return Coords.getFixed();\r\n    }\r\n    //}}}\r\n    function setOptionsNew(opt) //{{{\r\n    {\r\n      setOptions(opt);\r\n      interfaceUpdate();\r\n    }\r\n    //}}}\r\n    function disableCrop() //{{{\r\n    {\r\n      options.disabled = true;\r\n      Selection.disableHandles();\r\n      Selection.setCursor('default');\r\n      Tracker.setCursor('default');\r\n    }\r\n    //}}}\r\n    function enableCrop() //{{{\r\n    {\r\n      options.disabled = false;\r\n      interfaceUpdate();\r\n    }\r\n    //}}}\r\n    function cancelCrop() //{{{\r\n    {\r\n      Selection.done();\r\n      Tracker.activateHandlers(null, null);\r\n    }\r\n    //}}}\r\n    function destroy() //{{{\r\n    {\r\n      $div.remove();\r\n      $origimg.show();\r\n      $origimg.css('visibility','visible');\r\n      $(obj).removeData('Jcrop');\r\n    }\r\n    //}}}\r\n    function setImage(src, callback) //{{{\r\n    {\r\n      Selection.release();\r\n      disableCrop();\r\n      var img = new Image();\r\n      img.onload = function () {\r\n        var iw = img.width;\r\n        var ih = img.height;\r\n        var bw = options.boxWidth;\r\n        var bh = options.boxHeight;\r\n        $img.width(iw).height(ih);\r\n        $img.attr('src', src);\r\n        $img2.attr('src', src);\r\n        presize($img, bw, bh);\r\n        boundx = $img.width();\r\n        boundy = $img.height();\r\n        $img2.width(boundx).height(boundy);\r\n        $trk.width(boundx + (bound * 2)).height(boundy + (bound * 2));\r\n        $div.width(boundx).height(boundy);\r\n        Shade.resize(boundx,boundy);\r\n        enableCrop();\r\n\r\n        if (typeof(callback) === 'function') {\r\n          callback.call(api);\r\n        }\r\n      };\r\n      img.src = src;\r\n    }\r\n    //}}}\r\n    function colorChangeMacro($obj,color,now) {\r\n      var mycolor = color || options.bgColor;\r\n      if (options.bgFade && supportsColorFade() && options.fadeTime && !now) {\r\n        $obj.animate({\r\n          backgroundColor: mycolor\r\n        }, {\r\n          queue: false,\r\n          duration: options.fadeTime\r\n        });\r\n      } else {\r\n        $obj.css('backgroundColor', mycolor);\r\n      }\r\n    }\r\n    function interfaceUpdate(alt) //{{{\r\n    // This method tweaks the interface based on options object.\r\n    // Called when options are changed and at end of initialization.\r\n    {\r\n      if (options.allowResize) {\r\n        if (alt) {\r\n          Selection.enableOnly();\r\n        } else {\r\n          Selection.enableHandles();\r\n        }\r\n      } else {\r\n        Selection.disableHandles();\r\n      }\r\n\r\n      Tracker.setCursor(options.allowSelect ? 'crosshair' : 'default');\r\n      Selection.setCursor(options.allowMove ? 'move' : 'default');\r\n\r\n      if (options.hasOwnProperty('trueSize')) {\r\n        xscale = options.trueSize[0] / boundx;\r\n        yscale = options.trueSize[1] / boundy;\r\n      }\r\n\r\n      if (options.hasOwnProperty('setSelect')) {\r\n        setSelect(options.setSelect);\r\n        Selection.done();\r\n        delete(options.setSelect);\r\n      }\r\n\r\n      Shade.refresh();\r\n\r\n      if (options.bgColor != bgcolor) {\r\n        colorChangeMacro(\r\n          options.shade? Shade.getShades(): $div,\r\n          options.shade?\r\n            (options.shadeColor || options.bgColor):\r\n            options.bgColor\r\n        );\r\n        bgcolor = options.bgColor;\r\n      }\r\n\r\n      if (bgopacity != options.bgOpacity) {\r\n        bgopacity = options.bgOpacity;\r\n        if (options.shade) Shade.refresh();\r\n          else Selection.setBgOpacity(bgopacity);\r\n      }\r\n\r\n      xlimit = options.maxSize[0] || 0;\r\n      ylimit = options.maxSize[1] || 0;\r\n      xmin = options.minSize[0] || 0;\r\n      ymin = options.minSize[1] || 0;\r\n\r\n      if (options.hasOwnProperty('outerImage')) {\r\n        $img.attr('src', options.outerImage);\r\n        delete(options.outerImage);\r\n      }\r\n\r\n      Selection.refresh();\r\n    }\r\n    //}}}\r\n    //}}}\r\n\r\n    if (Touch.support) $trk.bind('touchstart.jcrop', Touch.newSelection);\r\n\r\n    $hdl_holder.hide();\r\n    interfaceUpdate(true);\r\n\r\n    var api = {\r\n      setImage: setImage,\r\n      animateTo: animateTo,\r\n      setSelect: setSelect,\r\n      setOptions: setOptionsNew,\r\n      tellSelect: tellSelect,\r\n      tellScaled: tellScaled,\r\n      setClass: setClass,\r\n\r\n      disable: disableCrop,\r\n      enable: enableCrop,\r\n      cancel: cancelCrop,\r\n      release: Selection.release,\r\n      destroy: destroy,\r\n\r\n      focus: KeyManager.watchKeys,\r\n\r\n      getBounds: function () {\r\n        return [boundx * xscale, boundy * yscale];\r\n      },\r\n      getWidgetSize: function () {\r\n        return [boundx, boundy];\r\n      },\r\n      getScaleFactor: function () {\r\n        return [xscale, yscale];\r\n      },\r\n      getOptions: function() {\r\n        // careful: internal values are returned\r\n        return options;\r\n      },\r\n\r\n      ui: {\r\n        holder: $div,\r\n        selection: $sel\r\n      }\r\n    };\r\n\r\n    if (is_msie) $div.bind('selectstart', function () { return false; });\r\n\r\n    $origimg.data('Jcrop', api);\r\n    return api;\r\n  };\r\n  $.fn.Jcrop = function (options, callback) //{{{\r\n  {\r\n    var api;\r\n    // Iterate over each object, attach Jcrop\r\n    this.each(function () {\r\n      // If we've already attached to this object\r\n      if ($(this).data('Jcrop')) {\r\n        // The API can be requested this way (undocumented)\r\n        if (options === 'api') return $(this).data('Jcrop');\r\n        // Otherwise, we just reset the options...\r\n        else $(this).data('Jcrop').setOptions(options);\r\n      }\r\n      // If we haven't been attached, preload and attach\r\n      else {\r\n        if (this.tagName == 'IMG')\r\n          $.Jcrop.Loader(this,function(){\r\n            $(this).css({display:'block',visibility:'hidden'});\r\n            api = $.Jcrop(this, options);\r\n            if ($.isFunction(callback)) callback.call(api);\r\n          });\r\n        else {\r\n          $(this).css({display:'block',visibility:'hidden'});\r\n          api = $.Jcrop(this, options);\r\n          if ($.isFunction(callback)) callback.call(api);\r\n        }\r\n      }\r\n    });\r\n\r\n    // Return \"this\" so the object is chainable (jQuery-style)\r\n    return this;\r\n  };\r\n  //}}}\r\n  // $.Jcrop.Loader - basic image loader {{{\r\n\r\n  $.Jcrop.Loader = function(imgobj,success,error){\r\n    var $img = $(imgobj), img = $img[0];\r\n\r\n    function completeCheck(){\r\n      if (img.complete) {\r\n        $img.unbind('.jcloader');\r\n        if ($.isFunction(success)) success.call(img);\r\n      }\r\n      else window.setTimeout(completeCheck,50);\r\n    }\r\n\r\n    $img\r\n      .bind('load.jcloader',completeCheck)\r\n      .bind('error.jcloader',function(e){\r\n        $img.unbind('.jcloader');\r\n        if ($.isFunction(error)) error.call(img);\r\n      });\r\n\r\n    if (img.complete && $.isFunction(success)){\r\n      $img.unbind('.jcloader');\r\n      success.call(img);\r\n    }\r\n  };\r\n\r\n  //}}}\r\n  // Global Defaults {{{\r\n  $.Jcrop.defaults = {\r\n\r\n    // Basic Settings\r\n    allowSelect: true,\r\n    allowMove: true,\r\n    allowResize: true,\r\n\r\n    trackDocument: true,\r\n\r\n    // Styling Options\r\n    baseClass: 'jcrop',\r\n    addClass: null,\r\n    bgColor: 'black',\r\n    bgOpacity: 0.6,\r\n    bgFade: false,\r\n    borderOpacity: 0.4,\r\n    handleOpacity: 0.5,\r\n    handleSize: null,\r\n\r\n    aspectRatio: 0,\r\n    keySupport: true,\r\n    createHandles: ['n','s','e','w','nw','ne','se','sw'],\r\n    createDragbars: ['n','s','e','w'],\r\n    createBorders: ['n','s','e','w'],\r\n    drawBorders: true,\r\n    dragEdges: true,\r\n    fixedSupport: true,\r\n    touchSupport: null,\r\n\r\n    shade: null,\r\n\r\n    boxWidth: 0,\r\n    boxHeight: 0,\r\n    boundary: 2,\r\n    fadeTime: 400,\r\n    animationDelay: 20,\r\n    swingSpeed: 3,\r\n\r\n    minSelect: [0, 0],\r\n    maxSize: [0, 0],\r\n    minSize: [0, 0],\r\n\r\n    // Callbacks / Event Handlers\r\n    onChange: function () {},\r\n    onSelect: function () {},\r\n    onDblClick: function () {},\r\n    onRelease: function () {}\r\n  };\r\n\r\n  // }}}\r\n}(jQuery));\r\n","Frame_Design/lib/bower_components/spectrum/spectrum.js":"// Spectrum Colorpicker v1.8.0\r\n// https://github.com/bgrins/spectrum\r\n// Author: Brian Grinstead\r\n// License: MIT\r\n\r\n(function (factory) {\r\n    \"use strict\";\r\n\r\n    if (typeof define === 'function' && define.amd) { // AMD\r\n        define(['jquery'], factory);\r\n    }\r\n    else if (typeof exports == \"object\" && typeof module == \"object\") { // CommonJS\r\n        module.exports = factory(require('jquery'));\r\n    }\r\n    else { // Browser\r\n        factory(jQuery);\r\n    }\r\n})(function($, undefined) {\r\n    \"use strict\";\r\n\r\n    var defaultOpts = {\r\n\r\n        // Callbacks\r\n        beforeShow: noop,\r\n        move: noop,\r\n        change: noop,\r\n        show: noop,\r\n        hide: noop,\r\n\r\n        // Options\r\n        color: false,\r\n        flat: false,\r\n        showInput: false,\r\n        allowEmpty: false,\r\n        showButtons: true,\r\n        clickoutFiresChange: true,\r\n        showInitial: false,\r\n        showPalette: false,\r\n        showPaletteOnly: false,\r\n        hideAfterPaletteSelect: false,\r\n        togglePaletteOnly: false,\r\n        showSelectionPalette: true,\r\n        localStorageKey: false,\r\n        appendTo: \"body\",\r\n        maxSelectionSize: 7,\r\n        cancelText: \"cancel\",\r\n        chooseText: \"choose\",\r\n        togglePaletteMoreText: \"more\",\r\n        togglePaletteLessText: \"less\",\r\n        clearText: \"Clear Color Selection\",\r\n        noColorSelectedText: \"No Color Selected\",\r\n        preferredFormat: false,\r\n        className: \"\", // Deprecated - use containerClassName and replacerClassName instead.\r\n        containerClassName: \"\",\r\n        replacerClassName: \"\",\r\n        showAlpha: false,\r\n        theme: \"sp-light\",\r\n        palette: [[\"#ffffff\", \"#000000\", \"#ff0000\", \"#ff8000\", \"#ffff00\", \"#008000\", \"#0000ff\", \"#4b0082\", \"#9400d3\"]],\r\n        selectionPalette: [],\r\n        disabled: false,\r\n        offset: null\r\n    },\r\n    spectrums = [],\r\n    IE = !!/msie/i.exec( window.navigator.userAgent ),\r\n    rgbaSupport = (function() {\r\n        function contains( str, substr ) {\r\n            return !!~('' + str).indexOf(substr);\r\n        }\r\n\r\n        var elem = document.createElement('div');\r\n        var style = elem.style;\r\n        style.cssText = 'background-color:rgba(0,0,0,.5)';\r\n        return contains(style.backgroundColor, 'rgba') || contains(style.backgroundColor, 'hsla');\r\n    })(),\r\n    replaceInput = [\r\n        \"<div class='sp-replacer'>\",\r\n            \"<div class='sp-preview'><div class='sp-preview-inner'></div></div>\",\r\n            \"<div class='sp-dd'>&#9660;</div>\",\r\n        \"</div>\"\r\n    ].join(''),\r\n    markup = (function () {\r\n\r\n        // IE does not support gradients with multiple stops, so we need to simulate\r\n        //  that for the rainbow slider with 8 divs that each have a single gradient\r\n        var gradientFix = \"\";\r\n        if (IE) {\r\n            for (var i = 1; i <= 6; i++) {\r\n                gradientFix += \"<div class='sp-\" + i + \"'></div>\";\r\n            }\r\n        }\r\n\r\n        return [\r\n            \"<div class='sp-container sp-hidden'>\",\r\n                \"<div class='sp-palette-container'>\",\r\n                    \"<div class='sp-palette sp-thumb sp-cf'></div>\",\r\n                    \"<div class='sp-palette-button-container sp-cf'>\",\r\n                        \"<button type='button' class='sp-palette-toggle'></button>\",\r\n                    \"</div>\",\r\n                \"</div>\",\r\n                \"<div class='sp-picker-container'>\",\r\n                    \"<div class='sp-top sp-cf'>\",\r\n                        \"<div class='sp-fill'></div>\",\r\n                        \"<div class='sp-top-inner'>\",\r\n                            \"<div class='sp-color'>\",\r\n                                \"<div class='sp-sat'>\",\r\n                                    \"<div class='sp-val'>\",\r\n                                        \"<div class='sp-dragger'></div>\",\r\n                                    \"</div>\",\r\n                                \"</div>\",\r\n                            \"</div>\",\r\n                            \"<div class='sp-clear sp-clear-display'>\",\r\n                            \"</div>\",\r\n                            \"<div class='sp-hue'>\",\r\n                                \"<div class='sp-slider'></div>\",\r\n                                gradientFix,\r\n                            \"</div>\",\r\n                        \"</div>\",\r\n                        \"<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>\",\r\n                    \"</div>\",\r\n                    \"<div class='sp-input-container sp-cf'>\",\r\n                        \"<input class='sp-input' type='text' spellcheck='false'  />\",\r\n                    \"</div>\",\r\n                    \"<div class='sp-initial sp-thumb sp-cf'></div>\",\r\n                    \"<div class='sp-button-container sp-cf'>\",\r\n                        \"<a class='sp-cancel' href='#'></a>\",\r\n                        \"<button type='button' class='sp-choose'></button>\",\r\n                    \"</div>\",\r\n                \"</div>\",\r\n            \"</div>\"\r\n        ].join(\"\");\r\n    })();\r\n\r\n    function paletteTemplate (p, color, className, opts) {\r\n        var html = [];\r\n        for (var i = 0; i < p.length; i++) {\r\n            var current = p[i];\r\n            if(current) {\r\n                var tiny = tinycolor(current);\r\n                var c = tiny.toHsl().l < 0.5 ? \"sp-thumb-el sp-thumb-dark\" : \"sp-thumb-el sp-thumb-light\";\r\n                c += (tinycolor.equals(color, current)) ? \" sp-thumb-active\" : \"\";\r\n                var formattedString = tiny.toString(opts.preferredFormat || \"rgb\");\r\n                var swatchStyle = rgbaSupport ? (\"background-color:\" + tiny.toRgbString()) : \"filter:\" + tiny.toFilter();\r\n                html.push('<span title=\"' + formattedString + '\" data-color=\"' + tiny.toRgbString() + '\" class=\"' + c + '\"><span class=\"sp-thumb-inner\" style=\"' + swatchStyle + ';\" /></span>');\r\n            } else {\r\n                var cls = 'sp-clear-display';\r\n                html.push($('<div />')\r\n                    .append($('<span data-color=\"\" style=\"background-color:transparent;\" class=\"' + cls + '\"></span>')\r\n                        .attr('title', opts.noColorSelectedText)\r\n                    )\r\n                    .html()\r\n                );\r\n            }\r\n        }\r\n        return \"<div class='sp-cf \" + className + \"'>\" + html.join('') + \"</div>\";\r\n    }\r\n\r\n    function hideAll() {\r\n        for (var i = 0; i < spectrums.length; i++) {\r\n            if (spectrums[i]) {\r\n                spectrums[i].hide();\r\n            }\r\n        }\r\n    }\r\n\r\n    function instanceOptions(o, callbackContext) {\r\n        var opts = $.extend({}, defaultOpts, o);\r\n        opts.callbacks = {\r\n            'move': bind(opts.move, callbackContext),\r\n            'change': bind(opts.change, callbackContext),\r\n            'show': bind(opts.show, callbackContext),\r\n            'hide': bind(opts.hide, callbackContext),\r\n            'beforeShow': bind(opts.beforeShow, callbackContext)\r\n        };\r\n\r\n        return opts;\r\n    }\r\n\r\n    function spectrum(element, o) {\r\n\r\n        var opts = instanceOptions(o, element),\r\n            flat = opts.flat,\r\n            showSelectionPalette = opts.showSelectionPalette,\r\n            localStorageKey = opts.localStorageKey,\r\n            theme = opts.theme,\r\n            callbacks = opts.callbacks,\r\n            resize = throttle(reflow, 10),\r\n            visible = false,\r\n            isDragging = false,\r\n            dragWidth = 0,\r\n            dragHeight = 0,\r\n            dragHelperHeight = 0,\r\n            slideHeight = 0,\r\n            slideWidth = 0,\r\n            alphaWidth = 0,\r\n            alphaSlideHelperWidth = 0,\r\n            slideHelperHeight = 0,\r\n            currentHue = 0,\r\n            currentSaturation = 0,\r\n            currentValue = 0,\r\n            currentAlpha = 1,\r\n            palette = [],\r\n            paletteArray = [],\r\n            paletteLookup = {},\r\n            selectionPalette = opts.selectionPalette.slice(0),\r\n            maxSelectionSize = opts.maxSelectionSize,\r\n            draggingClass = \"sp-dragging\",\r\n            shiftMovementDirection = null;\r\n\r\n        var doc = element.ownerDocument,\r\n            body = doc.body,\r\n            boundElement = $(element),\r\n            disabled = false,\r\n            container = $(markup, doc).addClass(theme),\r\n            pickerContainer = container.find(\".sp-picker-container\"),\r\n            dragger = container.find(\".sp-color\"),\r\n            dragHelper = container.find(\".sp-dragger\"),\r\n            slider = container.find(\".sp-hue\"),\r\n            slideHelper = container.find(\".sp-slider\"),\r\n            alphaSliderInner = container.find(\".sp-alpha-inner\"),\r\n            alphaSlider = container.find(\".sp-alpha\"),\r\n            alphaSlideHelper = container.find(\".sp-alpha-handle\"),\r\n            textInput = container.find(\".sp-input\"),\r\n            paletteContainer = container.find(\".sp-palette\"),\r\n            initialColorContainer = container.find(\".sp-initial\"),\r\n            cancelButton = container.find(\".sp-cancel\"),\r\n            clearButton = container.find(\".sp-clear\"),\r\n            chooseButton = container.find(\".sp-choose\"),\r\n            toggleButton = container.find(\".sp-palette-toggle\"),\r\n            isInput = boundElement.is(\"input\"),\r\n            isInputTypeColor = isInput && boundElement.attr(\"type\") === \"color\" && inputTypeColorSupport(),\r\n            shouldReplace = isInput && !flat,\r\n            replacer = (shouldReplace) ? $(replaceInput).addClass(theme).addClass(opts.className).addClass(opts.replacerClassName) : $([]),\r\n            offsetElement = (shouldReplace) ? replacer : boundElement,\r\n            previewElement = replacer.find(\".sp-preview-inner\"),\r\n            initialColor = opts.color || (isInput && boundElement.val()),\r\n            colorOnShow = false,\r\n            currentPreferredFormat = opts.preferredFormat,\r\n            clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange,\r\n            isEmpty = !initialColor,\r\n            allowEmpty = opts.allowEmpty && !isInputTypeColor;\r\n\r\n        function applyOptions() {\r\n\r\n            if (opts.showPaletteOnly) {\r\n                opts.showPalette = true;\r\n            }\r\n\r\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\r\n\r\n            if (opts.palette) {\r\n                palette = opts.palette.slice(0);\r\n                paletteArray = $.isArray(palette[0]) ? palette : [palette];\r\n                paletteLookup = {};\r\n                for (var i = 0; i < paletteArray.length; i++) {\r\n                    for (var j = 0; j < paletteArray[i].length; j++) {\r\n                        var rgb = tinycolor(paletteArray[i][j]).toRgbString();\r\n                        paletteLookup[rgb] = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            container.toggleClass(\"sp-flat\", flat);\r\n            container.toggleClass(\"sp-input-disabled\", !opts.showInput);\r\n            container.toggleClass(\"sp-alpha-enabled\", opts.showAlpha);\r\n            container.toggleClass(\"sp-clear-enabled\", allowEmpty);\r\n            container.toggleClass(\"sp-buttons-disabled\", !opts.showButtons);\r\n            container.toggleClass(\"sp-palette-buttons-disabled\", !opts.togglePaletteOnly);\r\n            container.toggleClass(\"sp-palette-disabled\", !opts.showPalette);\r\n            container.toggleClass(\"sp-palette-only\", opts.showPaletteOnly);\r\n            container.toggleClass(\"sp-initial-disabled\", !opts.showInitial);\r\n            container.addClass(opts.className).addClass(opts.containerClassName);\r\n\r\n            reflow();\r\n        }\r\n\r\n        function initialize() {\r\n\r\n            if (IE) {\r\n                container.find(\"*:not(input)\").attr(\"unselectable\", \"on\");\r\n            }\r\n\r\n            applyOptions();\r\n\r\n            if (shouldReplace) {\r\n                boundElement.after(replacer).hide();\r\n            }\r\n\r\n            if (!allowEmpty) {\r\n                clearButton.hide();\r\n            }\r\n\r\n            if (flat) {\r\n                boundElement.after(container).hide();\r\n            }\r\n            else {\r\n\r\n                var appendTo = opts.appendTo === \"parent\" ? boundElement.parent() : $(opts.appendTo);\r\n                if (appendTo.length !== 1) {\r\n                    appendTo = $(\"body\");\r\n                }\r\n\r\n                appendTo.append(container);\r\n            }\r\n\r\n            updateSelectionPaletteFromStorage();\r\n\r\n            offsetElement.bind(\"click.spectrum touchstart.spectrum\", function (e) {\r\n                if (!disabled) {\r\n                    toggle();\r\n                }\r\n\r\n                e.stopPropagation();\r\n\r\n                if (!$(e.target).is(\"input\")) {\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n\r\n            if(boundElement.is(\":disabled\") || (opts.disabled === true)) {\r\n                disable();\r\n            }\r\n\r\n            // Prevent clicks from bubbling up to document.  This would cause it to be hidden.\r\n            container.click(stopPropagation);\r\n\r\n            // Handle user typed input\r\n            textInput.change(setFromTextInput);\r\n            textInput.bind(\"paste\", function () {\r\n                setTimeout(setFromTextInput, 1);\r\n            });\r\n            textInput.keydown(function (e) { if (e.keyCode == 13) { setFromTextInput(); } });\r\n\r\n            cancelButton.text(opts.cancelText);\r\n            cancelButton.bind(\"click.spectrum\", function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                revert();\r\n                hide();\r\n            });\r\n\r\n            clearButton.attr(\"title\", opts.clearText);\r\n            clearButton.bind(\"click.spectrum\", function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                isEmpty = true;\r\n                move();\r\n\r\n                if(flat) {\r\n                    //for the flat style, this is a change event\r\n                    updateOriginalInput(true);\r\n                }\r\n            });\r\n\r\n            chooseButton.text(opts.chooseText);\r\n            chooseButton.bind(\"click.spectrum\", function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n\r\n                if (IE && textInput.is(\":focus\")) {\r\n                    textInput.trigger('change');\r\n                }\r\n\r\n                if (isValid()) {\r\n                    updateOriginalInput(true);\r\n                    hide();\r\n                }\r\n            });\r\n\r\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\r\n            toggleButton.bind(\"click.spectrum\", function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n\r\n                opts.showPaletteOnly = !opts.showPaletteOnly;\r\n\r\n                // To make sure the Picker area is drawn on the right, next to the\r\n                // Palette area (and not below the palette), first move the Palette\r\n                // to the left to make space for the picker, plus 5px extra.\r\n                // The 'applyOptions' function puts the whole container back into place\r\n                // and takes care of the button-text and the sp-palette-only CSS class.\r\n                if (!opts.showPaletteOnly && !flat) {\r\n                    container.css('left', '-=' + (pickerContainer.outerWidth(true) + 5));\r\n                }\r\n                applyOptions();\r\n            });\r\n\r\n            draggable(alphaSlider, function (dragX, dragY, e) {\r\n                currentAlpha = (dragX / alphaWidth);\r\n                isEmpty = false;\r\n                if (e.shiftKey) {\r\n                    currentAlpha = Math.round(currentAlpha * 10) / 10;\r\n                }\r\n\r\n                move();\r\n            }, dragStart, dragStop);\r\n\r\n            draggable(slider, function (dragX, dragY) {\r\n                currentHue = parseFloat(dragY / slideHeight);\r\n                isEmpty = false;\r\n                if (!opts.showAlpha) {\r\n                    currentAlpha = 1;\r\n                }\r\n                move();\r\n            }, dragStart, dragStop);\r\n\r\n            draggable(dragger, function (dragX, dragY, e) {\r\n\r\n                // shift+drag should snap the movement to either the x or y axis.\r\n                if (!e.shiftKey) {\r\n                    shiftMovementDirection = null;\r\n                }\r\n                else if (!shiftMovementDirection) {\r\n                    var oldDragX = currentSaturation * dragWidth;\r\n                    var oldDragY = dragHeight - (currentValue * dragHeight);\r\n                    var furtherFromX = Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY);\r\n\r\n                    shiftMovementDirection = furtherFromX ? \"x\" : \"y\";\r\n                }\r\n\r\n                var setSaturation = !shiftMovementDirection || shiftMovementDirection === \"x\";\r\n                var setValue = !shiftMovementDirection || shiftMovementDirection === \"y\";\r\n\r\n                if (setSaturation) {\r\n                    currentSaturation = parseFloat(dragX / dragWidth);\r\n                }\r\n                if (setValue) {\r\n                    currentValue = parseFloat((dragHeight - dragY) / dragHeight);\r\n                }\r\n\r\n                isEmpty = false;\r\n                if (!opts.showAlpha) {\r\n                    currentAlpha = 1;\r\n                }\r\n\r\n                move();\r\n\r\n            }, dragStart, dragStop);\r\n\r\n            if (!!initialColor) {\r\n                set(initialColor);\r\n\r\n                // In case color was black - update the preview UI and set the format\r\n                // since the set function will not run (default color is black).\r\n                updateUI();\r\n                currentPreferredFormat = opts.preferredFormat || tinycolor(initialColor).format;\r\n\r\n                addColorToSelectionPalette(initialColor);\r\n            }\r\n            else {\r\n                updateUI();\r\n            }\r\n\r\n            if (flat) {\r\n                show();\r\n            }\r\n\r\n            function paletteElementClick(e) {\r\n                if (e.data && e.data.ignore) {\r\n                    set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\r\n                    move();\r\n                }\r\n                else {\r\n                    set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\r\n                    move();\r\n                    updateOriginalInput(true);\r\n                    if (opts.hideAfterPaletteSelect) {\r\n                      hide();\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            var paletteEvent = IE ? \"mousedown.spectrum\" : \"click.spectrum touchstart.spectrum\";\r\n            paletteContainer.delegate(\".sp-thumb-el\", paletteEvent, paletteElementClick);\r\n            initialColorContainer.delegate(\".sp-thumb-el:nth-child(1)\", paletteEvent, { ignore: true }, paletteElementClick);\r\n        }\r\n\r\n        function updateSelectionPaletteFromStorage() {\r\n\r\n            if (localStorageKey && window.localStorage) {\r\n\r\n                // Migrate old palettes over to new format.  May want to remove this eventually.\r\n                try {\r\n                    var oldPalette = window.localStorage[localStorageKey].split(\",#\");\r\n                    if (oldPalette.length > 1) {\r\n                        delete window.localStorage[localStorageKey];\r\n                        $.each(oldPalette, function(i, c) {\r\n                             addColorToSelectionPalette(c);\r\n                        });\r\n                    }\r\n                }\r\n                catch(e) { }\r\n\r\n                try {\r\n                    selectionPalette = window.localStorage[localStorageKey].split(\";\");\r\n                }\r\n                catch (e) { }\r\n            }\r\n        }\r\n\r\n        function addColorToSelectionPalette(color) {\r\n            if (showSelectionPalette) {\r\n                var rgb = tinycolor(color).toRgbString();\r\n                if (!paletteLookup[rgb] && $.inArray(rgb, selectionPalette) === -1) {\r\n                    selectionPalette.push(rgb);\r\n                    while(selectionPalette.length > maxSelectionSize) {\r\n                        selectionPalette.shift();\r\n                    }\r\n                }\r\n\r\n                if (localStorageKey && window.localStorage) {\r\n                    try {\r\n                        window.localStorage[localStorageKey] = selectionPalette.join(\";\");\r\n                    }\r\n                    catch(e) { }\r\n                }\r\n            }\r\n        }\r\n\r\n        function getUniqueSelectionPalette() {\r\n            var unique = [];\r\n            if (opts.showPalette) {\r\n                for (var i = 0; i < selectionPalette.length; i++) {\r\n                    var rgb = tinycolor(selectionPalette[i]).toRgbString();\r\n\r\n                    if (!paletteLookup[rgb]) {\r\n                        unique.push(selectionPalette[i]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return unique.reverse().slice(0, opts.maxSelectionSize);\r\n        }\r\n\r\n        function drawPalette() {\r\n\r\n            var currentColor = get();\r\n\r\n            var html = $.map(paletteArray, function (palette, i) {\r\n                return paletteTemplate(palette, currentColor, \"sp-palette-row sp-palette-row-\" + i, opts);\r\n            });\r\n\r\n            updateSelectionPaletteFromStorage();\r\n\r\n            if (selectionPalette) {\r\n                html.push(paletteTemplate(getUniqueSelectionPalette(), currentColor, \"sp-palette-row sp-palette-row-selection\", opts));\r\n            }\r\n\r\n            paletteContainer.html(html.join(\"\"));\r\n        }\r\n\r\n        function drawInitial() {\r\n            if (opts.showInitial) {\r\n                var initial = colorOnShow;\r\n                var current = get();\r\n                initialColorContainer.html(paletteTemplate([initial, current], current, \"sp-palette-row-initial\", opts));\r\n            }\r\n        }\r\n\r\n        function dragStart() {\r\n            if (dragHeight <= 0 || dragWidth <= 0 || slideHeight <= 0) {\r\n                reflow();\r\n            }\r\n            isDragging = true;\r\n            container.addClass(draggingClass);\r\n            shiftMovementDirection = null;\r\n            boundElement.trigger('dragstart.spectrum', [ get() ]);\r\n        }\r\n\r\n        function dragStop() {\r\n            isDragging = false;\r\n            container.removeClass(draggingClass);\r\n            boundElement.trigger('dragstop.spectrum', [ get() ]);\r\n        }\r\n\r\n        function setFromTextInput() {\r\n\r\n            var value = textInput.val();\r\n\r\n            if ((value === null || value === \"\") && allowEmpty) {\r\n                set(null);\r\n                updateOriginalInput(true);\r\n            }\r\n            else {\r\n                var tiny = tinycolor(value);\r\n                if (tiny.isValid()) {\r\n                    set(tiny);\r\n                    updateOriginalInput(true);\r\n                }\r\n                else {\r\n                    textInput.addClass(\"sp-validation-error\");\r\n                }\r\n            }\r\n        }\r\n\r\n        function toggle() {\r\n            if (visible) {\r\n                hide();\r\n            }\r\n            else {\r\n                show();\r\n            }\r\n        }\r\n\r\n        function show() {\r\n            var event = $.Event('beforeShow.spectrum');\r\n\r\n            if (visible) {\r\n                reflow();\r\n                return;\r\n            }\r\n\r\n            boundElement.trigger(event, [ get() ]);\r\n\r\n            if (callbacks.beforeShow(get()) === false || event.isDefaultPrevented()) {\r\n                return;\r\n            }\r\n\r\n            hideAll();\r\n            visible = true;\r\n\r\n            $(doc).bind(\"keydown.spectrum\", onkeydown);\r\n            $(doc).bind(\"click.spectrum\", clickout);\r\n            $(window).bind(\"resize.spectrum\", resize);\r\n            replacer.addClass(\"sp-active\");\r\n            container.removeClass(\"sp-hidden\");\r\n\r\n            reflow();\r\n            updateUI();\r\n\r\n            colorOnShow = get();\r\n\r\n            drawInitial();\r\n            callbacks.show(colorOnShow);\r\n            boundElement.trigger('show.spectrum', [ colorOnShow ]);\r\n        }\r\n\r\n        function onkeydown(e) {\r\n            // Close on ESC\r\n            if (e.keyCode === 27) {\r\n                hide();\r\n            }\r\n        }\r\n\r\n        function clickout(e) {\r\n            // Return on right click.\r\n            if (e.button == 2) { return; }\r\n\r\n            // If a drag event was happening during the mouseup, don't hide\r\n            // on click.\r\n            if (isDragging) { return; }\r\n\r\n            if (clickoutFiresChange) {\r\n                updateOriginalInput(true);\r\n            }\r\n            else {\r\n                revert();\r\n            }\r\n            hide();\r\n        }\r\n\r\n        function hide() {\r\n            // Return if hiding is unnecessary\r\n            if (!visible || flat) { return; }\r\n            visible = false;\r\n\r\n            $(doc).unbind(\"keydown.spectrum\", onkeydown);\r\n            $(doc).unbind(\"click.spectrum\", clickout);\r\n            $(window).unbind(\"resize.spectrum\", resize);\r\n\r\n            replacer.removeClass(\"sp-active\");\r\n            container.addClass(\"sp-hidden\");\r\n\r\n            callbacks.hide(get());\r\n            boundElement.trigger('hide.spectrum', [ get() ]);\r\n        }\r\n\r\n        function revert() {\r\n            set(colorOnShow, true);\r\n        }\r\n\r\n        function set(color, ignoreFormatChange) {\r\n            if (tinycolor.equals(color, get())) {\r\n                // Update UI just in case a validation error needs\r\n                // to be cleared.\r\n                updateUI();\r\n                return;\r\n            }\r\n\r\n            var newColor, newHsv;\r\n            if (!color && allowEmpty) {\r\n                isEmpty = true;\r\n            } else {\r\n                isEmpty = false;\r\n                newColor = tinycolor(color);\r\n                newHsv = newColor.toHsv();\r\n\r\n                currentHue = (newHsv.h % 360) / 360;\r\n                currentSaturation = newHsv.s;\r\n                currentValue = newHsv.v;\r\n                currentAlpha = newHsv.a;\r\n            }\r\n            updateUI();\r\n\r\n            if (newColor && newColor.isValid() && !ignoreFormatChange) {\r\n                currentPreferredFormat = opts.preferredFormat || newColor.getFormat();\r\n            }\r\n        }\r\n\r\n        function get(opts) {\r\n            opts = opts || { };\r\n\r\n            if (allowEmpty && isEmpty) {\r\n                return null;\r\n            }\r\n\r\n            return tinycolor.fromRatio({\r\n                h: currentHue,\r\n                s: currentSaturation,\r\n                v: currentValue,\r\n                a: Math.round(currentAlpha * 100) / 100\r\n            }, { format: opts.format || currentPreferredFormat });\r\n        }\r\n\r\n        function isValid() {\r\n            return !textInput.hasClass(\"sp-validation-error\");\r\n        }\r\n\r\n        function move() {\r\n            updateUI();\r\n\r\n            callbacks.move(get());\r\n            boundElement.trigger('move.spectrum', [ get() ]);\r\n        }\r\n\r\n        function updateUI() {\r\n\r\n            textInput.removeClass(\"sp-validation-error\");\r\n\r\n            updateHelperLocations();\r\n\r\n            // Update dragger background color (gradients take care of saturation and value).\r\n            var flatColor = tinycolor.fromRatio({ h: currentHue, s: 1, v: 1 });\r\n            dragger.css(\"background-color\", flatColor.toHexString());\r\n\r\n            // Get a format that alpha will be included in (hex and names ignore alpha)\r\n            var format = currentPreferredFormat;\r\n            if (currentAlpha < 1 && !(currentAlpha === 0 && format === \"name\")) {\r\n                if (format === \"hex\" || format === \"hex3\" || format === \"hex6\" || format === \"name\") {\r\n                    format = \"rgb\";\r\n                }\r\n            }\r\n\r\n            var realColor = get({ format: format }),\r\n                displayColor = '';\r\n\r\n             //reset background info for preview element\r\n            previewElement.removeClass(\"sp-clear-display\");\r\n            previewElement.css('background-color', 'transparent');\r\n\r\n            if (!realColor && allowEmpty) {\r\n                // Update the replaced elements background with icon indicating no color selection\r\n                previewElement.addClass(\"sp-clear-display\");\r\n            }\r\n            else {\r\n                var realHex = realColor.toHexString(),\r\n                    realRgb = realColor.toRgbString();\r\n\r\n                // Update the replaced elements background color (with actual selected color)\r\n                if (rgbaSupport || realColor.alpha === 1) {\r\n                    previewElement.css(\"background-color\", realRgb);\r\n                }\r\n                else {\r\n                    previewElement.css(\"background-color\", \"transparent\");\r\n                    previewElement.css(\"filter\", realColor.toFilter());\r\n                }\r\n\r\n                if (opts.showAlpha) {\r\n                    var rgb = realColor.toRgb();\r\n                    rgb.a = 0;\r\n                    var realAlpha = tinycolor(rgb).toRgbString();\r\n                    var gradient = \"linear-gradient(left, \" + realAlpha + \", \" + realHex + \")\";\r\n\r\n                    if (IE) {\r\n                        alphaSliderInner.css(\"filter\", tinycolor(realAlpha).toFilter({ gradientType: 1 }, realHex));\r\n                    }\r\n                    else {\r\n                        alphaSliderInner.css(\"background\", \"-webkit-\" + gradient);\r\n                        alphaSliderInner.css(\"background\", \"-moz-\" + gradient);\r\n                        alphaSliderInner.css(\"background\", \"-ms-\" + gradient);\r\n                        // Use current syntax gradient on unprefixed property.\r\n                        alphaSliderInner.css(\"background\",\r\n                            \"linear-gradient(to right, \" + realAlpha + \", \" + realHex + \")\");\r\n                    }\r\n                }\r\n\r\n                displayColor = realColor.toString(format);\r\n            }\r\n\r\n            // Update the text entry input as it changes happen\r\n            if (opts.showInput) {\r\n                textInput.val(displayColor);\r\n            }\r\n\r\n            if (opts.showPalette) {\r\n                drawPalette();\r\n            }\r\n\r\n            drawInitial();\r\n        }\r\n\r\n        function updateHelperLocations() {\r\n            var s = currentSaturation;\r\n            var v = currentValue;\r\n\r\n            if(allowEmpty && isEmpty) {\r\n                //if selected color is empty, hide the helpers\r\n                alphaSlideHelper.hide();\r\n                slideHelper.hide();\r\n                dragHelper.hide();\r\n            }\r\n            else {\r\n                //make sure helpers are visible\r\n                alphaSlideHelper.show();\r\n                slideHelper.show();\r\n                dragHelper.show();\r\n\r\n                // Where to show the little circle in that displays your current selected color\r\n                var dragX = s * dragWidth;\r\n                var dragY = dragHeight - (v * dragHeight);\r\n                dragX = Math.max(\r\n                    -dragHelperHeight,\r\n                    Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)\r\n                );\r\n                dragY = Math.max(\r\n                    -dragHelperHeight,\r\n                    Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)\r\n                );\r\n                dragHelper.css({\r\n                    \"top\": dragY + \"px\",\r\n                    \"left\": dragX + \"px\"\r\n                });\r\n\r\n                var alphaX = currentAlpha * alphaWidth;\r\n                alphaSlideHelper.css({\r\n                    \"left\": (alphaX - (alphaSlideHelperWidth / 2)) + \"px\"\r\n                });\r\n\r\n                // Where to show the bar that displays your current selected hue\r\n                var slideY = (currentHue) * slideHeight;\r\n                slideHelper.css({\r\n                    \"top\": (slideY - slideHelperHeight) + \"px\"\r\n                });\r\n            }\r\n        }\r\n\r\n        function updateOriginalInput(fireCallback) {\r\n            var color = get(),\r\n                displayColor = '',\r\n                hasChanged = !tinycolor.equals(color, colorOnShow);\r\n\r\n            if (color) {\r\n                displayColor = color.toString(currentPreferredFormat);\r\n                // Update the selection palette with the current color\r\n                addColorToSelectionPalette(color);\r\n            }\r\n\r\n            if (isInput) {\r\n                boundElement.val(displayColor);\r\n            }\r\n\r\n            if (fireCallback && hasChanged) {\r\n                callbacks.change(color);\r\n                boundElement.trigger('change', [ color ]);\r\n            }\r\n        }\r\n\r\n        function reflow() {\r\n            if (!visible) {\r\n                return; // Calculations would be useless and wouldn't be reliable anyways\r\n            }\r\n            dragWidth = dragger.width();\r\n            dragHeight = dragger.height();\r\n            dragHelperHeight = dragHelper.height();\r\n            slideWidth = slider.width();\r\n            slideHeight = slider.height();\r\n            slideHelperHeight = slideHelper.height();\r\n            alphaWidth = alphaSlider.width();\r\n            alphaSlideHelperWidth = alphaSlideHelper.width();\r\n\r\n            if (!flat) {\r\n                container.css(\"position\", \"absolute\");\r\n                if (opts.offset) {\r\n                    container.offset(opts.offset);\r\n                } else {\r\n                    container.offset(getOffset(container, offsetElement));\r\n                }\r\n            }\r\n\r\n            updateHelperLocations();\r\n\r\n            if (opts.showPalette) {\r\n                drawPalette();\r\n            }\r\n\r\n            boundElement.trigger('reflow.spectrum');\r\n        }\r\n\r\n        function destroy() {\r\n            boundElement.show();\r\n            offsetElement.unbind(\"click.spectrum touchstart.spectrum\");\r\n            container.remove();\r\n            replacer.remove();\r\n            spectrums[spect.id] = null;\r\n        }\r\n\r\n        function option(optionName, optionValue) {\r\n            if (optionName === undefined) {\r\n                return $.extend({}, opts);\r\n            }\r\n            if (optionValue === undefined) {\r\n                return opts[optionName];\r\n            }\r\n\r\n            opts[optionName] = optionValue;\r\n\r\n            if (optionName === \"preferredFormat\") {\r\n                currentPreferredFormat = opts.preferredFormat;\r\n            }\r\n            applyOptions();\r\n        }\r\n\r\n        function enable() {\r\n            disabled = false;\r\n            boundElement.attr(\"disabled\", false);\r\n            offsetElement.removeClass(\"sp-disabled\");\r\n        }\r\n\r\n        function disable() {\r\n            hide();\r\n            disabled = true;\r\n            boundElement.attr(\"disabled\", true);\r\n            offsetElement.addClass(\"sp-disabled\");\r\n        }\r\n\r\n        function setOffset(coord) {\r\n            opts.offset = coord;\r\n            reflow();\r\n        }\r\n\r\n        initialize();\r\n\r\n        var spect = {\r\n            show: show,\r\n            hide: hide,\r\n            toggle: toggle,\r\n            reflow: reflow,\r\n            option: option,\r\n            enable: enable,\r\n            disable: disable,\r\n            offset: setOffset,\r\n            set: function (c) {\r\n                set(c);\r\n                updateOriginalInput();\r\n            },\r\n            get: get,\r\n            destroy: destroy,\r\n            container: container\r\n        };\r\n\r\n        spect.id = spectrums.push(spect) - 1;\r\n\r\n        return spect;\r\n    }\r\n\r\n    /**\r\n    * checkOffset - get the offset below/above and left/right element depending on screen position\r\n    * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js\r\n    */\r\n    function getOffset(picker, input) {\r\n        var extraY = 0;\r\n        var dpWidth = picker.outerWidth();\r\n        var dpHeight = picker.outerHeight();\r\n        var inputHeight = input.outerHeight();\r\n        var doc = picker[0].ownerDocument;\r\n        var docElem = doc.documentElement;\r\n        var viewWidth = docElem.clientWidth + $(doc).scrollLeft();\r\n        var viewHeight = docElem.clientHeight + $(doc).scrollTop();\r\n        var offset = input.offset();\r\n        offset.top += inputHeight;\r\n\r\n        offset.left -=\r\n            Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?\r\n            Math.abs(offset.left + dpWidth - viewWidth) : 0);\r\n\r\n        offset.top -=\r\n            Math.min(offset.top, ((offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?\r\n            Math.abs(dpHeight + inputHeight - extraY) : extraY));\r\n\r\n        return offset;\r\n    }\r\n\r\n    /**\r\n    * noop - do nothing\r\n    */\r\n    function noop() {\r\n\r\n    }\r\n\r\n    /**\r\n    * stopPropagation - makes the code only doing this a little easier to read in line\r\n    */\r\n    function stopPropagation(e) {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    /**\r\n    * Create a function bound to a given object\r\n    * Thanks to underscore.js\r\n    */\r\n    function bind(func, obj) {\r\n        var slice = Array.prototype.slice;\r\n        var args = slice.call(arguments, 2);\r\n        return function () {\r\n            return func.apply(obj, args.concat(slice.call(arguments)));\r\n        };\r\n    }\r\n\r\n    /**\r\n    * Lightweight drag helper.  Handles containment within the element, so that\r\n    * when dragging, the x is within [0,element.width] and y is within [0,element.height]\r\n    */\r\n    function draggable(element, onmove, onstart, onstop) {\r\n        onmove = onmove || function () { };\r\n        onstart = onstart || function () { };\r\n        onstop = onstop || function () { };\r\n        var doc = document;\r\n        var dragging = false;\r\n        var offset = {};\r\n        var maxHeight = 0;\r\n        var maxWidth = 0;\r\n        var hasTouch = ('ontouchstart' in window);\r\n\r\n        var duringDragEvents = {};\r\n        duringDragEvents[\"selectstart\"] = prevent;\r\n        duringDragEvents[\"dragstart\"] = prevent;\r\n        duringDragEvents[\"touchmove mousemove\"] = move;\r\n        duringDragEvents[\"touchend mouseup\"] = stop;\r\n\r\n        function prevent(e) {\r\n            if (e.stopPropagation) {\r\n                e.stopPropagation();\r\n            }\r\n            if (e.preventDefault) {\r\n                e.preventDefault();\r\n            }\r\n            e.returnValue = false;\r\n        }\r\n\r\n        function move(e) {\r\n            if (dragging) {\r\n                // Mouseup happened outside of window\r\n                if (IE && doc.documentMode < 9 && !e.button) {\r\n                    return stop();\r\n                }\r\n\r\n                var t0 = e.originalEvent && e.originalEvent.touches && e.originalEvent.touches[0];\r\n                var pageX = t0 && t0.pageX || e.pageX;\r\n                var pageY = t0 && t0.pageY || e.pageY;\r\n\r\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\r\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\r\n\r\n                if (hasTouch) {\r\n                    // Stop scrolling in iOS\r\n                    prevent(e);\r\n                }\r\n\r\n                onmove.apply(element, [dragX, dragY, e]);\r\n            }\r\n        }\r\n\r\n        function start(e) {\r\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\r\n\r\n            if (!rightclick && !dragging) {\r\n                if (onstart.apply(element, arguments) !== false) {\r\n                    dragging = true;\r\n                    maxHeight = $(element).height();\r\n                    maxWidth = $(element).width();\r\n                    offset = $(element).offset();\r\n\r\n                    $(doc).bind(duringDragEvents);\r\n                    $(doc.body).addClass(\"sp-dragging\");\r\n\r\n                    move(e);\r\n\r\n                    prevent(e);\r\n                }\r\n            }\r\n        }\r\n\r\n        function stop() {\r\n            if (dragging) {\r\n                $(doc).unbind(duringDragEvents);\r\n                $(doc.body).removeClass(\"sp-dragging\");\r\n\r\n                // Wait a tick before notifying observers to allow the click event\r\n                // to fire in Chrome.\r\n                setTimeout(function() {\r\n                    onstop.apply(element, arguments);\r\n                }, 0);\r\n            }\r\n            dragging = false;\r\n        }\r\n\r\n        $(element).bind(\"touchstart mousedown\", start);\r\n    }\r\n\r\n    function throttle(func, wait, debounce) {\r\n        var timeout;\r\n        return function () {\r\n            var context = this, args = arguments;\r\n            var throttler = function () {\r\n                timeout = null;\r\n                func.apply(context, args);\r\n            };\r\n            if (debounce) clearTimeout(timeout);\r\n            if (debounce || !timeout) timeout = setTimeout(throttler, wait);\r\n        };\r\n    }\r\n\r\n    function inputTypeColorSupport() {\r\n        return $.fn.spectrum.inputTypeColorSupport();\r\n    }\r\n\r\n    /**\r\n    * Define a jQuery plugin\r\n    */\r\n    var dataID = \"spectrum.id\";\r\n    $.fn.spectrum = function (opts, extra) {\r\n\r\n        if (typeof opts == \"string\") {\r\n\r\n            var returnValue = this;\r\n            var args = Array.prototype.slice.call( arguments, 1 );\r\n\r\n            this.each(function () {\r\n                var spect = spectrums[$(this).data(dataID)];\r\n                if (spect) {\r\n                    var method = spect[opts];\r\n                    if (!method) {\r\n                        throw new Error( \"Spectrum: no such method: '\" + opts + \"'\" );\r\n                    }\r\n\r\n                    if (opts == \"get\") {\r\n                        returnValue = spect.get();\r\n                    }\r\n                    else if (opts == \"container\") {\r\n                        returnValue = spect.container;\r\n                    }\r\n                    else if (opts == \"option\") {\r\n                        returnValue = spect.option.apply(spect, args);\r\n                    }\r\n                    else if (opts == \"destroy\") {\r\n                        spect.destroy();\r\n                        $(this).removeData(dataID);\r\n                    }\r\n                    else {\r\n                        method.apply(spect, args);\r\n                    }\r\n                }\r\n            });\r\n\r\n            return returnValue;\r\n        }\r\n\r\n        // Initializing a new instance of spectrum\r\n        return this.spectrum(\"destroy\").each(function () {\r\n            var options = $.extend({}, opts, $(this).data());\r\n            var spect = spectrum(this, options);\r\n            $(this).data(dataID, spect.id);\r\n        });\r\n    };\r\n\r\n    $.fn.spectrum.load = true;\r\n    $.fn.spectrum.loadOpts = {};\r\n    $.fn.spectrum.draggable = draggable;\r\n    $.fn.spectrum.defaults = defaultOpts;\r\n    $.fn.spectrum.inputTypeColorSupport = function inputTypeColorSupport() {\r\n        if (typeof inputTypeColorSupport._cachedResult === \"undefined\") {\r\n            var colorInput = $(\"<input type='color'/>\")[0]; // if color element is supported, value will default to not null\r\n            inputTypeColorSupport._cachedResult = colorInput.type === \"color\" && colorInput.value !== \"\";\r\n        }\r\n        return inputTypeColorSupport._cachedResult;\r\n    };\r\n\r\n    $.spectrum = { };\r\n    $.spectrum.localization = { };\r\n    $.spectrum.palettes = { };\r\n\r\n    $.fn.spectrum.processNativeColorInputs = function () {\r\n        var colorInputs = $(\"input[type=color]\");\r\n        if (colorInputs.length && !inputTypeColorSupport()) {\r\n            colorInputs.spectrum({\r\n                preferredFormat: \"hex6\"\r\n            });\r\n        }\r\n    };\r\n\r\n    // TinyColor v1.1.2\r\n    // https://github.com/bgrins/TinyColor\r\n    // Brian Grinstead, MIT License\r\n\r\n    (function() {\r\n\r\n    var trimLeft = /^[\\s,#]+/,\r\n        trimRight = /\\s+$/,\r\n        tinyCounter = 0,\r\n        math = Math,\r\n        mathRound = math.round,\r\n        mathMin = math.min,\r\n        mathMax = math.max,\r\n        mathRandom = math.random;\r\n\r\n    var tinycolor = function(color, opts) {\r\n\r\n        color = (color) ? color : '';\r\n        opts = opts || { };\r\n\r\n        // If input is already a tinycolor, return itself\r\n        if (color instanceof tinycolor) {\r\n           return color;\r\n        }\r\n        // If we are called as a function, call using new instead\r\n        if (!(this instanceof tinycolor)) {\r\n            return new tinycolor(color, opts);\r\n        }\r\n\r\n        var rgb = inputToRGB(color);\r\n        this._originalInput = color,\r\n        this._r = rgb.r,\r\n        this._g = rgb.g,\r\n        this._b = rgb.b,\r\n        this._a = rgb.a,\r\n        this._roundA = mathRound(100*this._a) / 100,\r\n        this._format = opts.format || rgb.format;\r\n        this._gradientType = opts.gradientType;\r\n\r\n        // Don't let the range of [0,255] come back in [0,1].\r\n        // Potentially lose a little bit of precision here, but will fix issues where\r\n        // .5 gets interpreted as half of the total, instead of half of 1\r\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\r\n        if (this._r < 1) { this._r = mathRound(this._r); }\r\n        if (this._g < 1) { this._g = mathRound(this._g); }\r\n        if (this._b < 1) { this._b = mathRound(this._b); }\r\n\r\n        this._ok = rgb.ok;\r\n        this._tc_id = tinyCounter++;\r\n    };\r\n\r\n    tinycolor.prototype = {\r\n        isDark: function() {\r\n            return this.getBrightness() < 128;\r\n        },\r\n        isLight: function() {\r\n            return !this.isDark();\r\n        },\r\n        isValid: function() {\r\n            return this._ok;\r\n        },\r\n        getOriginalInput: function() {\r\n          return this._originalInput;\r\n        },\r\n        getFormat: function() {\r\n            return this._format;\r\n        },\r\n        getAlpha: function() {\r\n            return this._a;\r\n        },\r\n        getBrightness: function() {\r\n            var rgb = this.toRgb();\r\n            return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\r\n        },\r\n        setAlpha: function(value) {\r\n            this._a = boundAlpha(value);\r\n            this._roundA = mathRound(100*this._a) / 100;\r\n            return this;\r\n        },\r\n        toHsv: function() {\r\n            var hsv = rgbToHsv(this._r, this._g, this._b);\r\n            return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\r\n        },\r\n        toHsvString: function() {\r\n            var hsv = rgbToHsv(this._r, this._g, this._b);\r\n            var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\r\n            return (this._a == 1) ?\r\n              \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\r\n              \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\r\n        },\r\n        toHsl: function() {\r\n            var hsl = rgbToHsl(this._r, this._g, this._b);\r\n            return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\r\n        },\r\n        toHslString: function() {\r\n            var hsl = rgbToHsl(this._r, this._g, this._b);\r\n            var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\r\n            return (this._a == 1) ?\r\n              \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\r\n              \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\r\n        },\r\n        toHex: function(allow3Char) {\r\n            return rgbToHex(this._r, this._g, this._b, allow3Char);\r\n        },\r\n        toHexString: function(allow3Char) {\r\n            return '#' + this.toHex(allow3Char);\r\n        },\r\n        toHex8: function() {\r\n            return rgbaToHex(this._r, this._g, this._b, this._a);\r\n        },\r\n        toHex8String: function() {\r\n            return '#' + this.toHex8();\r\n        },\r\n        toRgb: function() {\r\n            return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\r\n        },\r\n        toRgbString: function() {\r\n            return (this._a == 1) ?\r\n              \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\r\n              \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\r\n        },\r\n        toPercentageRgb: function() {\r\n            return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\r\n        },\r\n        toPercentageRgbString: function() {\r\n            return (this._a == 1) ?\r\n              \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\r\n              \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\r\n        },\r\n        toName: function() {\r\n            if (this._a === 0) {\r\n                return \"transparent\";\r\n            }\r\n\r\n            if (this._a < 1) {\r\n                return false;\r\n            }\r\n\r\n            return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\r\n        },\r\n        toFilter: function(secondColor) {\r\n            var hex8String = '#' + rgbaToHex(this._r, this._g, this._b, this._a);\r\n            var secondHex8String = hex8String;\r\n            var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\r\n\r\n            if (secondColor) {\r\n                var s = tinycolor(secondColor);\r\n                secondHex8String = s.toHex8String();\r\n            }\r\n\r\n            return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\r\n        },\r\n        toString: function(format) {\r\n            var formatSet = !!format;\r\n            format = format || this._format;\r\n\r\n            var formattedString = false;\r\n            var hasAlpha = this._a < 1 && this._a >= 0;\r\n            var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"name\");\r\n\r\n            if (needsAlphaFormat) {\r\n                // Special case for \"transparent\", all other non-alpha formats\r\n                // will return rgba when there is transparency.\r\n                if (format === \"name\" && this._a === 0) {\r\n                    return this.toName();\r\n                }\r\n                return this.toRgbString();\r\n            }\r\n            if (format === \"rgb\") {\r\n                formattedString = this.toRgbString();\r\n            }\r\n            if (format === \"prgb\") {\r\n                formattedString = this.toPercentageRgbString();\r\n            }\r\n            if (format === \"hex\" || format === \"hex6\") {\r\n                formattedString = this.toHexString();\r\n            }\r\n            if (format === \"hex3\") {\r\n                formattedString = this.toHexString(true);\r\n            }\r\n            if (format === \"hex8\") {\r\n                formattedString = this.toHex8String();\r\n            }\r\n            if (format === \"name\") {\r\n                formattedString = this.toName();\r\n            }\r\n            if (format === \"hsl\") {\r\n                formattedString = this.toHslString();\r\n            }\r\n            if (format === \"hsv\") {\r\n                formattedString = this.toHsvString();\r\n            }\r\n\r\n            return formattedString || this.toHexString();\r\n        },\r\n\r\n        _applyModification: function(fn, args) {\r\n            var color = fn.apply(null, [this].concat([].slice.call(args)));\r\n            this._r = color._r;\r\n            this._g = color._g;\r\n            this._b = color._b;\r\n            this.setAlpha(color._a);\r\n            return this;\r\n        },\r\n        lighten: function() {\r\n            return this._applyModification(lighten, arguments);\r\n        },\r\n        brighten: function() {\r\n            return this._applyModification(brighten, arguments);\r\n        },\r\n        darken: function() {\r\n            return this._applyModification(darken, arguments);\r\n        },\r\n        desaturate: function() {\r\n            return this._applyModification(desaturate, arguments);\r\n        },\r\n        saturate: function() {\r\n            return this._applyModification(saturate, arguments);\r\n        },\r\n        greyscale: function() {\r\n            return this._applyModification(greyscale, arguments);\r\n        },\r\n        spin: function() {\r\n            return this._applyModification(spin, arguments);\r\n        },\r\n\r\n        _applyCombination: function(fn, args) {\r\n            return fn.apply(null, [this].concat([].slice.call(args)));\r\n        },\r\n        analogous: function() {\r\n            return this._applyCombination(analogous, arguments);\r\n        },\r\n        complement: function() {\r\n            return this._applyCombination(complement, arguments);\r\n        },\r\n        monochromatic: function() {\r\n            return this._applyCombination(monochromatic, arguments);\r\n        },\r\n        splitcomplement: function() {\r\n            return this._applyCombination(splitcomplement, arguments);\r\n        },\r\n        triad: function() {\r\n            return this._applyCombination(triad, arguments);\r\n        },\r\n        tetrad: function() {\r\n            return this._applyCombination(tetrad, arguments);\r\n        }\r\n    };\r\n\r\n    // If input is an object, force 1 into \"1.0\" to handle ratios properly\r\n    // String input requires \"1.0\" as input, so 1 will be treated as 1\r\n    tinycolor.fromRatio = function(color, opts) {\r\n        if (typeof color == \"object\") {\r\n            var newColor = {};\r\n            for (var i in color) {\r\n                if (color.hasOwnProperty(i)) {\r\n                    if (i === \"a\") {\r\n                        newColor[i] = color[i];\r\n                    }\r\n                    else {\r\n                        newColor[i] = convertToPercentage(color[i]);\r\n                    }\r\n                }\r\n            }\r\n            color = newColor;\r\n        }\r\n\r\n        return tinycolor(color, opts);\r\n    };\r\n\r\n    // Given a string or object, convert that input to RGB\r\n    // Possible string inputs:\r\n    //\r\n    //     \"red\"\r\n    //     \"#f00\" or \"f00\"\r\n    //     \"#ff0000\" or \"ff0000\"\r\n    //     \"#ff000000\" or \"ff000000\"\r\n    //     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\r\n    //     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\r\n    //     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\r\n    //     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\r\n    //     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\r\n    //     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\r\n    //     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\r\n    //\r\n    function inputToRGB(color) {\r\n\r\n        var rgb = { r: 0, g: 0, b: 0 };\r\n        var a = 1;\r\n        var ok = false;\r\n        var format = false;\r\n\r\n        if (typeof color == \"string\") {\r\n            color = stringInputToObject(color);\r\n        }\r\n\r\n        if (typeof color == \"object\") {\r\n            if (color.hasOwnProperty(\"r\") && color.hasOwnProperty(\"g\") && color.hasOwnProperty(\"b\")) {\r\n                rgb = rgbToRgb(color.r, color.g, color.b);\r\n                ok = true;\r\n                format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\r\n            }\r\n            else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"v\")) {\r\n                color.s = convertToPercentage(color.s);\r\n                color.v = convertToPercentage(color.v);\r\n                rgb = hsvToRgb(color.h, color.s, color.v);\r\n                ok = true;\r\n                format = \"hsv\";\r\n            }\r\n            else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"l\")) {\r\n                color.s = convertToPercentage(color.s);\r\n                color.l = convertToPercentage(color.l);\r\n                rgb = hslToRgb(color.h, color.s, color.l);\r\n                ok = true;\r\n                format = \"hsl\";\r\n            }\r\n\r\n            if (color.hasOwnProperty(\"a\")) {\r\n                a = color.a;\r\n            }\r\n        }\r\n\r\n        a = boundAlpha(a);\r\n\r\n        return {\r\n            ok: ok,\r\n            format: color.format || format,\r\n            r: mathMin(255, mathMax(rgb.r, 0)),\r\n            g: mathMin(255, mathMax(rgb.g, 0)),\r\n            b: mathMin(255, mathMax(rgb.b, 0)),\r\n            a: a\r\n        };\r\n    }\r\n\r\n\r\n    // Conversion Functions\r\n    // --------------------\r\n\r\n    // `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\r\n    // <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\r\n\r\n    // `rgbToRgb`\r\n    // Handle bounds / percentage checking to conform to CSS color spec\r\n    // <http://www.w3.org/TR/css3-color/>\r\n    // *Assumes:* r, g, b in [0, 255] or [0, 1]\r\n    // *Returns:* { r, g, b } in [0, 255]\r\n    function rgbToRgb(r, g, b){\r\n        return {\r\n            r: bound01(r, 255) * 255,\r\n            g: bound01(g, 255) * 255,\r\n            b: bound01(b, 255) * 255\r\n        };\r\n    }\r\n\r\n    // `rgbToHsl`\r\n    // Converts an RGB color value to HSL.\r\n    // *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\r\n    // *Returns:* { h, s, l } in [0,1]\r\n    function rgbToHsl(r, g, b) {\r\n\r\n        r = bound01(r, 255);\r\n        g = bound01(g, 255);\r\n        b = bound01(b, 255);\r\n\r\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\r\n        var h, s, l = (max + min) / 2;\r\n\r\n        if(max == min) {\r\n            h = s = 0; // achromatic\r\n        }\r\n        else {\r\n            var d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch(max) {\r\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n                case g: h = (b - r) / d + 2; break;\r\n                case b: h = (r - g) / d + 4; break;\r\n            }\r\n\r\n            h /= 6;\r\n        }\r\n\r\n        return { h: h, s: s, l: l };\r\n    }\r\n\r\n    // `hslToRgb`\r\n    // Converts an HSL color value to RGB.\r\n    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\r\n    // *Returns:* { r, g, b } in the set [0, 255]\r\n    function hslToRgb(h, s, l) {\r\n        var r, g, b;\r\n\r\n        h = bound01(h, 360);\r\n        s = bound01(s, 100);\r\n        l = bound01(l, 100);\r\n\r\n        function hue2rgb(p, q, t) {\r\n            if(t < 0) t += 1;\r\n            if(t > 1) t -= 1;\r\n            if(t < 1/6) return p + (q - p) * 6 * t;\r\n            if(t < 1/2) return q;\r\n            if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n            return p;\r\n        }\r\n\r\n        if(s === 0) {\r\n            r = g = b = l; // achromatic\r\n        }\r\n        else {\r\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n            var p = 2 * l - q;\r\n            r = hue2rgb(p, q, h + 1/3);\r\n            g = hue2rgb(p, q, h);\r\n            b = hue2rgb(p, q, h - 1/3);\r\n        }\r\n\r\n        return { r: r * 255, g: g * 255, b: b * 255 };\r\n    }\r\n\r\n    // `rgbToHsv`\r\n    // Converts an RGB color value to HSV\r\n    // *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\r\n    // *Returns:* { h, s, v } in [0,1]\r\n    function rgbToHsv(r, g, b) {\r\n\r\n        r = bound01(r, 255);\r\n        g = bound01(g, 255);\r\n        b = bound01(b, 255);\r\n\r\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\r\n        var h, s, v = max;\r\n\r\n        var d = max - min;\r\n        s = max === 0 ? 0 : d / max;\r\n\r\n        if(max == min) {\r\n            h = 0; // achromatic\r\n        }\r\n        else {\r\n            switch(max) {\r\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n                case g: h = (b - r) / d + 2; break;\r\n                case b: h = (r - g) / d + 4; break;\r\n            }\r\n            h /= 6;\r\n        }\r\n        return { h: h, s: s, v: v };\r\n    }\r\n\r\n    // `hsvToRgb`\r\n    // Converts an HSV color value to RGB.\r\n    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\r\n    // *Returns:* { r, g, b } in the set [0, 255]\r\n     function hsvToRgb(h, s, v) {\r\n\r\n        h = bound01(h, 360) * 6;\r\n        s = bound01(s, 100);\r\n        v = bound01(v, 100);\r\n\r\n        var i = math.floor(h),\r\n            f = h - i,\r\n            p = v * (1 - s),\r\n            q = v * (1 - f * s),\r\n            t = v * (1 - (1 - f) * s),\r\n            mod = i % 6,\r\n            r = [v, q, p, p, t, v][mod],\r\n            g = [t, v, v, q, p, p][mod],\r\n            b = [p, p, t, v, v, q][mod];\r\n\r\n        return { r: r * 255, g: g * 255, b: b * 255 };\r\n    }\r\n\r\n    // `rgbToHex`\r\n    // Converts an RGB color to hex\r\n    // Assumes r, g, and b are contained in the set [0, 255]\r\n    // Returns a 3 or 6 character hex\r\n    function rgbToHex(r, g, b, allow3Char) {\r\n\r\n        var hex = [\r\n            pad2(mathRound(r).toString(16)),\r\n            pad2(mathRound(g).toString(16)),\r\n            pad2(mathRound(b).toString(16))\r\n        ];\r\n\r\n        // Return a 3 character hex if possible\r\n        if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\r\n            return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\r\n        }\r\n\r\n        return hex.join(\"\");\r\n    }\r\n        // `rgbaToHex`\r\n        // Converts an RGBA color plus alpha transparency to hex\r\n        // Assumes r, g, b and a are contained in the set [0, 255]\r\n        // Returns an 8 character hex\r\n        function rgbaToHex(r, g, b, a) {\r\n\r\n            var hex = [\r\n                pad2(convertDecimalToHex(a)),\r\n                pad2(mathRound(r).toString(16)),\r\n                pad2(mathRound(g).toString(16)),\r\n                pad2(mathRound(b).toString(16))\r\n            ];\r\n\r\n            return hex.join(\"\");\r\n        }\r\n\r\n    // `equals`\r\n    // Can be called with any tinycolor input\r\n    tinycolor.equals = function (color1, color2) {\r\n        if (!color1 || !color2) { return false; }\r\n        return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\r\n    };\r\n    tinycolor.random = function() {\r\n        return tinycolor.fromRatio({\r\n            r: mathRandom(),\r\n            g: mathRandom(),\r\n            b: mathRandom()\r\n        });\r\n    };\r\n\r\n\r\n    // Modification Functions\r\n    // ----------------------\r\n    // Thanks to less.js for some of the basics here\r\n    // <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\r\n\r\n    function desaturate(color, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 10);\r\n        var hsl = tinycolor(color).toHsl();\r\n        hsl.s -= amount / 100;\r\n        hsl.s = clamp01(hsl.s);\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    function saturate(color, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 10);\r\n        var hsl = tinycolor(color).toHsl();\r\n        hsl.s += amount / 100;\r\n        hsl.s = clamp01(hsl.s);\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    function greyscale(color) {\r\n        return tinycolor(color).desaturate(100);\r\n    }\r\n\r\n    function lighten (color, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 10);\r\n        var hsl = tinycolor(color).toHsl();\r\n        hsl.l += amount / 100;\r\n        hsl.l = clamp01(hsl.l);\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    function brighten(color, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 10);\r\n        var rgb = tinycolor(color).toRgb();\r\n        rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\r\n        rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\r\n        rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\r\n        return tinycolor(rgb);\r\n    }\r\n\r\n    function darken (color, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 10);\r\n        var hsl = tinycolor(color).toHsl();\r\n        hsl.l -= amount / 100;\r\n        hsl.l = clamp01(hsl.l);\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    // Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\r\n    // Values outside of this range will be wrapped into this range.\r\n    function spin(color, amount) {\r\n        var hsl = tinycolor(color).toHsl();\r\n        var hue = (mathRound(hsl.h) + amount) % 360;\r\n        hsl.h = hue < 0 ? 360 + hue : hue;\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    // Combination Functions\r\n    // ---------------------\r\n    // Thanks to jQuery xColor for some of the ideas behind these\r\n    // <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\r\n\r\n    function complement(color) {\r\n        var hsl = tinycolor(color).toHsl();\r\n        hsl.h = (hsl.h + 180) % 360;\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    function triad(color) {\r\n        var hsl = tinycolor(color).toHsl();\r\n        var h = hsl.h;\r\n        return [\r\n            tinycolor(color),\r\n            tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\r\n            tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\r\n        ];\r\n    }\r\n\r\n    function tetrad(color) {\r\n        var hsl = tinycolor(color).toHsl();\r\n        var h = hsl.h;\r\n        return [\r\n            tinycolor(color),\r\n            tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\r\n            tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\r\n            tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\r\n        ];\r\n    }\r\n\r\n    function splitcomplement(color) {\r\n        var hsl = tinycolor(color).toHsl();\r\n        var h = hsl.h;\r\n        return [\r\n            tinycolor(color),\r\n            tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\r\n            tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\r\n        ];\r\n    }\r\n\r\n    function analogous(color, results, slices) {\r\n        results = results || 6;\r\n        slices = slices || 30;\r\n\r\n        var hsl = tinycolor(color).toHsl();\r\n        var part = 360 / slices;\r\n        var ret = [tinycolor(color)];\r\n\r\n        for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\r\n            hsl.h = (hsl.h + part) % 360;\r\n            ret.push(tinycolor(hsl));\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    function monochromatic(color, results) {\r\n        results = results || 6;\r\n        var hsv = tinycolor(color).toHsv();\r\n        var h = hsv.h, s = hsv.s, v = hsv.v;\r\n        var ret = [];\r\n        var modification = 1 / results;\r\n\r\n        while (results--) {\r\n            ret.push(tinycolor({ h: h, s: s, v: v}));\r\n            v = (v + modification) % 1;\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    // Utility Functions\r\n    // ---------------------\r\n\r\n    tinycolor.mix = function(color1, color2, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 50);\r\n\r\n        var rgb1 = tinycolor(color1).toRgb();\r\n        var rgb2 = tinycolor(color2).toRgb();\r\n\r\n        var p = amount / 100;\r\n        var w = p * 2 - 1;\r\n        var a = rgb2.a - rgb1.a;\r\n\r\n        var w1;\r\n\r\n        if (w * a == -1) {\r\n            w1 = w;\r\n        } else {\r\n            w1 = (w + a) / (1 + w * a);\r\n        }\r\n\r\n        w1 = (w1 + 1) / 2;\r\n\r\n        var w2 = 1 - w1;\r\n\r\n        var rgba = {\r\n            r: rgb2.r * w1 + rgb1.r * w2,\r\n            g: rgb2.g * w1 + rgb1.g * w2,\r\n            b: rgb2.b * w1 + rgb1.b * w2,\r\n            a: rgb2.a * p  + rgb1.a * (1 - p)\r\n        };\r\n\r\n        return tinycolor(rgba);\r\n    };\r\n\r\n\r\n    // Readability Functions\r\n    // ---------------------\r\n    // <http://www.w3.org/TR/AERT#color-contrast>\r\n\r\n    // `readability`\r\n    // Analyze the 2 colors and returns an object with the following properties:\r\n    //    `brightness`: difference in brightness between the two colors\r\n    //    `color`: difference in color/hue between the two colors\r\n    tinycolor.readability = function(color1, color2) {\r\n        var c1 = tinycolor(color1);\r\n        var c2 = tinycolor(color2);\r\n        var rgb1 = c1.toRgb();\r\n        var rgb2 = c2.toRgb();\r\n        var brightnessA = c1.getBrightness();\r\n        var brightnessB = c2.getBrightness();\r\n        var colorDiff = (\r\n            Math.max(rgb1.r, rgb2.r) - Math.min(rgb1.r, rgb2.r) +\r\n            Math.max(rgb1.g, rgb2.g) - Math.min(rgb1.g, rgb2.g) +\r\n            Math.max(rgb1.b, rgb2.b) - Math.min(rgb1.b, rgb2.b)\r\n        );\r\n\r\n        return {\r\n            brightness: Math.abs(brightnessA - brightnessB),\r\n            color: colorDiff\r\n        };\r\n    };\r\n\r\n    // `readable`\r\n    // http://www.w3.org/TR/AERT#color-contrast\r\n    // Ensure that foreground and background color combinations provide sufficient contrast.\r\n    // *Example*\r\n    //    tinycolor.isReadable(\"#000\", \"#111\") => false\r\n    tinycolor.isReadable = function(color1, color2) {\r\n        var readability = tinycolor.readability(color1, color2);\r\n        return readability.brightness > 125 && readability.color > 500;\r\n    };\r\n\r\n    // `mostReadable`\r\n    // Given a base color and a list of possible foreground or background\r\n    // colors for that base, returns the most readable color.\r\n    // *Example*\r\n    //    tinycolor.mostReadable(\"#123\", [\"#fff\", \"#000\"]) => \"#000\"\r\n    tinycolor.mostReadable = function(baseColor, colorList) {\r\n        var bestColor = null;\r\n        var bestScore = 0;\r\n        var bestIsReadable = false;\r\n        for (var i=0; i < colorList.length; i++) {\r\n\r\n            // We normalize both around the \"acceptable\" breaking point,\r\n            // but rank brightness constrast higher than hue.\r\n\r\n            var readability = tinycolor.readability(baseColor, colorList[i]);\r\n            var readable = readability.brightness > 125 && readability.color > 500;\r\n            var score = 3 * (readability.brightness / 125) + (readability.color / 500);\r\n\r\n            if ((readable && ! bestIsReadable) ||\r\n                (readable && bestIsReadable && score > bestScore) ||\r\n                ((! readable) && (! bestIsReadable) && score > bestScore)) {\r\n                bestIsReadable = readable;\r\n                bestScore = score;\r\n                bestColor = tinycolor(colorList[i]);\r\n            }\r\n        }\r\n        return bestColor;\r\n    };\r\n\r\n\r\n    // Big List of Colors\r\n    // ------------------\r\n    // <http://www.w3.org/TR/css3-color/#svg-color>\r\n    var names = tinycolor.names = {\r\n        aliceblue: \"f0f8ff\",\r\n        antiquewhite: \"faebd7\",\r\n        aqua: \"0ff\",\r\n        aquamarine: \"7fffd4\",\r\n        azure: \"f0ffff\",\r\n        beige: \"f5f5dc\",\r\n        bisque: \"ffe4c4\",\r\n        black: \"000\",\r\n        blanchedalmond: \"ffebcd\",\r\n        blue: \"00f\",\r\n        blueviolet: \"8a2be2\",\r\n        brown: \"a52a2a\",\r\n        burlywood: \"deb887\",\r\n        burntsienna: \"ea7e5d\",\r\n        cadetblue: \"5f9ea0\",\r\n        chartreuse: \"7fff00\",\r\n        chocolate: \"d2691e\",\r\n        coral: \"ff7f50\",\r\n        cornflowerblue: \"6495ed\",\r\n        cornsilk: \"fff8dc\",\r\n        crimson: \"dc143c\",\r\n        cyan: \"0ff\",\r\n        darkblue: \"00008b\",\r\n        darkcyan: \"008b8b\",\r\n        darkgoldenrod: \"b8860b\",\r\n        darkgray: \"a9a9a9\",\r\n        darkgreen: \"006400\",\r\n        darkgrey: \"a9a9a9\",\r\n        darkkhaki: \"bdb76b\",\r\n        darkmagenta: \"8b008b\",\r\n        darkolivegreen: \"556b2f\",\r\n        darkorange: \"ff8c00\",\r\n        darkorchid: \"9932cc\",\r\n        darkred: \"8b0000\",\r\n        darksalmon: \"e9967a\",\r\n        darkseagreen: \"8fbc8f\",\r\n        darkslateblue: \"483d8b\",\r\n        darkslategray: \"2f4f4f\",\r\n        darkslategrey: \"2f4f4f\",\r\n        darkturquoise: \"00ced1\",\r\n        darkviolet: \"9400d3\",\r\n        deeppink: \"ff1493\",\r\n        deepskyblue: \"00bfff\",\r\n        dimgray: \"696969\",\r\n        dimgrey: \"696969\",\r\n        dodgerblue: \"1e90ff\",\r\n        firebrick: \"b22222\",\r\n        floralwhite: \"fffaf0\",\r\n        forestgreen: \"228b22\",\r\n        fuchsia: \"f0f\",\r\n        gainsboro: \"dcdcdc\",\r\n        ghostwhite: \"f8f8ff\",\r\n        gold: \"ffd700\",\r\n        goldenrod: \"daa520\",\r\n        gray: \"808080\",\r\n        green: \"008000\",\r\n        greenyellow: \"adff2f\",\r\n        grey: \"808080\",\r\n        honeydew: \"f0fff0\",\r\n        hotpink: \"ff69b4\",\r\n        indianred: \"cd5c5c\",\r\n        indigo: \"4b0082\",\r\n        ivory: \"fffff0\",\r\n        khaki: \"f0e68c\",\r\n        lavender: \"e6e6fa\",\r\n        lavenderblush: \"fff0f5\",\r\n        lawngreen: \"7cfc00\",\r\n        lemonchiffon: \"fffacd\",\r\n        lightblue: \"add8e6\",\r\n        lightcoral: \"f08080\",\r\n        lightcyan: \"e0ffff\",\r\n        lightgoldenrodyellow: \"fafad2\",\r\n        lightgray: \"d3d3d3\",\r\n        lightgreen: \"90ee90\",\r\n        lightgrey: \"d3d3d3\",\r\n        lightpink: \"ffb6c1\",\r\n        lightsalmon: \"ffa07a\",\r\n        lightseagreen: \"20b2aa\",\r\n        lightskyblue: \"87cefa\",\r\n        lightslategray: \"789\",\r\n        lightslategrey: \"789\",\r\n        lightsteelblue: \"b0c4de\",\r\n        lightyellow: \"ffffe0\",\r\n        lime: \"0f0\",\r\n        limegreen: \"32cd32\",\r\n        linen: \"faf0e6\",\r\n        magenta: \"f0f\",\r\n        maroon: \"800000\",\r\n        mediumaquamarine: \"66cdaa\",\r\n        mediumblue: \"0000cd\",\r\n        mediumorchid: \"ba55d3\",\r\n        mediumpurple: \"9370db\",\r\n        mediumseagreen: \"3cb371\",\r\n        mediumslateblue: \"7b68ee\",\r\n        mediumspringgreen: \"00fa9a\",\r\n        mediumturquoise: \"48d1cc\",\r\n        mediumvioletred: \"c71585\",\r\n        midnightblue: \"191970\",\r\n        mintcream: \"f5fffa\",\r\n        mistyrose: \"ffe4e1\",\r\n        moccasin: \"ffe4b5\",\r\n        navajowhite: \"ffdead\",\r\n        navy: \"000080\",\r\n        oldlace: \"fdf5e6\",\r\n        olive: \"808000\",\r\n        olivedrab: \"6b8e23\",\r\n        orange: \"ffa500\",\r\n        orangered: \"ff4500\",\r\n        orchid: \"da70d6\",\r\n        palegoldenrod: \"eee8aa\",\r\n        palegreen: \"98fb98\",\r\n        paleturquoise: \"afeeee\",\r\n        palevioletred: \"db7093\",\r\n        papayawhip: \"ffefd5\",\r\n        peachpuff: \"ffdab9\",\r\n        peru: \"cd853f\",\r\n        pink: \"ffc0cb\",\r\n        plum: \"dda0dd\",\r\n        powderblue: \"b0e0e6\",\r\n        purple: \"800080\",\r\n        rebeccapurple: \"663399\",\r\n        red: \"f00\",\r\n        rosybrown: \"bc8f8f\",\r\n        royalblue: \"4169e1\",\r\n        saddlebrown: \"8b4513\",\r\n        salmon: \"fa8072\",\r\n        sandybrown: \"f4a460\",\r\n        seagreen: \"2e8b57\",\r\n        seashell: \"fff5ee\",\r\n        sienna: \"a0522d\",\r\n        silver: \"c0c0c0\",\r\n        skyblue: \"87ceeb\",\r\n        slateblue: \"6a5acd\",\r\n        slategray: \"708090\",\r\n        slategrey: \"708090\",\r\n        snow: \"fffafa\",\r\n        springgreen: \"00ff7f\",\r\n        steelblue: \"4682b4\",\r\n        tan: \"d2b48c\",\r\n        teal: \"008080\",\r\n        thistle: \"d8bfd8\",\r\n        tomato: \"ff6347\",\r\n        turquoise: \"40e0d0\",\r\n        violet: \"ee82ee\",\r\n        wheat: \"f5deb3\",\r\n        white: \"fff\",\r\n        whitesmoke: \"f5f5f5\",\r\n        yellow: \"ff0\",\r\n        yellowgreen: \"9acd32\"\r\n    };\r\n\r\n    // Make it easy to access colors via `hexNames[hex]`\r\n    var hexNames = tinycolor.hexNames = flip(names);\r\n\r\n\r\n    // Utilities\r\n    // ---------\r\n\r\n    // `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\r\n    function flip(o) {\r\n        var flipped = { };\r\n        for (var i in o) {\r\n            if (o.hasOwnProperty(i)) {\r\n                flipped[o[i]] = i;\r\n            }\r\n        }\r\n        return flipped;\r\n    }\r\n\r\n    // Return a valid alpha value [0,1] with all invalid values being set to 1\r\n    function boundAlpha(a) {\r\n        a = parseFloat(a);\r\n\r\n        if (isNaN(a) || a < 0 || a > 1) {\r\n            a = 1;\r\n        }\r\n\r\n        return a;\r\n    }\r\n\r\n    // Take input from [0, n] and return it as [0, 1]\r\n    function bound01(n, max) {\r\n        if (isOnePointZero(n)) { n = \"100%\"; }\r\n\r\n        var processPercent = isPercentage(n);\r\n        n = mathMin(max, mathMax(0, parseFloat(n)));\r\n\r\n        // Automatically convert percentage into number\r\n        if (processPercent) {\r\n            n = parseInt(n * max, 10) / 100;\r\n        }\r\n\r\n        // Handle floating point rounding errors\r\n        if ((math.abs(n - max) < 0.000001)) {\r\n            return 1;\r\n        }\r\n\r\n        // Convert into [0, 1] range if it isn't already\r\n        return (n % max) / parseFloat(max);\r\n    }\r\n\r\n    // Force a number between 0 and 1\r\n    function clamp01(val) {\r\n        return mathMin(1, mathMax(0, val));\r\n    }\r\n\r\n    // Parse a base-16 hex value into a base-10 integer\r\n    function parseIntFromHex(val) {\r\n        return parseInt(val, 16);\r\n    }\r\n\r\n    // Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\r\n    // <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\r\n    function isOnePointZero(n) {\r\n        return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\r\n    }\r\n\r\n    // Check to see if string passed in is a percentage\r\n    function isPercentage(n) {\r\n        return typeof n === \"string\" && n.indexOf('%') != -1;\r\n    }\r\n\r\n    // Force a hex value to have 2 characters\r\n    function pad2(c) {\r\n        return c.length == 1 ? '0' + c : '' + c;\r\n    }\r\n\r\n    // Replace a decimal with it's percentage value\r\n    function convertToPercentage(n) {\r\n        if (n <= 1) {\r\n            n = (n * 100) + \"%\";\r\n        }\r\n\r\n        return n;\r\n    }\r\n\r\n    // Converts a decimal to a hex value\r\n    function convertDecimalToHex(d) {\r\n        return Math.round(parseFloat(d) * 255).toString(16);\r\n    }\r\n    // Converts a hex value to a decimal\r\n    function convertHexToDecimal(h) {\r\n        return (parseIntFromHex(h) / 255);\r\n    }\r\n\r\n    var matchers = (function() {\r\n\r\n        // <http://www.w3.org/TR/css3-values/#integers>\r\n        var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\r\n\r\n        // <http://www.w3.org/TR/css3-values/#number-value>\r\n        var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\r\n\r\n        // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\r\n        var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\r\n\r\n        // Actual matching.\r\n        // Parentheses and commas are optional, but not required.\r\n        // Whitespace can take the place of commas or opening paren\r\n        var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\r\n        var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\r\n\r\n        return {\r\n            rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\r\n            rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\r\n            hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\r\n            hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\r\n            hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\r\n            hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\r\n            hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\r\n            hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\r\n            hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\r\n        };\r\n    })();\r\n\r\n    // `stringInputToObject`\r\n    // Permissive string parsing.  Take in a number of formats, and output an object\r\n    // based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\r\n    function stringInputToObject(color) {\r\n\r\n        color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\r\n        var named = false;\r\n        if (names[color]) {\r\n            color = names[color];\r\n            named = true;\r\n        }\r\n        else if (color == 'transparent') {\r\n            return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\r\n        }\r\n\r\n        // Try to match string input using regular expressions.\r\n        // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\r\n        // Just return an object and let the conversion functions handle that.\r\n        // This way the result will be the same whether the tinycolor is initialized with string or object.\r\n        var match;\r\n        if ((match = matchers.rgb.exec(color))) {\r\n            return { r: match[1], g: match[2], b: match[3] };\r\n        }\r\n        if ((match = matchers.rgba.exec(color))) {\r\n            return { r: match[1], g: match[2], b: match[3], a: match[4] };\r\n        }\r\n        if ((match = matchers.hsl.exec(color))) {\r\n            return { h: match[1], s: match[2], l: match[3] };\r\n        }\r\n        if ((match = matchers.hsla.exec(color))) {\r\n            return { h: match[1], s: match[2], l: match[3], a: match[4] };\r\n        }\r\n        if ((match = matchers.hsv.exec(color))) {\r\n            return { h: match[1], s: match[2], v: match[3] };\r\n        }\r\n        if ((match = matchers.hsva.exec(color))) {\r\n            return { h: match[1], s: match[2], v: match[3], a: match[4] };\r\n        }\r\n        if ((match = matchers.hex8.exec(color))) {\r\n            return {\r\n                a: convertHexToDecimal(match[1]),\r\n                r: parseIntFromHex(match[2]),\r\n                g: parseIntFromHex(match[3]),\r\n                b: parseIntFromHex(match[4]),\r\n                format: named ? \"name\" : \"hex8\"\r\n            };\r\n        }\r\n        if ((match = matchers.hex6.exec(color))) {\r\n            return {\r\n                r: parseIntFromHex(match[1]),\r\n                g: parseIntFromHex(match[2]),\r\n                b: parseIntFromHex(match[3]),\r\n                format: named ? \"name\" : \"hex\"\r\n            };\r\n        }\r\n        if ((match = matchers.hex3.exec(color))) {\r\n            return {\r\n                r: parseIntFromHex(match[1] + '' + match[1]),\r\n                g: parseIntFromHex(match[2] + '' + match[2]),\r\n                b: parseIntFromHex(match[3] + '' + match[3]),\r\n                format: named ? \"name\" : \"hex\"\r\n            };\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    window.tinycolor = tinycolor;\r\n    })();\r\n\r\n    $(function () {\r\n        if ($.fn.spectrum.load) {\r\n            $.fn.spectrum.processNativeColorInputs();\r\n        }\r\n    });\r\n\r\n});\r\n","Frame_Design/lib/bower_components/spectrum/i18n/jquery.spectrum-ja.js":"// Spectrum Colorpicker\r\n// Japanese (ja) localization\r\n// https://github.com/bgrins/spectrum\r\n\r\n(function ( $ ) {\r\n\r\n    var localization = $.spectrum.localization[\"ja\"] = {\r\n        cancelText: \"\u00e4\u00b8\u00ad\u00e6\u00ad\u00a2\",\r\n        chooseText: \"\u00e9\u0081\u00b8\u00e6\u008a\u009e\"\r\n    };\r\n\r\n    $.extend($.fn.spectrum.defaults, localization);\r\n\r\n})( jQuery );\r\n","Frame_Design/lib/bower_components/spectrum/i18n/jquery.spectrum-gr.js":"// Spectrum Colorpicker\r\n// Greek (gr) localization\r\n// https://github.com/bgrins/spectrum\r\n\r\n(function ( $ ) {\r\n\r\n    var localization = $.spectrum.localization[\"gr\"] = {\r\n        cancelText: \"\u00ce\u0091\u00ce\u00ba\u00cf\u008d\u00cf\u0081\u00cf\u0089\u00cf\u0083\u00ce\u00b7\",\r\n        chooseText: \"\u00ce\u0095\u00cf\u0080\u00ce\u00b9\u00ce\u00bb\u00ce\u00bf\u00ce\u00b3\u00ce\u00ae\",\r\n        clearText: \"\u00ce\u009a\u00ce\u00b1\u00ce\u00b8\u00ce\u00b1\u00cf\u0081\u00ce\u00b9\u00cf\u0083\u00ce\u00bc\u00cf\u008c\u00cf\u0082 \u00ce\u00b5\u00cf\u0080\u00ce\u00b9\u00ce\u00bb\u00ce\u00b5\u00ce\u00b3\u00ce\u00bc\u00ce\u00ad\u00ce\u00bd\u00ce\u00bf\u00cf\u0085 \u00cf\u0087\u00cf\u0081\u00cf\u008e\u00ce\u00bc\u00ce\u00b1\u00cf\u0084\u00ce\u00bf\u00cf\u0082\",\r\n        noColorSelectedText: \"\u00ce\u0094\u00ce\u00b5\u00ce\u00bd \u00ce\u00ad\u00cf\u0087\u00ce\u00b5\u00ce\u00b9 \u00ce\u00b5\u00cf\u0080\u00ce\u00b9\u00ce\u00bb\u00ce\u00b5\u00cf\u0087\u00ce\u00b8\u00ce\u00b5\u00ce\u00af \u00ce\u00ba\u00ce\u00ac\u00cf\u0080\u00ce\u00bf\u00ce\u00b9\u00ce\u00bf \u00cf\u0087\u00cf\u0081\u00cf\u008e\u00ce\u00bc\u00ce\u00b1\",\r\n        togglePaletteMoreText: \"\u00ce\u00a0\u00ce\u00b5\u00cf\u0081\u00ce\u00b9\u00cf\u0083\u00cf\u0083\u00cf\u008c\u00cf\u0084\u00ce\u00b5\u00cf\u0081\u00ce\u00b1\",\r\n        togglePaletteLessText: \"\u00ce\u009b\u00ce\u00b9\u00ce\u00b3\u00cf\u008c\u00cf\u0084\u00ce\u00b5\u00cf\u0081\u00ce\u00b1\"\r\n    };\r\n\r\n    $.extend($.gr.spectrum.defaults, localization);\r\n\r\n})( jQuery );\r\n","Frame_Design/lib/bower_components/spectrum/i18n/jquery.spectrum-he.js":"// Spectrum Colorpicker\r\n// Hebrew (he) localization\r\n// https://github.com/bgrins/spectrum\r\n\r\n(function ( $ ) {\r\n\r\n    var localization = $.spectrum.localization[\"he\"] = {\r\n        cancelText: \"\u00d7\u0091\u00d7\u0098\u00d7\u009c \u00d7\u0091\u00d7\u0097\u00d7\u0099\u00d7\u00a8\u00d7\u0094\",\r\n        chooseText: \"\u00d7\u0091\u00d7\u0097\u00d7\u00a8 \u00d7\u00a6\u00d7\u0091\u00d7\u00a2\",\r\n        clearText: \"\u00d7\u0090\u00d7\u00a4\u00d7\u00a1 \u00d7\u0091\u00d7\u0097\u00d7\u0099\u00d7\u00a8\u00d7\u0094\",\r\n        noColorSelectedText: \"\u00d7\u009c\u00d7\u0090 \u00d7\u00a0\u00d7\u0091\u00d7\u0097\u00d7\u00a8 \u00d7\u00a6\u00d7\u0091\u00d7\u00a2\",\r\n        togglePaletteMoreText: \"\u00d7\u00a2\u00d7\u0095\u00d7\u0093 \u00d7\u00a6\u00d7\u0091\u00d7\u00a2\u00d7\u0099\u00d7\u009d\",\r\n        togglePaletteLessText: \"\u00d7\u00a4\u00d7\u0097\u00d7\u0095\u00d7\u00aa \u00d7\u00a6\u00d7\u0091\u00d7\u00a2\u00d7\u0099\u00d7\u009d\"\r\n    };\r\n\r\n    $.extend($.fn.spectrum.defaults, localization);\r\n\r\n})( jQuery );\r\n","Frame_Design/lib/bower_components/spectrum/i18n/jquery.spectrum-hr.js":"// Spectrum Colorpicker\r\n// Croatian (hr) localization\r\n// https://github.com/bgrins/spectrum\r\n\r\n(function ( $ ) {\r\n\r\n    var localization = $.spectrum.localization[\"hr\"] = {\r\n        cancelText: \"Odustani\",\r\n        chooseText: \"Odaberi\",\r\n        clearText: \"Poni\u00c5\u00a1ti odabir\",\r\n        noColorSelectedText: \"Niti jedna boja nije odabrana\",\r\n        togglePaletteMoreText: \"Vi\u00c5\u00a1e\",\r\n        togglePaletteLessText: \"Manje\"\r\n    };\r\n\r\n    $.extend($.fn.spectrum.defaults, localization);\r\n\r\n})( jQuery );\r\n","Frame_Design/lib/bower_components/spectrum/i18n/jquery.spectrum-es.js":"// Spectrum Colorpicker\r\n// Spanish (es) localization\r\n// https://github.com/bgrins/spectrum\r\n\r\n(function ( $ ) {\r\n\r\n    var localization = $.spectrum.localization[\"es\"] = {\r\n        cancelText: \"Cancelar\",\r\n        chooseText: \"Elegir\",\r\n        clearText: \"Borrar color seleccionado\",\r\n        noColorSelectedText: \"Ning\u00c3\u00ban color seleccionado\",\r\n        togglePaletteMoreText: \"M\u00c3\u00a1s\",\r\n        togglePaletteLessText: \"Menos\"\r\n    };\r\n\r\n    $.extend($.fn.spectrum.defaults, localization);\r\n\r\n})( jQuery );\r\n","Frame_Design/lib/bower_components/spectrum/i18n/jquery.spectrum-it.js":"// Spectrum Colorpicker\r\n// Italian (it) localization\r\n// https://github.com/bgrins/spectrum\r\n\r\n(function ( $ ) {\r\n\r\n    var localization = $.spectrum.localization[\"it\"] = {\r\n\t\tcancelText: \"annulla\",\r\n\t\tchooseText: \"scegli\",\r\n\t\tclearText: \"Annulla selezione colore\",\r\n\t\tnoColorSelectedText: \"Nessun colore selezionato\"\r\n\t};\r\n\r\n    $.extend($.fn.spectrum.defaults, localization);\r\n\r\n})( jQuery );\r\n","Frame_Design/lib/bower_components/spectrum/i18n/jquery.spectrum-dk.js":"// Spectrum Colorpicker\r\n// Danish (dk) localization\r\n// https://github.com/bgrins/spectrum\r\n\r\n(function ( $ ) {\r\n\r\n    var localization = $.spectrum.localization[\"dk\"] = {\r\n\t\tcancelText: \"annuller\",\r\n\t\tchooseText: \"V\u00c3\u00a6lg\"\r\n    };\r\n\r\n    $.extend($.fn.spectrum.defaults, localization);\r\n\r\n})( jQuery );\r\n","Frame_Design/lib/bower_components/spectrum/i18n/jquery.spectrum-fr.js":"// Spectrum Colorpicker\r\n// French (fr) localization\r\n// https://github.com/bgrins/spectrum\r\n\r\n(function ( $ ) {\r\n\r\n    var localization = $.spectrum.localization[\"fr\"] = {\r\n        cancelText: \"Annuler\",\r\n        chooseText: \"Valider\",\r\n        clearText: \"Effacer couleur s\u00c3\u00a9lectionn\u00c3\u00a9e\",\r\n        noColorSelectedText: \"Aucune couleur s\u00c3\u00a9lectionn\u00c3\u00a9e\",\r\n        togglePaletteMoreText: \"Plus\",\r\n        togglePaletteLessText: \"Moins\"\r\n    };\r\n\r\n    $.extend($.fn.spectrum.defaults, localization);\r\n\r\n})( jQuery );\r\n"}
    }
});
